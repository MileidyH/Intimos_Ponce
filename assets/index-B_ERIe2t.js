var lI=Object.defineProperty;var uI=(n,e,t)=>e in n?lI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Hn=(n,e,t)=>uI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function cI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ef={exports:{}},wl={},Tf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function hI(){if(My)return je;My=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,$={};function L(F,J,_e){this.props=F,this.context=J,this.refs=$,this.updater=_e||A}L.prototype.isReactComponent={},L.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function Y(F,J,_e){this.props=F,this.context=J,this.refs=$,this.updater=_e||A}var Z=Y.prototype=new Q;Z.constructor=Y,b(Z,L.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,me=Object.prototype.hasOwnProperty,U={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(F,J,_e){var De,Ue={},Fe=null,et=null;if(J!=null)for(De in J.ref!==void 0&&(et=J.ref),J.key!==void 0&&(Fe=""+J.key),J)me.call(J,De)&&!x.hasOwnProperty(De)&&(Ue[De]=J[De]);var tt=arguments.length-2;if(tt===1)Ue.children=_e;else if(1<tt){for(var dt=Array(tt),Qe=0;Qe<tt;Qe++)dt[Qe]=arguments[Qe+2];Ue.children=dt}if(F&&F.defaultProps)for(De in tt=F.defaultProps,tt)Ue[De]===void 0&&(Ue[De]=tt[De]);return{$$typeof:n,type:F,key:Fe,ref:et,props:Ue,_owner:U.current}}function R(F,J){return{$$typeof:n,type:F.type,key:J,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(_e){return J[_e]})}var j=/\/+/g;function k(F,J){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):J.toString(36)}function ot(F,J,_e,De,Ue){var Fe=typeof F;(Fe==="undefined"||Fe==="boolean")&&(F=null);var et=!1;if(F===null)et=!0;else switch(Fe){case"string":case"number":et=!0;break;case"object":switch(F.$$typeof){case n:case e:et=!0}}if(et)return et=F,Ue=Ue(et),F=De===""?"."+k(et,0):De,oe(Ue)?(_e="",F!=null&&(_e=F.replace(j,"$&/")+"/"),ot(Ue,J,_e,"",function(Qe){return Qe})):Ue!=null&&(N(Ue)&&(Ue=R(Ue,_e+(!Ue.key||et&&et.key===Ue.key?"":(""+Ue.key).replace(j,"$&/")+"/")+F)),J.push(Ue)),1;if(et=0,De=De===""?".":De+":",oe(F))for(var tt=0;tt<F.length;tt++){Fe=F[tt];var dt=De+k(Fe,tt);et+=ot(Fe,J,_e,dt,Ue)}else if(dt=I(F),typeof dt=="function")for(F=dt.call(F),tt=0;!(Fe=F.next()).done;)Fe=Fe.value,dt=De+k(Fe,tt++),et+=ot(Fe,J,_e,dt,Ue);else if(Fe==="object")throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return et}function kt(F,J,_e){if(F==null)return F;var De=[],Ue=0;return ot(F,De,"","",function(Fe){return J.call(_e,Fe,Ue++)}),De}function He(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(_e){(F._status===0||F._status===-1)&&(F._status=1,F._result=_e)},function(_e){(F._status===0||F._status===-1)&&(F._status=2,F._result=_e)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var Ze={current:null},le={transition:null},Se={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:le,ReactCurrentOwner:U};function he(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:kt,forEach:function(F,J,_e){kt(F,function(){J.apply(this,arguments)},_e)},count:function(F){var J=0;return kt(F,function(){J++}),J},toArray:function(F){return kt(F,function(J){return J})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},je.Component=L,je.Fragment=t,je.Profiler=o,je.PureComponent=Y,je.StrictMode=i,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,je.act=he,je.cloneElement=function(F,J,_e){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var De=b({},F.props),Ue=F.key,Fe=F.ref,et=F._owner;if(J!=null){if(J.ref!==void 0&&(Fe=J.ref,et=U.current),J.key!==void 0&&(Ue=""+J.key),F.type&&F.type.defaultProps)var tt=F.type.defaultProps;for(dt in J)me.call(J,dt)&&!x.hasOwnProperty(dt)&&(De[dt]=J[dt]===void 0&&tt!==void 0?tt[dt]:J[dt])}var dt=arguments.length-2;if(dt===1)De.children=_e;else if(1<dt){tt=Array(dt);for(var Qe=0;Qe<dt;Qe++)tt[Qe]=arguments[Qe+2];De.children=tt}return{$$typeof:n,type:F.type,key:Ue,ref:Fe,props:De,_owner:et}},je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},je.createElement=S,je.createFactory=function(F){var J=S.bind(null,F);return J.type=F,J},je.createRef=function(){return{current:null}},je.forwardRef=function(F){return{$$typeof:d,render:F}},je.isValidElement=N,je.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:He}},je.memo=function(F,J){return{$$typeof:y,type:F,compare:J===void 0?null:J}},je.startTransition=function(F){var J=le.transition;le.transition={};try{F()}finally{le.transition=J}},je.unstable_act=he,je.useCallback=function(F,J){return Ze.current.useCallback(F,J)},je.useContext=function(F){return Ze.current.useContext(F)},je.useDebugValue=function(){},je.useDeferredValue=function(F){return Ze.current.useDeferredValue(F)},je.useEffect=function(F,J){return Ze.current.useEffect(F,J)},je.useId=function(){return Ze.current.useId()},je.useImperativeHandle=function(F,J,_e){return Ze.current.useImperativeHandle(F,J,_e)},je.useInsertionEffect=function(F,J){return Ze.current.useInsertionEffect(F,J)},je.useLayoutEffect=function(F,J){return Ze.current.useLayoutEffect(F,J)},je.useMemo=function(F,J){return Ze.current.useMemo(F,J)},je.useReducer=function(F,J,_e){return Ze.current.useReducer(F,J,_e)},je.useRef=function(F){return Ze.current.useRef(F)},je.useState=function(F){return Ze.current.useState(F)},je.useSyncExternalStore=function(F,J,_e){return Ze.current.useSyncExternalStore(F,J,_e)},je.useTransition=function(){return Ze.current.useTransition()},je.version="18.3.1",je}var Uy;function wp(){return Uy||(Uy=1,Tf.exports=hI()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function dI(){if(Fy)return wl;Fy=1;var n=wp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,y){var v,T={},I=null,A=null;y!==void 0&&(I=""+y),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(T[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)T[v]===void 0&&(T[v]=f[v]);return{$$typeof:e,type:d,key:I,ref:A,props:T,_owner:o.current}}return wl.Fragment=t,wl.jsx=c,wl.jsxs=c,wl}var jy;function fI(){return jy||(jy=1,Ef.exports=dI()),Ef.exports}var P=fI(),K=wp();const wo=cI(K);var Ec={},If={exports:{}},Nn={},Sf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function pI(){return zy||(zy=1,function(n){function e(le,Se){var he=le.length;le.push(Se);e:for(;0<he;){var F=he-1>>>1,J=le[F];if(0<o(J,Se))le[F]=Se,le[he]=J,he=F;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Se=le[0],he=le.pop();if(he!==Se){le[0]=he;e:for(var F=0,J=le.length,_e=J>>>1;F<_e;){var De=2*(F+1)-1,Ue=le[De],Fe=De+1,et=le[Fe];if(0>o(Ue,he))Fe<J&&0>o(et,Ue)?(le[F]=et,le[Fe]=he,F=Fe):(le[F]=Ue,le[De]=he,F=De);else if(Fe<J&&0>o(et,he))le[F]=et,le[Fe]=he,F=Fe;else break e}}return Se}function o(le,Se){var he=le.sortIndex-Se.sortIndex;return he!==0?he:le.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],y=[],v=1,T=null,I=3,A=!1,b=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(le){for(var Se=t(y);Se!==null;){if(Se.callback===null)i(y);else if(Se.startTime<=le)i(y),Se.sortIndex=Se.expirationTime,e(f,Se);else break;Se=t(y)}}function oe(le){if($=!1,Z(le),!b)if(t(f)!==null)b=!0,He(me);else{var Se=t(y);Se!==null&&Ze(oe,Se.startTime-le)}}function me(le,Se){b=!1,$&&($=!1,Q(S),S=-1),A=!0;var he=I;try{for(Z(Se),T=t(f);T!==null&&(!(T.expirationTime>Se)||le&&!V());){var F=T.callback;if(typeof F=="function"){T.callback=null,I=T.priorityLevel;var J=F(T.expirationTime<=Se);Se=n.unstable_now(),typeof J=="function"?T.callback=J:T===t(f)&&i(f),Z(Se)}else i(f);T=t(f)}if(T!==null)var _e=!0;else{var De=t(y);De!==null&&Ze(oe,De.startTime-Se),_e=!1}return _e}finally{T=null,I=he,A=!1}}var U=!1,x=null,S=-1,R=5,N=-1;function V(){return!(n.unstable_now()-N<R)}function j(){if(x!==null){var le=n.unstable_now();N=le;var Se=!0;try{Se=x(!0,le)}finally{Se?k():(U=!1,x=null)}}else U=!1}var k;if(typeof Y=="function")k=function(){Y(j)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,kt=ot.port2;ot.port1.onmessage=j,k=function(){kt.postMessage(null)}}else k=function(){L(j,0)};function He(le){x=le,U||(U=!0,k())}function Ze(le,Se){S=L(function(){le(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){b||A||(b=!0,He(me))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(I){case 1:case 2:case 3:var Se=3;break;default:Se=I}var he=I;I=Se;try{return le()}finally{I=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var he=I;I=le;try{return Se()}finally{I=he}},n.unstable_scheduleCallback=function(le,Se,he){var F=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?F+he:F):he=F,le){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=he+J,le={id:v++,callback:Se,priorityLevel:le,startTime:he,expirationTime:J,sortIndex:-1},he>F?(le.sortIndex=he,e(y,le),t(f)===null&&le===t(y)&&($?(Q(S),S=-1):$=!0,Ze(oe,he-F))):(le.sortIndex=J,e(f,le),b||A||(b=!0,He(me))),le},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(le){var Se=I;return function(){var he=I;I=Se;try{return le.apply(this,arguments)}finally{I=he}}}}(Rf)),Rf}var By;function mI(){return By||(By=1,Sf.exports=pI()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function gI(){if($y)return Nn;$y=1;var n=wp(),e=mI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function I(r){return f.call(T,r)?!0:f.call(v,r)?!1:y.test(r)?T[r]=!0:(v[r]=!0,!1)}function A(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,h){if(s===null||typeof s>"u"||A(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,l,h,p,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,Y);L[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,Y);L[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,Y);L[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,l,h){var p=L.hasOwnProperty(s)?L[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,p,h)&&(l=null),h||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),U=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ze=Symbol.for("react.offscreen"),le=Symbol.iterator;function Se(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,F;function J(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var _e=!1;function De(r,s){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),g=h.stack.split(`
`),w=p.length-1,C=g.length-1;1<=w&&0<=C&&p[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(p[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||p[w]!==g[C]){var O=`
`+p[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=C);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Ue(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=De(r.type,!1),r;case 11:return r=De(r.type.render,!1),r;case 1:return r=De(r.type,!0),r;default:return""}}function Fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case U:return"Portal";case R:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case ot:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case kt:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case He:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}function et(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function tt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qe(r){var s=dt(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function sn(r){r._valueTracker||(r._valueTracker=Qe(r))}function oi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=dt(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yn(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ui(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=tt(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ws(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function Fi(r,s){Ws(r,s);var l=tt(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ji(r,s.type,l):s.hasOwnProperty("defaultValue")&&ji(r,s.type,tt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Mo(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ji(r,s,l){(s!=="number"||kr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var dr=Array.isArray;function fr(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+tt(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Mn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qn(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(dr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:tt(l)}}function ai(r,s){var l=tt(s.value),h=tt(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function li(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ft(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ft(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xn,ui=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function xr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(r){Nr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),on[s]=on[r]})});function zi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||on.hasOwnProperty(r)&&on[r]?(""+s).trim():s+"px"}function Bi(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=zi(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Ks=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $i(r,s){if(s){if(Ks[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Dr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var br=null;function Or(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hi=null,_n=null,Yn=null;function ci(r){if(r=sl(r)){if(typeof Hi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Vu(s),Hi(r.stateNode,r.type,s))}}function vn(r){_n?Yn?Yn.push(r):Yn=[r]:_n=r}function Lr(){if(_n){var r=_n,s=Yn;if(Yn=_n=null,ci(r),s)for(r=0;r<s.length;r++)ci(s[r])}}function hi(r,s){return r(s)}function Gs(){}var D=!1;function z(r,s,l){if(D)return r(s,l);D=!0;try{return hi(r,s,l)}finally{D=!1,(_n!==null||Yn!==null)&&(Gs(),Lr())}}function q(r,s){var l=r.stateNode;if(l===null)return null;var h=Vu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ne=!1;if(d)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){ne=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{ne=!1}function Te(r,s,l,h,p,g,w,C,O){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(ie){this.onError(ie)}}var Ce=!1,ge=null,fe=!1,de=null,be={onError:function(r){Ce=!0,ge=r}};function Le(r,s,l,h,p,g,w,C,O){Ce=!1,ge=null,Te.apply(be,arguments)}function lt(r,s,l,h,p,g,w,C,O){if(Le.apply(this,arguments),Ce){if(Ce){var G=ge;Ce=!1,ge=null}else throw Error(t(198));fe||(fe=!0,de=G)}}function ut(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function it(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ze(r){if(ut(r)!==r)throw Error(t(188))}function Et(r){var s=r.alternate;if(!s){if(s=ut(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return ze(p),r;if(g===h)return ze(p),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=g;else{for(var w=!1,C=p.child;C;){if(C===l){w=!0,l=p,h=g;break}if(C===h){w=!0,h=p,l=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===l){w=!0,l=g,h=p;break}if(C===h){w=!0,h=g,l=p;break}C=C.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Jn(r){return r=Et(r),r!==null?Zn(r):null}function Zn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Zn(r);if(s!==null)return s;r=r.sibling}return null}var an=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,qi=e.unstable_shouldYield,di=e.unstable_requestPaint,Xe=e.unstable_now,fi=e.unstable_getCurrentPriorityLevel,er=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,Vr=e.unstable_LowPriority,Mr=e.unstable_IdlePriority,pt=null,Ot=null;function Qs(r){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:pu,$a=Math.log,fu=Math.LN2;function pu(r){return r>>>=0,r===0?32:31-($a(r)/fu|0)|0}var Uo=64,Fo=4194304;function Wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Xs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var C=w&~p;C!==0?h=Wi(C):(g&=w,g!==0&&(h=Wi(g)))}else w=l&~p,w!==0?h=Wi(w):g!==0&&(h=Wi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Qt(s),p=1<<l,h|=r[l],s&=~p;return h}function Xh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),C=1<<w,O=p[w];O===-1?(!(C&l)||C&h)&&(p[w]=Xh(C,s)):O<=s&&(r.expiredLanes|=C),g&=~C}}function Un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ys(){var r=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),r}function Ki(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Gi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=l}function mt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Qt(l),g=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~g}}function Qi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Qt(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var We=0;function Xi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var mu,jo,gu,yu,_u,Ha=!1,Ur=[],Xt=null,pr=null,mr=null,Yi=new Map,tr=new Map,Fr=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(r,s){switch(r){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(s.pointerId)}}function Sn(r,s,l,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},s!==null&&(s=sl(s),s!==null&&jo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Jh(r,s,l,h,p){switch(s){case"focusin":return Xt=Sn(Xt,r,s,l,h,p),!0;case"dragenter":return pr=Sn(pr,r,s,l,h,p),!0;case"mouseover":return mr=Sn(mr,r,s,l,h,p),!0;case"pointerover":var g=p.pointerId;return Yi.set(g,Sn(Yi.get(g)||null,r,s,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,tr.set(g,Sn(tr.get(g)||null,r,s,l,h,p)),!0}return!1}function wu(r){var s=no(r.target);if(s!==null){var l=ut(s);if(l!==null){if(s=l.tag,s===13){if(s=it(l),s!==null){r.blockedOn=s,_u(r.priority,function(){gu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=zo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);br=h,l.target.dispatchEvent(h),br=null}else return s=sl(l),s!==null&&jo(s),r.blockedOn=l,!1;s.shift()}return!0}function Js(r,s,l){mi(r)&&l.delete(s)}function Eu(){Ha=!1,Xt!==null&&mi(Xt)&&(Xt=null),pr!==null&&mi(pr)&&(pr=null),mr!==null&&mi(mr)&&(mr=null),Yi.forEach(Js),tr.forEach(Js)}function gr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eu)))}function yr(r){function s(p){return gr(p,r)}if(0<Ur.length){gr(Ur[0],r);for(var l=1;l<Ur.length;l++){var h=Ur[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Xt!==null&&gr(Xt,r),pr!==null&&gr(pr,r),mr!==null&&gr(mr,r),Yi.forEach(s),tr.forEach(s),l=0;l<Fr.length;l++)h=Fr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Fr.length&&(l=Fr[0],l.blockedOn===null);)wu(l),l.blockedOn===null&&Fr.shift()}var gi=oe.ReactCurrentBatchConfig,Ji=!0;function Tt(r,s,l,h){var p=We,g=gi.transition;gi.transition=null;try{We=1,qa(r,s,l,h)}finally{We=p,gi.transition=g}}function Zh(r,s,l,h){var p=We,g=gi.transition;gi.transition=null;try{We=4,qa(r,s,l,h)}finally{We=p,gi.transition=g}}function qa(r,s,l,h){if(Ji){var p=zo(r,s,l,h);if(p===null)cd(r,s,h,Zs,l),vu(r,h);else if(Jh(p,r,s,l,h))h.stopPropagation();else if(vu(r,h),s&4&&-1<Yh.indexOf(r)){for(;p!==null;){var g=sl(p);if(g!==null&&mu(g),g=zo(r,s,l,h),g===null&&cd(r,s,h,Zs,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else cd(r,s,h,null,l)}}var Zs=null;function zo(r,s,l,h){if(Zs=null,r=Or(h),r=no(r),r!==null)if(s=ut(r),s===null)r=null;else if(l=s.tag,l===13){if(r=it(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Zs=r,null}function Wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fi()){case er:return 1;case qe:return 4;case ct:case Vr:return 16;case Mr:return 536870912;default:return 16}default:return 16}}var Fn=null,Bo=null,Rn=null;function Ka(){if(Rn)return Rn;var r,s=Bo,l=s.length,h,p="value"in Fn?Fn.value:Fn.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===p[g-h];h++);return Rn=p.slice(r,1<h?1-h:void 0)}function $o(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Ga(){return!1}function Yt(r){function s(l,h,p,g,w){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?jr:Ga,this.isPropagationStopped=Ga,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Yt(_r),zr=he({},_r,{view:0,detail:0}),ed=Yt(zr),qo,yi,Zi,eo=he({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zi&&(Zi&&r.type==="mousemove"?(qo=r.screenX-Zi.screenX,yi=r.screenY-Zi.screenY):yi=qo=0,Zi=r),qo)},movementY:function(r){return"movementY"in r?r.movementY:yi}}),Wo=Yt(eo),Qa=he({},eo,{dataTransfer:0}),Tu=Yt(Qa),Ko=he({},zr,{relatedTarget:0}),Go=Yt(Ko),Iu=he({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Yt(Iu),Su=he({},_r,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ru=Yt(Su),Au=he({},_r,{data:0}),Xa=Yt(Au),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Cu[r])?!!s[r]:!1}function Br(){return Pu}var u=he({},zr,{key:function(r){if(r.key){var s=Qo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$o(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(r){return r.type==="keypress"?$o(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$o(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Yt(u),_=he({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Yt(_),B=he({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),X=Yt(B),ue=he({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Yt(ue),Ft=he({},eo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Yt(Ft),Ht=[9,13,27,32],Lt=d&&"CompositionEvent"in window,nr=null;d&&"documentMode"in document&&(nr=document.documentMode);var jn=d&&"TextEvent"in window&&!nr,to=d&&(!Lt||nr&&8<nr&&11>=nr),Xo=" ",Nm=!1;function Dm(r,s){switch(r){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yo=!1;function oT(r,s){switch(r){case"compositionend":return bm(s);case"keypress":return s.which!==32?null:(Nm=!0,Xo);case"textInput":return r=s.data,r===Xo&&Nm?null:r;default:return null}}function aT(r,s){if(Yo)return r==="compositionend"||!Lt&&Dm(r,s)?(r=Ka(),Rn=Bo=Fn=null,Yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return to&&s.locale!=="ko"?null:s.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!lT[r.type]:s==="textarea"}function Lm(r,s,l,h){vn(h),s=bu(s,"onChange"),0<s.length&&(l=new Ho("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ya=null,Ja=null;function uT(r){Zm(r,0)}function ku(r){var s=na(r);if(oi(s))return r}function cT(r,s){if(r==="change")return s}var Vm=!1;if(d){var td;if(d){var nd="oninput"in document;if(!nd){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),nd=typeof Mm.oninput=="function"}td=nd}else td=!1;Vm=td&&(!document.documentMode||9<document.documentMode)}function Um(){Ya&&(Ya.detachEvent("onpropertychange",Fm),Ja=Ya=null)}function Fm(r){if(r.propertyName==="value"&&ku(Ja)){var s=[];Lm(s,Ja,r,Or(r)),z(uT,s)}}function hT(r,s,l){r==="focusin"?(Um(),Ya=s,Ja=l,Ya.attachEvent("onpropertychange",Fm)):r==="focusout"&&Um()}function dT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Ja)}function fT(r,s){if(r==="click")return ku(s)}function pT(r,s){if(r==="input"||r==="change")return ku(s)}function mT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vr=typeof Object.is=="function"?Object.is:mT;function Za(r,s){if(vr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!vr(r[p],s[p]))return!1}return!0}function jm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zm(r,s){var l=jm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jm(l)}}function Bm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function $m(){for(var r=window,s=kr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=kr(r.document)}return s}function rd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function gT(r){var s=$m(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Bm(l.ownerDocument.documentElement,l)){if(h!==null&&rd(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=zm(l,g);var w=zm(l,h);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var yT=d&&"documentMode"in document&&11>=document.documentMode,Jo=null,id=null,el=null,sd=!1;function Hm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sd||Jo==null||Jo!==kr(h)||(h=Jo,"selectionStart"in h&&rd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),el&&Za(el,h)||(el=h,h=bu(id,"onSelect"),0<h.length&&(s=new Ho("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Jo)))}function xu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Zo={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},od={},qm={};d&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Nu(r){if(od[r])return od[r];if(!Zo[r])return r;var s=Zo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in qm)return od[r]=s[l];return r}var Wm=Nu("animationend"),Km=Nu("animationiteration"),Gm=Nu("animationstart"),Qm=Nu("transitionend"),Xm=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(r,s){Xm.set(r,s),a(s,[r])}for(var ad=0;ad<Ym.length;ad++){var ld=Ym[ad],_T=ld.toLowerCase(),vT=ld[0].toUpperCase()+ld.slice(1);es(_T,"on"+vT)}es(Wm,"onAnimationEnd"),es(Km,"onAnimationIteration"),es(Gm,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Qm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Jm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,lt(h,s,void 0,r),r.currentTarget=null}function Zm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var C=h[w],O=C.instance,G=C.currentTarget;if(C=C.listener,O!==g&&p.isPropagationStopped())break e;Jm(p,C,G),g=O}else for(w=0;w<h.length;w++){if(C=h[w],O=C.instance,G=C.currentTarget,C=C.listener,O!==g&&p.isPropagationStopped())break e;Jm(p,C,G),g=O}}}if(fe)throw r=de,fe=!1,de=null,r}function yt(r,s){var l=s[gd];l===void 0&&(l=s[gd]=new Set);var h=r+"__bubble";l.has(h)||(eg(s,r,2,!1),l.add(h))}function ud(r,s,l){var h=0;s&&(h|=4),eg(l,r,h,s)}var Du="_reactListening"+Math.random().toString(36).slice(2);function nl(r){if(!r[Du]){r[Du]=!0,i.forEach(function(l){l!=="selectionchange"&&(wT.has(l)||ud(l,!1,r),ud(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Du]||(s[Du]=!0,ud("selectionchange",!1,s))}}function eg(r,s,l,h){switch(Wa(s)){case 1:var p=Tt;break;case 4:p=Zh;break;default:p=qa}l=p.bind(null,s,l,r),p=void 0,!ne||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function cd(r,s,l,h,p){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var C=h.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;C!==null;){if(w=no(C),w===null)return;if(O=w.tag,O===5||O===6){h=g=w;continue e}C=C.parentNode}}h=h.return}z(function(){var G=g,ie=Or(l),se=[];e:{var re=Xm.get(r);if(re!==void 0){var pe=Ho,Ee=r;switch(r){case"keypress":if($o(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":Ee="focus",pe=Go;break;case"focusout":Ee="blur",pe=Go;break;case"beforeblur":case"afterblur":pe=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case Wm:case Km:case Gm:pe=_i;break;case Qm:pe=ht;break;case"scroll":pe=ed;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=E}var Ie=(s&4)!==0,xt=!Ie&&r==="scroll",H=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var M=G,W;M!==null;){W=M;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,H!==null&&(ae=q(M,H),ae!=null&&Ie.push(rl(M,ae,W)))),xt)break;M=M.return}0<Ie.length&&(re=new pe(re,Ee,null,l,ie),se.push({event:re,listeners:Ie}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",re&&l!==br&&(Ee=l.relatedTarget||l.fromElement)&&(no(Ee)||Ee[vi]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(Ee=l.relatedTarget||l.toElement,pe=G,Ee=Ee?no(Ee):null,Ee!==null&&(xt=ut(Ee),Ee!==xt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(pe=null,Ee=G),pe!==Ee)){if(Ie=Wo,ae="onMouseLeave",H="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=E,ae="onPointerLeave",H="onPointerEnter",M="pointer"),xt=pe==null?re:na(pe),W=Ee==null?re:na(Ee),re=new Ie(ae,M+"leave",pe,l,ie),re.target=xt,re.relatedTarget=W,ae=null,no(ie)===G&&(Ie=new Ie(H,M+"enter",Ee,l,ie),Ie.target=W,Ie.relatedTarget=xt,ae=Ie),xt=ae,pe&&Ee)t:{for(Ie=pe,H=Ee,M=0,W=Ie;W;W=ea(W))M++;for(W=0,ae=H;ae;ae=ea(ae))W++;for(;0<M-W;)Ie=ea(Ie),M--;for(;0<W-M;)H=ea(H),W--;for(;M--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=ea(Ie),H=ea(H)}Ie=null}else Ie=null;pe!==null&&tg(se,re,pe,Ie,!1),Ee!==null&&xt!==null&&tg(se,xt,Ee,Ie,!0)}}e:{if(re=G?na(G):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Re=cT;else if(Om(re))if(Vm)Re=pT;else{Re=dT;var Pe=hT}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Re=fT);if(Re&&(Re=Re(r,G))){Lm(se,Re,l,ie);break e}Pe&&Pe(r,re,G),r==="focusout"&&(Pe=re._wrapperState)&&Pe.controlled&&re.type==="number"&&ji(re,"number",re.value)}switch(Pe=G?na(G):window,r){case"focusin":(Om(Pe)||Pe.contentEditable==="true")&&(Jo=Pe,id=G,el=null);break;case"focusout":el=id=Jo=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Hm(se,l,ie);break;case"selectionchange":if(yT)break;case"keydown":case"keyup":Hm(se,l,ie)}var ke;if(Lt)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Yo?Dm(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(to&&l.locale!=="ko"&&(Yo||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Yo&&(ke=Ka()):(Fn=ie,Bo="value"in Fn?Fn.value:Fn.textContent,Yo=!0)),Pe=bu(G,Oe),0<Pe.length&&(Oe=new Xa(Oe,r,null,l,ie),se.push({event:Oe,listeners:Pe}),ke?Oe.data=ke:(ke=bm(l),ke!==null&&(Oe.data=ke)))),(ke=jn?oT(r,l):aT(r,l))&&(G=bu(G,"onBeforeInput"),0<G.length&&(ie=new Xa("onBeforeInput","beforeinput",null,l,ie),se.push({event:ie,listeners:G}),ie.data=ke))}Zm(se,s)})}function rl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function bu(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=q(r,l),g!=null&&h.unshift(rl(r,g,p)),g=q(r,s),g!=null&&h.push(rl(r,g,p))),r=r.return}return h}function ea(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tg(r,s,l,h,p){for(var g=s._reactName,w=[];l!==null&&l!==h;){var C=l,O=C.alternate,G=C.stateNode;if(O!==null&&O===h)break;C.tag===5&&G!==null&&(C=G,p?(O=q(l,g),O!=null&&w.unshift(rl(l,O,C))):p||(O=q(l,g),O!=null&&w.push(rl(l,O,C)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function ng(r){return(typeof r=="string"?r:""+r).replace(ET,`
`).replace(TT,"")}function Ou(r,s,l){if(s=ng(s),ng(r)!==s&&l)throw Error(t(425))}function Lu(){}var hd=null,dd=null;function fd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(r){return rg.resolve(null).then(r).catch(RT)}:pd;function RT(r){setTimeout(function(){throw r})}function md(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),yr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);yr(s)}function ts(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ig(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ta=Math.random().toString(36).slice(2),$r="__reactFiber$"+ta,il="__reactProps$"+ta,vi="__reactContainer$"+ta,gd="__reactEvents$"+ta,AT="__reactListeners$"+ta,CT="__reactHandles$"+ta;function no(r){var s=r[$r];if(s)return s;for(var l=r.parentNode;l;){if(s=l[vi]||l[$r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ig(r);r!==null;){if(l=r[$r])return l;r=ig(r)}return s}r=l,l=r.parentNode}return null}function sl(r){return r=r[$r]||r[vi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function na(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Vu(r){return r[il]||null}var yd=[],ra=-1;function ns(r){return{current:r}}function _t(r){0>ra||(r.current=yd[ra],yd[ra]=null,ra--)}function gt(r,s){ra++,yd[ra]=r.current,r.current=s}var rs={},un=ns(rs),An=ns(!1),ro=rs;function ia(r,s){var l=r.type.contextTypes;if(!l)return rs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Cn(r){return r=r.childContextTypes,r!=null}function Mu(){_t(An),_t(un)}function sg(r,s,l){if(un.current!==rs)throw Error(t(168));gt(un,s),gt(An,l)}function og(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,et(r)||"Unknown",p));return he({},l,h)}function Uu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||rs,ro=un.current,gt(un,r),gt(An,An.current),!0}function ag(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=og(r,s,ro),h.__reactInternalMemoizedMergedChildContext=r,_t(An),_t(un),gt(un,r)):_t(An),gt(An,l)}var wi=null,Fu=!1,_d=!1;function lg(r){wi===null?wi=[r]:wi.push(r)}function PT(r){Fu=!0,lg(r)}function is(){if(!_d&&wi!==null){_d=!0;var r=0,s=We;try{var l=wi;for(We=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}wi=null,Fu=!1}catch(p){throw wi!==null&&(wi=wi.slice(r+1)),an(er,is),p}finally{We=s,_d=!1}}return null}var sa=[],oa=0,ju=null,zu=0,rr=[],ir=0,io=null,Ei=1,Ti="";function so(r,s){sa[oa++]=zu,sa[oa++]=ju,ju=r,zu=s}function ug(r,s,l){rr[ir++]=Ei,rr[ir++]=Ti,rr[ir++]=io,io=r;var h=Ei;r=Ti;var p=32-Qt(h)-1;h&=~(1<<p),l+=1;var g=32-Qt(s)+p;if(30<g){var w=p-p%5;g=(h&(1<<w)-1).toString(32),h>>=w,p-=w,Ei=1<<32-Qt(s)+p|l<<p|h,Ti=g+r}else Ei=1<<g|l<<p|h,Ti=r}function vd(r){r.return!==null&&(so(r,1),ug(r,1,0))}function wd(r){for(;r===ju;)ju=sa[--oa],sa[oa]=null,zu=sa[--oa],sa[oa]=null;for(;r===io;)io=rr[--ir],rr[ir]=null,Ti=rr[--ir],rr[ir]=null,Ei=rr[--ir],rr[ir]=null}var zn=null,Bn=null,It=!1,wr=null;function cg(r,s){var l=lr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function hg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,zn=r,Bn=ts(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,zn=r,Bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=io!==null?{id:Ei,overflow:Ti}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=lr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,zn=r,Bn=null,!0):!1;default:return!1}}function Ed(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Td(r){if(It){var s=Bn;if(s){var l=s;if(!hg(r,s)){if(Ed(r))throw Error(t(418));s=ts(l.nextSibling);var h=zn;s&&hg(r,s)?cg(h,l):(r.flags=r.flags&-4097|2,It=!1,zn=r)}}else{if(Ed(r))throw Error(t(418));r.flags=r.flags&-4097|2,It=!1,zn=r}}}function dg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zn=r}function Bu(r){if(r!==zn)return!1;if(!It)return dg(r),It=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!fd(r.type,r.memoizedProps)),s&&(s=Bn)){if(Ed(r))throw fg(),Error(t(418));for(;s;)cg(r,s),s=ts(s.nextSibling)}if(dg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Bn=ts(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Bn=null}}else Bn=zn?ts(r.stateNode.nextSibling):null;return!0}function fg(){for(var r=Bn;r;)r=ts(r.nextSibling)}function aa(){Bn=zn=null,It=!1}function Id(r){wr===null?wr=[r]:wr.push(r)}var kT=oe.ReactCurrentBatchConfig;function ol(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=p.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function $u(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function pg(r){var s=r._init;return s(r._payload)}function mg(r){function s(H,M){if(r){var W=H.deletions;W===null?(H.deletions=[M],H.flags|=16):W.push(M)}}function l(H,M){if(!r)return null;for(;M!==null;)s(H,M),M=M.sibling;return null}function h(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function p(H,M){return H=ds(H,M),H.index=0,H.sibling=null,H}function g(H,M,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<M?(H.flags|=2,M):W):(H.flags|=2,M)):(H.flags|=1048576,M)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function C(H,M,W,ae){return M===null||M.tag!==6?(M=mf(W,H.mode,ae),M.return=H,M):(M=p(M,W),M.return=H,M)}function O(H,M,W,ae){var Re=W.type;return Re===x?ie(H,M,W.props.children,ae,W.key):M!==null&&(M.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===He&&pg(Re)===M.type)?(ae=p(M,W.props),ae.ref=ol(H,M,W),ae.return=H,ae):(ae=fc(W.type,W.key,W.props,null,H.mode,ae),ae.ref=ol(H,M,W),ae.return=H,ae)}function G(H,M,W,ae){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=gf(W,H.mode,ae),M.return=H,M):(M=p(M,W.children||[]),M.return=H,M)}function ie(H,M,W,ae,Re){return M===null||M.tag!==7?(M=po(W,H.mode,ae,Re),M.return=H,M):(M=p(M,W),M.return=H,M)}function se(H,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=mf(""+M,H.mode,W),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case me:return W=fc(M.type,M.key,M.props,null,H.mode,W),W.ref=ol(H,null,M),W.return=H,W;case U:return M=gf(M,H.mode,W),M.return=H,M;case He:var ae=M._init;return se(H,ae(M._payload),W)}if(dr(M)||Se(M))return M=po(M,H.mode,W,null),M.return=H,M;$u(H,M)}return null}function re(H,M,W,ae){var Re=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Re!==null?null:C(H,M,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case me:return W.key===Re?O(H,M,W,ae):null;case U:return W.key===Re?G(H,M,W,ae):null;case He:return Re=W._init,re(H,M,Re(W._payload),ae)}if(dr(W)||Se(W))return Re!==null?null:ie(H,M,W,ae,null);$u(H,W)}return null}function pe(H,M,W,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(W)||null,C(M,H,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case me:return H=H.get(ae.key===null?W:ae.key)||null,O(M,H,ae,Re);case U:return H=H.get(ae.key===null?W:ae.key)||null,G(M,H,ae,Re);case He:var Pe=ae._init;return pe(H,M,W,Pe(ae._payload),Re)}if(dr(ae)||Se(ae))return H=H.get(W)||null,ie(M,H,ae,Re,null);$u(M,ae)}return null}function Ee(H,M,W,ae){for(var Re=null,Pe=null,ke=M,Oe=M=0,Kt=null;ke!==null&&Oe<W.length;Oe++){ke.index>Oe?(Kt=ke,ke=null):Kt=ke.sibling;var rt=re(H,ke,W[Oe],ae);if(rt===null){ke===null&&(ke=Kt);break}r&&ke&&rt.alternate===null&&s(H,ke),M=g(rt,M,Oe),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt,ke=Kt}if(Oe===W.length)return l(H,ke),It&&so(H,Oe),Re;if(ke===null){for(;Oe<W.length;Oe++)ke=se(H,W[Oe],ae),ke!==null&&(M=g(ke,M,Oe),Pe===null?Re=ke:Pe.sibling=ke,Pe=ke);return It&&so(H,Oe),Re}for(ke=h(H,ke);Oe<W.length;Oe++)Kt=pe(ke,H,Oe,W[Oe],ae),Kt!==null&&(r&&Kt.alternate!==null&&ke.delete(Kt.key===null?Oe:Kt.key),M=g(Kt,M,Oe),Pe===null?Re=Kt:Pe.sibling=Kt,Pe=Kt);return r&&ke.forEach(function(fs){return s(H,fs)}),It&&so(H,Oe),Re}function Ie(H,M,W,ae){var Re=Se(W);if(typeof Re!="function")throw Error(t(150));if(W=Re.call(W),W==null)throw Error(t(151));for(var Pe=Re=null,ke=M,Oe=M=0,Kt=null,rt=W.next();ke!==null&&!rt.done;Oe++,rt=W.next()){ke.index>Oe?(Kt=ke,ke=null):Kt=ke.sibling;var fs=re(H,ke,rt.value,ae);if(fs===null){ke===null&&(ke=Kt);break}r&&ke&&fs.alternate===null&&s(H,ke),M=g(fs,M,Oe),Pe===null?Re=fs:Pe.sibling=fs,Pe=fs,ke=Kt}if(rt.done)return l(H,ke),It&&so(H,Oe),Re;if(ke===null){for(;!rt.done;Oe++,rt=W.next())rt=se(H,rt.value,ae),rt!==null&&(M=g(rt,M,Oe),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt);return It&&so(H,Oe),Re}for(ke=h(H,ke);!rt.done;Oe++,rt=W.next())rt=pe(ke,H,Oe,rt.value,ae),rt!==null&&(r&&rt.alternate!==null&&ke.delete(rt.key===null?Oe:rt.key),M=g(rt,M,Oe),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt);return r&&ke.forEach(function(aI){return s(H,aI)}),It&&so(H,Oe),Re}function xt(H,M,W,ae){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case me:e:{for(var Re=W.key,Pe=M;Pe!==null;){if(Pe.key===Re){if(Re=W.type,Re===x){if(Pe.tag===7){l(H,Pe.sibling),M=p(Pe,W.props.children),M.return=H,H=M;break e}}else if(Pe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===He&&pg(Re)===Pe.type){l(H,Pe.sibling),M=p(Pe,W.props),M.ref=ol(H,Pe,W),M.return=H,H=M;break e}l(H,Pe);break}else s(H,Pe);Pe=Pe.sibling}W.type===x?(M=po(W.props.children,H.mode,ae,W.key),M.return=H,H=M):(ae=fc(W.type,W.key,W.props,null,H.mode,ae),ae.ref=ol(H,M,W),ae.return=H,H=ae)}return w(H);case U:e:{for(Pe=W.key;M!==null;){if(M.key===Pe)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){l(H,M.sibling),M=p(M,W.children||[]),M.return=H,H=M;break e}else{l(H,M);break}else s(H,M);M=M.sibling}M=gf(W,H.mode,ae),M.return=H,H=M}return w(H);case He:return Pe=W._init,xt(H,M,Pe(W._payload),ae)}if(dr(W))return Ee(H,M,W,ae);if(Se(W))return Ie(H,M,W,ae);$u(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(l(H,M.sibling),M=p(M,W),M.return=H,H=M):(l(H,M),M=mf(W,H.mode,ae),M.return=H,H=M),w(H)):l(H,M)}return xt}var la=mg(!0),gg=mg(!1),Hu=ns(null),qu=null,ua=null,Sd=null;function Rd(){Sd=ua=qu=null}function Ad(r){var s=Hu.current;_t(Hu),r._currentValue=s}function Cd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function ca(r,s){qu=r,Sd=ua=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Pn=!0),r.firstContext=null)}function sr(r){var s=r._currentValue;if(Sd!==r)if(r={context:r,memoizedValue:s,next:null},ua===null){if(qu===null)throw Error(t(308));ua=r,qu.dependencies={lanes:0,firstContext:r}}else ua=ua.next=r;return s}var oo=null;function Pd(r){oo===null?oo=[r]:oo.push(r)}function yg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Pd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Ii(r,h)}function Ii(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ss=!1;function kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Si(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function os(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,nt&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Ii(r,l)}return p=h.interleaved,p===null?(s.next=s,Pd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Ii(r,l)}function Wu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Qi(r,l)}}function vg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Ku(r,s,l,h){var p=r.updateQueue;ss=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var O=C,G=O.next;O.next=null,w===null?g=G:w.next=G,w=O;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==w&&(C===null?ie.firstBaseUpdate=G:C.next=G,ie.lastBaseUpdate=O))}if(g!==null){var se=p.baseState;w=0,ie=G=O=null,C=g;do{var re=C.lane,pe=C.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Ee=r,Ie=C;switch(re=s,pe=l,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){se=Ee.call(pe,se,re);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,re=typeof Ee=="function"?Ee.call(pe,se,re):Ee,re==null)break e;se=he({},se,re);break e;case 2:ss=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[C]:re.push(C))}else pe={eventTime:pe,lane:re,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(G=ie=pe,O=se):ie=ie.next=pe,w|=re;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;re=C,C=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(O=se),p.baseState=O,p.firstBaseUpdate=G,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);uo|=w,r.lanes=w,r.memoizedState=se}}function wg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var al={},Hr=ns(al),ll=ns(al),ul=ns(al);function ao(r){if(r===al)throw Error(t(174));return r}function xd(r,s){switch(gt(ul,s),gt(ll,r),gt(Hr,al),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:at(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=at(s,r)}_t(Hr),gt(Hr,s)}function ha(){_t(Hr),_t(ll),_t(ul)}function Eg(r){ao(ul.current);var s=ao(Hr.current),l=at(s,r.type);s!==l&&(gt(ll,r),gt(Hr,l))}function Nd(r){ll.current===r&&(_t(Hr),_t(ll))}var St=ns(0);function Gu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dd=[];function bd(){for(var r=0;r<Dd.length;r++)Dd[r]._workInProgressVersionPrimary=null;Dd.length=0}var Qu=oe.ReactCurrentDispatcher,Od=oe.ReactCurrentBatchConfig,lo=0,Rt=null,jt=null,qt=null,Xu=!1,cl=!1,hl=0,xT=0;function cn(){throw Error(t(321))}function Ld(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!vr(r[l],s[l]))return!1;return!0}function Vd(r,s,l,h,p,g){if(lo=g,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qu.current=r===null||r.memoizedState===null?OT:LT,r=l(h,p),cl){g=0;do{if(cl=!1,hl=0,25<=g)throw Error(t(301));g+=1,qt=jt=null,s.updateQueue=null,Qu.current=VT,r=l(h,p)}while(cl)}if(Qu.current=Zu,s=jt!==null&&jt.next!==null,lo=0,qt=jt=Rt=null,Xu=!1,s)throw Error(t(300));return r}function Md(){var r=hl!==0;return hl=0,r}function qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Rt.memoizedState=qt=r:qt=qt.next=r,qt}function or(){if(jt===null){var r=Rt.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var s=qt===null?Rt.memoizedState:qt.next;if(s!==null)qt=s,jt=r;else{if(r===null)throw Error(t(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},qt===null?Rt.memoizedState=qt=r:qt=qt.next=r}return qt}function dl(r,s){return typeof s=="function"?s(r):s}function Ud(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=jt,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var C=w=null,O=null,G=g;do{var ie=G.lane;if((lo&ie)===ie)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var se={lane:ie,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(C=O=se,w=h):O=O.next=se,Rt.lanes|=ie,uo|=ie}G=G.next}while(G!==null&&G!==g);O===null?w=h:O.next=C,vr(h,s.memoizedState)||(Pn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do g=p.lane,Rt.lanes|=g,uo|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Fd(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);vr(g,s.memoizedState)||(Pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Tg(){}function Ig(r,s){var l=Rt,h=or(),p=s(),g=!vr(h.memoizedState,p);if(g&&(h.memoizedState=p,Pn=!0),h=h.queue,jd(Ag.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,fl(9,Rg.bind(null,l,h,p,s),void 0,null),Wt===null)throw Error(t(349));lo&30||Sg(l,s,p)}return p}function Sg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Rg(r,s,l,h){s.value=l,s.getSnapshot=h,Cg(s)&&Pg(r)}function Ag(r,s,l){return l(function(){Cg(s)&&Pg(r)})}function Cg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!vr(r,l)}catch{return!0}}function Pg(r){var s=Ii(r,1);s!==null&&Sr(s,r,1,-1)}function kg(r){var s=qr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:r},s.queue=r,r=r.dispatch=bT.bind(null,Rt,r),[s.memoizedState,r]}function fl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function xg(){return or().memoizedState}function Yu(r,s,l,h){var p=qr();Rt.flags|=r,p.memoizedState=fl(1|s,l,void 0,h===void 0?null:h)}function Ju(r,s,l,h){var p=or();h=h===void 0?null:h;var g=void 0;if(jt!==null){var w=jt.memoizedState;if(g=w.destroy,h!==null&&Ld(h,w.deps)){p.memoizedState=fl(s,l,g,h);return}}Rt.flags|=r,p.memoizedState=fl(1|s,l,g,h)}function Ng(r,s){return Yu(8390656,8,r,s)}function jd(r,s){return Ju(2048,8,r,s)}function Dg(r,s){return Ju(4,2,r,s)}function bg(r,s){return Ju(4,4,r,s)}function Og(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lg(r,s,l){return l=l!=null?l.concat([r]):null,Ju(4,4,Og.bind(null,s,r),l)}function zd(){}function Vg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Ld(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Mg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Ld(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Ug(r,s,l){return lo&21?(vr(l,s)||(l=Ys(),Rt.lanes|=l,uo|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Pn=!0),r.memoizedState=l)}function NT(r,s){var l=We;We=l!==0&&4>l?l:4,r(!0);var h=Od.transition;Od.transition={};try{r(!1),s()}finally{We=l,Od.transition=h}}function Fg(){return or().memoizedState}function DT(r,s,l){var h=cs(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},jg(r))zg(s,l);else if(l=yg(r,s,l,h),l!==null){var p=Tn();Sr(l,r,h,p),Bg(l,s,h)}}function bT(r,s,l){var h=cs(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(jg(r))zg(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,l);if(p.hasEagerState=!0,p.eagerState=C,vr(C,w)){var O=s.interleaved;O===null?(p.next=p,Pd(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=yg(r,s,p,h),l!==null&&(p=Tn(),Sr(l,r,h,p),Bg(l,s,h))}}function jg(r){var s=r.alternate;return r===Rt||s!==null&&s===Rt}function zg(r,s){cl=Xu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Bg(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Qi(r,l)}}var Zu={readContext:sr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},OT={readContext:sr,useCallback:function(r,s){return qr().memoizedState=[r,s===void 0?null:s],r},useContext:sr,useEffect:Ng,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Yu(4194308,4,Og.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Yu(4,2,r,s)},useMemo:function(r,s){var l=qr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=qr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=DT.bind(null,Rt,r),[h.memoizedState,r]},useRef:function(r){var s=qr();return r={current:r},s.memoizedState=r},useState:kg,useDebugValue:zd,useDeferredValue:function(r){return qr().memoizedState=r},useTransition:function(){var r=kg(!1),s=r[0];return r=NT.bind(null,r[1]),qr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=Rt,p=qr();if(It){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Wt===null)throw Error(t(349));lo&30||Sg(h,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Ng(Ag.bind(null,h,g,r),[r]),h.flags|=2048,fl(9,Rg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=qr(),s=Wt.identifierPrefix;if(It){var l=Ti,h=Ei;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=hl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},LT={readContext:sr,useCallback:Vg,useContext:sr,useEffect:jd,useImperativeHandle:Lg,useInsertionEffect:Dg,useLayoutEffect:bg,useMemo:Mg,useReducer:Ud,useRef:xg,useState:function(){return Ud(dl)},useDebugValue:zd,useDeferredValue:function(r){var s=or();return Ug(s,jt.memoizedState,r)},useTransition:function(){var r=Ud(dl)[0],s=or().memoizedState;return[r,s]},useMutableSource:Tg,useSyncExternalStore:Ig,useId:Fg,unstable_isNewReconciler:!1},VT={readContext:sr,useCallback:Vg,useContext:sr,useEffect:jd,useImperativeHandle:Lg,useInsertionEffect:Dg,useLayoutEffect:bg,useMemo:Mg,useReducer:Fd,useRef:xg,useState:function(){return Fd(dl)},useDebugValue:zd,useDeferredValue:function(r){var s=or();return jt===null?s.memoizedState=r:Ug(s,jt.memoizedState,r)},useTransition:function(){var r=Fd(dl)[0],s=or().memoizedState;return[r,s]},useMutableSource:Tg,useSyncExternalStore:Ig,useId:Fg,unstable_isNewReconciler:!1};function Er(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Bd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ec={isMounted:function(r){return(r=r._reactInternals)?ut(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Tn(),p=cs(r),g=Si(h,p);g.payload=s,l!=null&&(g.callback=l),s=os(r,g,p),s!==null&&(Sr(s,r,p,h),Wu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Tn(),p=cs(r),g=Si(h,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=os(r,g,p),s!==null&&(Sr(s,r,p,h),Wu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Tn(),h=cs(r),p=Si(l,h);p.tag=2,s!=null&&(p.callback=s),s=os(r,p,h),s!==null&&(Sr(s,r,h,l),Wu(s,r,h))}};function $g(r,s,l,h,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Za(l,h)||!Za(p,g):!0}function Hg(r,s,l){var h=!1,p=rs,g=s.contextType;return typeof g=="object"&&g!==null?g=sr(g):(p=Cn(s)?ro:un.current,h=s.contextTypes,g=(h=h!=null)?ia(r,p):rs),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ec,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function qg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&ec.enqueueReplaceState(s,s.state,null)}function $d(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},kd(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=sr(g):(g=Cn(s)?ro:un.current,p.context=ia(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Bd(r,s,g,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ec.enqueueReplaceState(p,p.state,null),Ku(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function da(r,s){try{var l="",h=s;do l+=Ue(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function Hd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function qd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function Wg(r,s,l){l=Si(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){ac||(ac=!0,af=h),qd(r,s)},l}function Kg(r,s,l){l=Si(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){qd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){qd(r,s),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Gg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new MT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=YT.bind(null,r,s,l),s.then(r,r))}function Qg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Xg(r,s,l,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Si(-1,1),s.tag=2,os(l,s,1))),l.lanes|=1),r)}var UT=oe.ReactCurrentOwner,Pn=!1;function En(r,s,l,h){s.child=r===null?gg(s,null,l,h):la(s,r.child,l,h)}function Yg(r,s,l,h,p){l=l.render;var g=s.ref;return ca(s,p),h=Vd(r,s,l,h,g,p),l=Md(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Ri(r,s,p)):(It&&l&&vd(s),s.flags|=1,En(r,s,h,p),s.child)}function Jg(r,s,l,h,p){if(r===null){var g=l.type;return typeof g=="function"&&!pf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Zg(r,s,g,h,p)):(r=fc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&p)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(w,h)&&r.ref===s.ref)return Ri(r,s,p)}return s.flags|=1,r=ds(g,h),r.ref=s.ref,r.return=s,s.child=r}function Zg(r,s,l,h,p){if(r!==null){var g=r.memoizedProps;if(Za(g,h)&&r.ref===s.ref)if(Pn=!1,s.pendingProps=h=g,(r.lanes&p)!==0)r.flags&131072&&(Pn=!0);else return s.lanes=r.lanes,Ri(r,s,p)}return Wd(r,s,l,h,p)}function ey(r,s,l){var h=s.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(pa,$n),$n|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,gt(pa,$n),$n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,gt(pa,$n),$n|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,gt(pa,$n),$n|=h;return En(r,s,p,l),s.child}function ty(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Wd(r,s,l,h,p){var g=Cn(l)?ro:un.current;return g=ia(s,g),ca(s,p),l=Vd(r,s,l,h,g,p),h=Md(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Ri(r,s,p)):(It&&h&&vd(s),s.flags|=1,En(r,s,l,p),s.child)}function ny(r,s,l,h,p){if(Cn(l)){var g=!0;Uu(s)}else g=!1;if(ca(s,p),s.stateNode===null)nc(r,s),Hg(s,l,h),$d(s,l,h,p),h=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var O=w.context,G=l.contextType;typeof G=="object"&&G!==null?G=sr(G):(G=Cn(l)?ro:un.current,G=ia(s,G));var ie=l.getDerivedStateFromProps,se=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==h||O!==G)&&qg(s,w,h,G),ss=!1;var re=s.memoizedState;w.state=re,Ku(s,h,w,p),O=s.memoizedState,C!==h||re!==O||An.current||ss?(typeof ie=="function"&&(Bd(s,l,ie,h),O=s.memoizedState),(C=ss||$g(s,l,C,h,re,O,G))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),w.props=h,w.state=O,w.context=G,h=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,_g(r,s),C=s.memoizedProps,G=s.type===s.elementType?C:Er(s.type,C),w.props=G,se=s.pendingProps,re=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=sr(O):(O=Cn(l)?ro:un.current,O=ia(s,O));var pe=l.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==se||re!==O)&&qg(s,w,h,O),ss=!1,re=s.memoizedState,w.state=re,Ku(s,h,w,p);var Ee=s.memoizedState;C!==se||re!==Ee||An.current||ss?(typeof pe=="function"&&(Bd(s,l,pe,h),Ee=s.memoizedState),(G=ss||$g(s,l,G,h,re,Ee,O)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ee,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ee,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ee),w.props=h,w.state=Ee,w.context=O,h=G):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return Kd(r,s,l,h,g,p)}function Kd(r,s,l,h,p,g){ty(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&ag(s,l,!1),Ri(r,s,g);h=s.stateNode,UT.current=s;var C=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=la(s,r.child,null,g),s.child=la(s,null,C,g)):En(r,s,C,g),s.memoizedState=h.state,p&&ag(s,l,!0),s.child}function ry(r){var s=r.stateNode;s.pendingContext?sg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&sg(r,s.context,!1),xd(r,s.containerInfo)}function iy(r,s,l,h,p){return aa(),Id(p),s.flags|=256,En(r,s,l,h),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Qd(r){return{baseLanes:r,cachePool:null,transitions:null}}function sy(r,s,l){var h=s.pendingProps,p=St.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),gt(St,p&1),r===null)return Td(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=pc(w,h,0,null),r=po(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Qd(l),s.memoizedState=Gd,r):Xd(s,w));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return FT(r,s,w,h,C,p,l);if(g){g=h.fallback,w=s.mode,p=r.child,C=p.sibling;var O={mode:"hidden",children:h.children};return!(w&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=ds(p,O),h.subtreeFlags=p.subtreeFlags&14680064),C!==null?g=ds(C,g):(g=po(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Qd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=Gd,h}return g=r.child,r=g.sibling,h=ds(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Xd(r,s){return s=pc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function tc(r,s,l,h){return h!==null&&Id(h),la(s,r.child,null,l),r=Xd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function FT(r,s,l,h,p,g,w){if(l)return s.flags&256?(s.flags&=-257,h=Hd(Error(t(422))),tc(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,p=s.mode,h=pc({mode:"visible",children:h.children},p,0,null),g=po(g,p,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&la(s,r.child,null,w),s.child.memoizedState=Qd(w),s.memoizedState=Gd,g);if(!(s.mode&1))return tc(r,s,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=Hd(g,h,void 0),tc(r,s,w,h)}if(C=(w&r.childLanes)!==0,Pn||C){if(h=Wt,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|w)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Ii(r,p),Sr(h,r,p,-1))}return ff(),h=Hd(Error(t(421))),tc(r,s,w,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=JT.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,Bn=ts(p.nextSibling),zn=s,It=!0,wr=null,r!==null&&(rr[ir++]=Ei,rr[ir++]=Ti,rr[ir++]=io,Ei=r.id,Ti=r.overflow,io=s),s=Xd(s,h.children),s.flags|=4096,s)}function oy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Cd(r.return,s,l)}function Yd(r,s,l,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function ay(r,s,l){var h=s.pendingProps,p=h.revealOrder,g=h.tail;if(En(r,s,h.children,l),h=St.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&oy(r,l,s);else if(r.tag===19)oy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(gt(St,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Gu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Yd(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Gu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Yd(s,!0,l,null,g);break;case"together":Yd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ri(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),uo|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=ds(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ds(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function jT(r,s,l){switch(s.tag){case 3:ry(s),aa();break;case 5:Eg(s);break;case 1:Cn(s.type)&&Uu(s);break;case 4:xd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;gt(Hu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(gt(St,St.current&1),s.flags|=128,null):l&s.child.childLanes?sy(r,s,l):(gt(St,St.current&1),r=Ri(r,s,l),r!==null?r.sibling:null);gt(St,St.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return ay(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(St,St.current),h)break;return null;case 22:case 23:return s.lanes=0,ey(r,s,l)}return Ri(r,s,l)}var ly,Jd,uy,cy;ly=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Jd=function(){},uy=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,ao(Hr.current);var g=null;switch(l){case"input":p=yn(r,p),h=yn(r,h),g=[];break;case"select":p=he({},p,{value:void 0}),h=he({},h,{value:void 0}),g=[];break;case"textarea":p=Mn(r,p),h=Mn(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Lu)}$i(l,h);var w;l=null;for(G in p)if(!h.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var C=p[G];for(w in C)C.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in h){var O=h[G];if(C=p!=null?p[G]:void 0,h.hasOwnProperty(G)&&O!==C&&(O!=null||C!=null))if(G==="style")if(C){for(w in C)!C.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&C[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(g||(g=[]),g.push(G,l)),l=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(g=g||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&yt("scroll",r),g||C===O||(g=[])):(g=g||[]).push(G,O))}l&&(g=g||[]).push("style",l);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},cy=function(r,s,l,h){l!==h&&(s.flags|=4)};function pl(r,s){if(!It)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function hn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function zT(r,s,l){var h=s.pendingProps;switch(wd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return Cn(s.type)&&Mu(),hn(s),null;case 3:return h=s.stateNode,ha(),_t(An),_t(un),bd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Bu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,wr!==null&&(cf(wr),wr=null))),Jd(r,s),hn(s),null;case 5:Nd(s);var p=ao(ul.current);if(l=s.type,r!==null&&s.stateNode!=null)uy(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return hn(s),null}if(r=ao(Hr.current),Bu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[$r]=s,h[il]=g,r=(s.mode&1)!==0,l){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(p=0;p<tl.length;p++)yt(tl[p],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":Ui(h,g),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},yt("invalid",h);break;case"textarea":Qn(h,g),yt("invalid",h)}$i(l,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&Ou(h.textContent,C,r),p=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Ou(h.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&yt("scroll",h)}switch(l){case"input":sn(h),Mo(h,g,!0);break;case"textarea":sn(h),li(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Lu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ft(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[$r]=s,r[il]=h,ly(r,s,!1,!1),s.stateNode=r;e:{switch(w=Dr(l,h),l){case"dialog":yt("cancel",r),yt("close",r),p=h;break;case"iframe":case"object":case"embed":yt("load",r),p=h;break;case"video":case"audio":for(p=0;p<tl.length;p++)yt(tl[p],r);p=h;break;case"source":yt("error",r),p=h;break;case"img":case"image":case"link":yt("error",r),yt("load",r),p=h;break;case"details":yt("toggle",r),p=h;break;case"input":Ui(r,h),p=yn(r,h),yt("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=he({},h,{value:void 0}),yt("invalid",r);break;case"textarea":Qn(r,h),p=Mn(r,h),yt("invalid",r);break;default:p=h}$i(l,p),C=p;for(g in C)if(C.hasOwnProperty(g)){var O=C[g];g==="style"?Bi(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ui(r,O)):g==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&xr(r,O):typeof O=="number"&&xr(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&yt("scroll",r):O!=null&&Z(r,g,O,w))}switch(l){case"input":sn(r),Mo(r,h,!1);break;case"textarea":sn(r),li(r);break;case"option":h.value!=null&&r.setAttribute("value",""+tt(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?fr(r,!!h.multiple,g,!1):h.defaultValue!=null&&fr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Lu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return hn(s),null;case 6:if(r&&s.stateNode!=null)cy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ao(ul.current),ao(Hr.current),Bu(s)){if(h=s.stateNode,l=s.memoizedProps,h[$r]=s,(g=h.nodeValue!==l)&&(r=zn,r!==null))switch(r.tag){case 3:Ou(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ou(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[$r]=s,s.stateNode=h}return hn(s),null;case 13:if(_t(St),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(It&&Bn!==null&&s.mode&1&&!(s.flags&128))fg(),aa(),s.flags|=98560,g=!1;else if(g=Bu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[$r]=s}else aa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;hn(s),g=!1}else wr!==null&&(cf(wr),wr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||St.current&1?zt===0&&(zt=3):ff())),s.updateQueue!==null&&(s.flags|=4),hn(s),null);case 4:return ha(),Jd(r,s),r===null&&nl(s.stateNode.containerInfo),hn(s),null;case 10:return Ad(s.type._context),hn(s),null;case 17:return Cn(s.type)&&Mu(),hn(s),null;case 19:if(_t(St),g=s.memoizedState,g===null)return hn(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)pl(g,!1);else{if(zt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Gu(r),w!==null){for(s.flags|=128,pl(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return gt(St,St.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>ma&&(s.flags|=128,h=!0,pl(g,!1),s.lanes=4194304)}else{if(!h)if(r=Gu(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),pl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!It)return hn(s),null}else 2*Xe()-g.renderingStartTime>ma&&l!==1073741824&&(s.flags|=128,h=!0,pl(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,l=St.current,gt(St,h?l&1|2:l&1),s):(hn(s),null);case 22:case 23:return df(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?$n&1073741824&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function BT(r,s){switch(wd(s),s.tag){case 1:return Cn(s.type)&&Mu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ha(),_t(An),_t(un),bd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Nd(s),null;case 13:if(_t(St),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));aa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(St),null;case 4:return ha(),null;case 10:return Ad(s.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var rc=!1,dn=!1,$T=typeof WeakSet=="function"?WeakSet:Set,ve=null;function fa(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Pt(r,s,h)}else l.current=null}function Zd(r,s,l){try{l()}catch(h){Pt(r,s,h)}}var hy=!1;function HT(r,s){if(hd=Ji,r=$m(),rd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,C=-1,O=-1,G=0,ie=0,se=r,re=null;t:for(;;){for(var pe;se!==l||p!==0&&se.nodeType!==3||(C=w+p),se!==g||h!==0&&se.nodeType!==3||(O=w+h),se.nodeType===3&&(w+=se.nodeValue.length),(pe=se.firstChild)!==null;)re=se,se=pe;for(;;){if(se===r)break t;if(re===l&&++G===p&&(C=w),re===g&&++ie===h&&(O=w),(pe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=pe}l=C===-1||O===-1?null:{start:C,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(dd={focusedElem:r,selectionRange:l},Ji=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Ee=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,xt=Ee.memoizedState,H=s.stateNode,M=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:Er(s.type,Ie),xt);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Pt(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Ee=hy,hy=!1,Ee}function ml(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Zd(s,l,g)}p=p.next}while(p!==h)}}function ic(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function ef(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function dy(r){var s=r.alternate;s!==null&&(r.alternate=null,dy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[$r],delete s[il],delete s[gd],delete s[AT],delete s[CT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fy(r){return r.tag===5||r.tag===3||r.tag===4}function py(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Lu));else if(h!==4&&(r=r.child,r!==null))for(tf(r,s,l),r=r.sibling;r!==null;)tf(r,s,l),r=r.sibling}function nf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(nf(r,s,l),r=r.sibling;r!==null;)nf(r,s,l),r=r.sibling}var Jt=null,Tr=!1;function as(r,s,l){for(l=l.child;l!==null;)my(r,s,l),l=l.sibling}function my(r,s,l){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(pt,l)}catch{}switch(l.tag){case 5:dn||fa(l,s);case 6:var h=Jt,p=Tr;Jt=null,as(r,s,l),Jt=h,Tr=p,Jt!==null&&(Tr?(r=Jt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(Tr?(r=Jt,l=l.stateNode,r.nodeType===8?md(r.parentNode,l):r.nodeType===1&&md(r,l),yr(r)):md(Jt,l.stateNode));break;case 4:h=Jt,p=Tr,Jt=l.stateNode.containerInfo,Tr=!0,as(r,s,l),Jt=h,Tr=p;break;case 0:case 11:case 14:case 15:if(!dn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Zd(l,s,w),p=p.next}while(p!==h)}as(r,s,l);break;case 1:if(!dn&&(fa(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){Pt(l,s,C)}as(r,s,l);break;case 21:as(r,s,l);break;case 22:l.mode&1?(dn=(h=dn)||l.memoizedState!==null,as(r,s,l),dn=h):as(r,s,l);break;default:as(r,s,l)}}function gy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new $T),s.forEach(function(h){var p=ZT.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Ir(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Jt=C.stateNode,Tr=!1;break e;case 3:Jt=C.stateNode.containerInfo,Tr=!0;break e;case 4:Jt=C.stateNode.containerInfo,Tr=!0;break e}C=C.return}if(Jt===null)throw Error(t(160));my(g,w,p),Jt=null,Tr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(G){Pt(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)yy(s,r),s=s.sibling}function yy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ir(s,r),Wr(r),h&4){try{ml(3,r,r.return),ic(3,r)}catch(Ie){Pt(r,r.return,Ie)}try{ml(5,r,r.return)}catch(Ie){Pt(r,r.return,Ie)}}break;case 1:Ir(s,r),Wr(r),h&512&&l!==null&&fa(l,l.return);break;case 5:if(Ir(s,r),Wr(r),h&512&&l!==null&&fa(l,l.return),r.flags&32){var p=r.stateNode;try{xr(p,"")}catch(Ie){Pt(r,r.return,Ie)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,C=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ws(p,g),Dr(C,w);var G=Dr(C,g);for(w=0;w<O.length;w+=2){var ie=O[w],se=O[w+1];ie==="style"?Bi(p,se):ie==="dangerouslySetInnerHTML"?ui(p,se):ie==="children"?xr(p,se):Z(p,ie,se,G)}switch(C){case"input":Fi(p,g);break;case"textarea":ai(p,g);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?fr(p,!!g.multiple,pe,!1):re!==!!g.multiple&&(g.defaultValue!=null?fr(p,!!g.multiple,g.defaultValue,!0):fr(p,!!g.multiple,g.multiple?[]:"",!1))}p[il]=g}catch(Ie){Pt(r,r.return,Ie)}}break;case 6:if(Ir(s,r),Wr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(Ie){Pt(r,r.return,Ie)}}break;case 3:if(Ir(s,r),Wr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{yr(s.containerInfo)}catch(Ie){Pt(r,r.return,Ie)}break;case 4:Ir(s,r),Wr(r);break;case 13:Ir(s,r),Wr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(of=Xe())),h&4&&gy(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(dn=(G=dn)||ie,Ir(s,r),dn=G):Ir(s,r),Wr(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ie&&r.mode&1)for(ve=r,ie=r.child;ie!==null;){for(se=ve=ie;ve!==null;){switch(re=ve,pe=re.child,re.tag){case 0:case 11:case 14:case 15:ml(4,re,re.return);break;case 1:fa(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=re,l=re.return;try{s=h,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(Ie){Pt(h,l,Ie)}}break;case 5:fa(re,re.return);break;case 22:if(re.memoizedState!==null){wy(se);continue}}pe!==null?(pe.return=re,ve=pe):wy(se)}ie=ie.sibling}e:for(ie=null,se=r;;){if(se.tag===5){if(ie===null){ie=se;try{p=se.stateNode,G?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=se.stateNode,O=se.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=zi("display",w))}catch(Ie){Pt(r,r.return,Ie)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(Ie){Pt(r,r.return,Ie)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Ir(s,r),Wr(r),h&4&&gy(r);break;case 21:break;default:Ir(s,r),Wr(r)}}function Wr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(fy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(xr(p,""),h.flags&=-33);var g=py(r);nf(r,g,p);break;case 3:case 4:var w=h.stateNode.containerInfo,C=py(r);tf(r,C,w);break;default:throw Error(t(161))}}catch(O){Pt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function qT(r,s,l){ve=r,_y(r)}function _y(r,s,l){for(var h=(r.mode&1)!==0;ve!==null;){var p=ve,g=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||rc;if(!w){var C=p.alternate,O=C!==null&&C.memoizedState!==null||dn;C=rc;var G=dn;if(rc=w,(dn=O)&&!G)for(ve=p;ve!==null;)w=ve,O=w.child,w.tag===22&&w.memoizedState!==null?Ey(p):O!==null?(O.return=w,ve=O):Ey(p);for(;g!==null;)ve=g,_y(g),g=g.sibling;ve=p,rc=C,dn=G}vy(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,ve=g):vy(r)}}function vy(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:dn||ic(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!dn)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Er(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&wg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}wg(s,w,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ie=G.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&yr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}dn||s.flags&512&&ef(s)}catch(re){Pt(s,s.return,re)}}if(s===r){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function wy(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Ey(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ic(4,s)}catch(O){Pt(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(O){Pt(s,p,O)}}var g=s.return;try{ef(s)}catch(O){Pt(s,g,O)}break;case 5:var w=s.return;try{ef(s)}catch(O){Pt(s,w,O)}}}catch(O){Pt(s,s.return,O)}if(s===r){ve=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ve=C;break}ve=s.return}}var WT=Math.ceil,sc=oe.ReactCurrentDispatcher,rf=oe.ReactCurrentOwner,ar=oe.ReactCurrentBatchConfig,nt=0,Wt=null,Vt=null,Zt=0,$n=0,pa=ns(0),zt=0,gl=null,uo=0,oc=0,sf=0,yl=null,kn=null,of=0,ma=1/0,Ai=null,ac=!1,af=null,ls=null,lc=!1,us=null,uc=0,_l=0,lf=null,cc=-1,hc=0;function Tn(){return nt&6?Xe():cc!==-1?cc:cc=Xe()}function cs(r){return r.mode&1?nt&2&&Zt!==0?Zt&-Zt:kT.transition!==null?(hc===0&&(hc=Ys()),hc):(r=We,r!==0||(r=window.event,r=r===void 0?16:Wa(r.type)),r):1}function Sr(r,s,l,h){if(50<_l)throw _l=0,lf=null,Error(t(185));Gi(r,l,h),(!(nt&2)||r!==Wt)&&(r===Wt&&(!(nt&2)&&(oc|=l),zt===4&&hs(r,Zt)),xn(r,h),l===1&&nt===0&&!(s.mode&1)&&(ma=Xe()+500,Fu&&is()))}function xn(r,s){var l=r.callbackNode;pi(r,s);var h=Xs(r,r===Wt?Zt:0);if(h===0)l!==null&&ln(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ln(l),s===1)r.tag===0?PT(Iy.bind(null,r)):lg(Iy.bind(null,r)),ST(function(){!(nt&6)&&is()}),l=null;else{switch(Xi(h)){case 1:l=er;break;case 4:l=qe;break;case 16:l=ct;break;case 536870912:l=Mr;break;default:l=ct}l=Ny(l,Ty.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ty(r,s){if(cc=-1,hc=0,nt&6)throw Error(t(327));var l=r.callbackNode;if(ga()&&r.callbackNode!==l)return null;var h=Xs(r,r===Wt?Zt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=dc(r,h);else{s=h;var p=nt;nt|=2;var g=Ry();(Wt!==r||Zt!==s)&&(Ai=null,ma=Xe()+500,ho(r,s));do try{QT();break}catch(C){Sy(r,C)}while(!0);Rd(),sc.current=g,nt=p,Vt!==null?s=0:(Wt=null,Zt=0,s=zt)}if(s!==0){if(s===2&&(p=Un(r),p!==0&&(h=p,s=uf(r,p))),s===1)throw l=gl,ho(r,0),hs(r,h),xn(r,Xe()),l;if(s===6)hs(r,h);else{if(p=r.current.alternate,!(h&30)&&!KT(p)&&(s=dc(r,h),s===2&&(g=Un(r),g!==0&&(h=g,s=uf(r,g))),s===1))throw l=gl,ho(r,0),hs(r,h),xn(r,Xe()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:fo(r,kn,Ai);break;case 3:if(hs(r,h),(h&130023424)===h&&(s=of+500-Xe(),10<s)){if(Xs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Tn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=pd(fo.bind(null,r,kn,Ai),s);break}fo(r,kn,Ai);break;case 4:if(hs(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var w=31-Qt(h);g=1<<w,w=s[w],w>p&&(p=w),h&=~g}if(h=p,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*WT(h/1960))-h,10<h){r.timeoutHandle=pd(fo.bind(null,r,kn,Ai),h);break}fo(r,kn,Ai);break;case 5:fo(r,kn,Ai);break;default:throw Error(t(329))}}}return xn(r,Xe()),r.callbackNode===l?Ty.bind(null,r):null}function uf(r,s){var l=yl;return r.current.memoizedState.isDehydrated&&(ho(r,s).flags|=256),r=dc(r,s),r!==2&&(s=kn,kn=l,s!==null&&cf(s)),r}function cf(r){kn===null?kn=r:kn.push.apply(kn,r)}function KT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!vr(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(r,s){for(s&=~sf,s&=~oc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;r[l]=-1,s&=~h}}function Iy(r){if(nt&6)throw Error(t(327));ga();var s=Xs(r,0);if(!(s&1))return xn(r,Xe()),null;var l=dc(r,s);if(r.tag!==0&&l===2){var h=Un(r);h!==0&&(s=h,l=uf(r,h))}if(l===1)throw l=gl,ho(r,0),hs(r,s),xn(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,fo(r,kn,Ai),xn(r,Xe()),null}function hf(r,s){var l=nt;nt|=1;try{return r(s)}finally{nt=l,nt===0&&(ma=Xe()+500,Fu&&is())}}function co(r){us!==null&&us.tag===0&&!(nt&6)&&ga();var s=nt;nt|=1;var l=ar.transition,h=We;try{if(ar.transition=null,We=1,r)return r()}finally{We=h,ar.transition=l,nt=s,!(nt&6)&&is()}}function df(){$n=pa.current,_t(pa)}function ho(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,IT(l)),Vt!==null)for(l=Vt.return;l!==null;){var h=l;switch(wd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Mu();break;case 3:ha(),_t(An),_t(un),bd();break;case 5:Nd(h);break;case 4:ha();break;case 13:_t(St);break;case 19:_t(St);break;case 10:Ad(h.type._context);break;case 22:case 23:df()}l=l.return}if(Wt=r,Vt=r=ds(r.current,null),Zt=$n=s,zt=0,gl=null,sf=oc=uo=0,kn=yl=null,oo!==null){for(s=0;s<oo.length;s++)if(l=oo[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=p,h.next=w}l.pending=h}oo=null}return r}function Sy(r,s){do{var l=Vt;try{if(Rd(),Qu.current=Zu,Xu){for(var h=Rt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Xu=!1}if(lo=0,qt=jt=Rt=null,cl=!1,hl=0,rf.current=null,l===null||l.return===null){zt=1,gl=s,Vt=null;break}e:{var g=r,w=l.return,C=l,O=s;if(s=Zt,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ie=C,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=Qg(w);if(pe!==null){pe.flags&=-257,Xg(pe,w,C,g,s),pe.mode&1&&Gg(g,G,s),s=pe,O=G;var Ee=s.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(O),s.updateQueue=Ie}else Ee.add(O);break e}else{if(!(s&1)){Gg(g,G,s),ff();break e}O=Error(t(426))}}else if(It&&C.mode&1){var xt=Qg(w);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),Xg(xt,w,C,g,s),Id(da(O,C));break e}}g=O=da(O,C),zt!==4&&(zt=2),yl===null?yl=[g]:yl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Wg(g,O,s);vg(g,H);break e;case 1:C=O;var M=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ls===null||!ls.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var ae=Kg(g,C,s);vg(g,ae);break e}}g=g.return}while(g!==null)}Cy(l)}catch(Re){s=Re,Vt===l&&l!==null&&(Vt=l=l.return);continue}break}while(!0)}function Ry(){var r=sc.current;return sc.current=Zu,r===null?Zu:r}function ff(){(zt===0||zt===3||zt===2)&&(zt=4),Wt===null||!(uo&268435455)&&!(oc&268435455)||hs(Wt,Zt)}function dc(r,s){var l=nt;nt|=2;var h=Ry();(Wt!==r||Zt!==s)&&(Ai=null,ho(r,s));do try{GT();break}catch(p){Sy(r,p)}while(!0);if(Rd(),nt=l,sc.current=h,Vt!==null)throw Error(t(261));return Wt=null,Zt=0,zt}function GT(){for(;Vt!==null;)Ay(Vt)}function QT(){for(;Vt!==null&&!qi();)Ay(Vt)}function Ay(r){var s=xy(r.alternate,r,$n);r.memoizedProps=r.pendingProps,s===null?Cy(r):Vt=s,rf.current=null}function Cy(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=BT(l,s),l!==null){l.flags&=32767,Vt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{zt=6,Vt=null;return}}else if(l=zT(l,s,$n),l!==null){Vt=l;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=r}while(s!==null);zt===0&&(zt=5)}function fo(r,s,l){var h=We,p=ar.transition;try{ar.transition=null,We=1,XT(r,s,l,h)}finally{ar.transition=p,We=h}return null}function XT(r,s,l,h){do ga();while(us!==null);if(nt&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(mt(r,g),r===Wt&&(Vt=Wt=null,Zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||lc||(lc=!0,Ny(ct,function(){return ga(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=ar.transition,ar.transition=null;var w=We;We=1;var C=nt;nt|=4,rf.current=null,HT(r,l),yy(l,r),gT(dd),Ji=!!hd,dd=hd=null,r.current=l,qT(l),di(),nt=C,We=w,ar.transition=g}else r.current=l;if(lc&&(lc=!1,us=r,uc=p),g=r.pendingLanes,g===0&&(ls=null),Qs(l.stateNode),xn(r,Xe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(ac)throw ac=!1,r=af,af=null,r;return uc&1&&r.tag!==0&&ga(),g=r.pendingLanes,g&1?r===lf?_l++:(_l=0,lf=r):_l=0,is(),null}function ga(){if(us!==null){var r=Xi(uc),s=ar.transition,l=We;try{if(ar.transition=null,We=16>r?16:r,us===null)var h=!1;else{if(r=us,us=null,uc=0,nt&6)throw Error(t(331));var p=nt;for(nt|=4,ve=r.current;ve!==null;){var g=ve,w=g.child;if(ve.flags&16){var C=g.deletions;if(C!==null){for(var O=0;O<C.length;O++){var G=C[O];for(ve=G;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:ml(8,ie,g)}var se=ie.child;if(se!==null)se.return=ie,ve=se;else for(;ve!==null;){ie=ve;var re=ie.sibling,pe=ie.return;if(dy(ie),ie===G){ve=null;break}if(re!==null){re.return=pe,ve=re;break}ve=pe}}}var Ee=g.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var xt=Ie.sibling;Ie.sibling=null,Ie=xt}while(Ie!==null)}}ve=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ve=w;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ml(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,ve=H;break e}ve=g.return}}var M=r.current;for(ve=M;ve!==null;){w=ve;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,ve=W;else e:for(w=M;ve!==null;){if(C=ve,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:ic(9,C)}}catch(Re){Pt(C,C.return,Re)}if(C===w){ve=null;break e}var ae=C.sibling;if(ae!==null){ae.return=C.return,ve=ae;break e}ve=C.return}}if(nt=p,is(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(pt,r)}catch{}h=!0}return h}finally{We=l,ar.transition=s}}return!1}function Py(r,s,l){s=da(l,s),s=Wg(r,s,1),r=os(r,s,1),s=Tn(),r!==null&&(Gi(r,1,s),xn(r,s))}function Pt(r,s,l){if(r.tag===3)Py(r,r,l);else for(;s!==null;){if(s.tag===3){Py(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ls===null||!ls.has(h))){r=da(l,r),r=Kg(s,r,1),s=os(s,r,1),r=Tn(),s!==null&&(Gi(s,1,r),xn(s,r));break}}s=s.return}}function YT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Tn(),r.pingedLanes|=r.suspendedLanes&l,Wt===r&&(Zt&l)===l&&(zt===4||zt===3&&(Zt&130023424)===Zt&&500>Xe()-of?ho(r,0):sf|=l),xn(r,s)}function ky(r,s){s===0&&(r.mode&1?(s=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):s=1);var l=Tn();r=Ii(r,s),r!==null&&(Gi(r,s,l),xn(r,l))}function JT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ky(r,l)}function ZT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ky(r,l)}var xy;xy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||An.current)Pn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return Pn=!1,jT(r,s,l);Pn=!!(r.flags&131072)}else Pn=!1,It&&s.flags&1048576&&ug(s,zu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;nc(r,s),r=s.pendingProps;var p=ia(s,un.current);ca(s,l),p=Vd(null,s,h,r,p,l);var g=Md();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Cn(h)?(g=!0,Uu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,kd(s),p.updater=ec,s.stateNode=p,p._reactInternals=s,$d(s,h,r,l),s=Kd(null,s,h,!0,g,l)):(s.tag=0,It&&g&&vd(s),En(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(nc(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=tI(h),r=Er(h,r),p){case 0:s=Wd(null,s,h,r,l);break e;case 1:s=ny(null,s,h,r,l);break e;case 11:s=Yg(null,s,h,r,l);break e;case 14:s=Jg(null,s,h,Er(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Er(h,p),Wd(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Er(h,p),ny(r,s,h,p,l);case 3:e:{if(ry(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,p=g.element,_g(r,s),Ku(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=da(Error(t(423)),s),s=iy(r,s,h,l,p);break e}else if(h!==p){p=da(Error(t(424)),s),s=iy(r,s,h,l,p);break e}else for(Bn=ts(s.stateNode.containerInfo.firstChild),zn=s,It=!0,wr=null,l=gg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(aa(),h===p){s=Ri(r,s,l);break e}En(r,s,h,l)}s=s.child}return s;case 5:return Eg(s),r===null&&Td(s),h=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,fd(h,p)?w=null:g!==null&&fd(h,g)&&(s.flags|=32),ty(r,s),En(r,s,w,l),s.child;case 6:return r===null&&Td(s),null;case 13:return sy(r,s,l);case 4:return xd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=la(s,null,h,l):En(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Er(h,p),Yg(r,s,h,p,l);case 7:return En(r,s,s.pendingProps,l),s.child;case 8:return En(r,s,s.pendingProps.children,l),s.child;case 12:return En(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,g=s.memoizedProps,w=p.value,gt(Hu,h._currentValue),h._currentValue=w,g!==null)if(vr(g.value,w)){if(g.children===p.children&&!An.current){s=Ri(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var O=C.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Si(-1,l&-l),O.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var ie=G.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),G.pending=O}}g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),Cd(g.return,l,s),C.lanes|=l;break}O=O.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,C=w.alternate,C!==null&&(C.lanes|=l),Cd(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}En(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,ca(s,l),p=sr(p),h=h(p),s.flags|=1,En(r,s,h,l),s.child;case 14:return h=s.type,p=Er(h,s.pendingProps),p=Er(h.type,p),Jg(r,s,h,p,l);case 15:return Zg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Er(h,p),nc(r,s),s.tag=1,Cn(h)?(r=!0,Uu(s)):r=!1,ca(s,l),Hg(s,h,p),$d(s,h,p,l),Kd(null,s,h,!0,r,l);case 19:return ay(r,s,l);case 22:return ey(r,s,l)}throw Error(t(156,s.tag))};function Ny(r,s){return an(r,s)}function eI(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,l,h){return new eI(r,s,l,h)}function pf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tI(r){if(typeof r=="function")return pf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===kt)return 14}return 2}function ds(r,s){var l=r.alternate;return l===null?(l=lr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function fc(r,s,l,h,p,g){var w=2;if(h=r,typeof r=="function")pf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return po(l.children,p,g,s);case S:w=8,p|=8;break;case R:return r=lr(12,l,s,p|2),r.elementType=R,r.lanes=g,r;case k:return r=lr(13,l,s,p),r.elementType=k,r.lanes=g,r;case ot:return r=lr(19,l,s,p),r.elementType=ot,r.lanes=g,r;case Ze:return pc(l,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case V:w=9;break e;case j:w=11;break e;case kt:w=14;break e;case He:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=lr(w,l,s,p),s.elementType=r,s.type=h,s.lanes=g,s}function po(r,s,l,h){return r=lr(7,r,h,s),r.lanes=l,r}function pc(r,s,l,h){return r=lr(22,r,h,s),r.elementType=Ze,r.lanes=l,r.stateNode={isHidden:!1},r}function mf(r,s,l){return r=lr(6,r,null,s),r.lanes=l,r}function gf(r,s,l){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function nI(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function yf(r,s,l,h,p,g,w,C,O){return r=new nI(r,s,l,C,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=lr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(g),r}function rI(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Dy(r){if(!r)return rs;r=r._reactInternals;e:{if(ut(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Cn(l))return og(r,l,s)}return s}function by(r,s,l,h,p,g,w,C,O){return r=yf(l,h,!0,r,p,g,w,C,O),r.context=Dy(null),l=r.current,h=Tn(),p=cs(l),g=Si(h,p),g.callback=s??null,os(l,g,p),r.current.lanes=p,Gi(r,p,h),xn(r,h),r}function mc(r,s,l,h){var p=s.current,g=Tn(),w=cs(p);return l=Dy(l),s.context===null?s.context=l:s.pendingContext=l,s=Si(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=os(p,s,w),r!==null&&(Sr(r,p,w,g),Wu(r,p,w)),w}function gc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Oy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _f(r,s){Oy(r,s),(r=r.alternate)&&Oy(r,s)}var Ly=typeof reportError=="function"?reportError:function(r){console.error(r)};function vf(r){this._internalRoot=r}yc.prototype.render=vf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));mc(r,s,null,null)},yc.prototype.unmount=vf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;co(function(){mc(null,r,null,null)}),s[vi]=null}};function yc(r){this._internalRoot=r}yc.prototype.unstable_scheduleHydration=function(r){if(r){var s=yu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Fr.length&&s!==0&&s<Fr[l].priority;l++);Fr.splice(l,0,r),l===0&&wu(r)}};function wf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function _c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function iI(r,s,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var G=gc(w);g.call(G)}}var w=by(s,h,r,0,null,!1,!1,"",Vy);return r._reactRootContainer=w,r[vi]=w.current,nl(r.nodeType===8?r.parentNode:r),co(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var C=h;h=function(){var G=gc(O);C.call(G)}}var O=yf(r,0,!1,null,null,!1,!1,"",Vy);return r._reactRootContainer=O,r[vi]=O.current,nl(r.nodeType===8?r.parentNode:r),co(function(){mc(s,O,l,h)}),O}function vc(r,s,l,h,p){var g=l._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var C=p;p=function(){var O=gc(w);C.call(O)}}mc(s,w,r,p)}else w=iI(l,s,r,p,h);return gc(w)}mu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Wi(s.pendingLanes);l!==0&&(Qi(s,l|1),xn(s,Xe()),!(nt&6)&&(ma=Xe()+500,is()))}break;case 13:co(function(){var h=Ii(r,1);if(h!==null){var p=Tn();Sr(h,r,1,p)}}),_f(r,1)}},jo=function(r){if(r.tag===13){var s=Ii(r,134217728);if(s!==null){var l=Tn();Sr(s,r,134217728,l)}_f(r,134217728)}},gu=function(r){if(r.tag===13){var s=cs(r),l=Ii(r,s);if(l!==null){var h=Tn();Sr(l,r,s,h)}_f(r,s)}},yu=function(){return We},_u=function(r,s){var l=We;try{return We=r,s()}finally{We=l}},Hi=function(r,s,l){switch(s){case"input":if(Fi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=Vu(h);if(!p)throw Error(t(90));oi(h),Fi(h,p)}}}break;case"textarea":ai(r,l);break;case"select":s=l.value,s!=null&&fr(r,!!l.multiple,s,!1)}},hi=hf,Gs=co;var sI={usingClientEntryPoint:!1,Events:[sl,na,Vu,vn,Lr,hf]},vl={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oI={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jn(r),r===null?null:r.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{pt=wc.inject(oI),Ot=wc}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI,Nn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(s))throw Error(t(200));return rI(r,s,null,l)},Nn.createRoot=function(r,s){if(!wf(r))throw Error(t(299));var l=!1,h="",p=Ly;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=yf(r,1,!1,null,null,l,!1,h,p),r[vi]=s.current,nl(r.nodeType===8?r.parentNode:r),new vf(s)},Nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Jn(s),r=r===null?null:r.stateNode,r},Nn.flushSync=function(r){return co(r)},Nn.hydrate=function(r,s,l){if(!_c(s))throw Error(t(200));return vc(null,r,s,!0,l)},Nn.hydrateRoot=function(r,s,l){if(!wf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",w=Ly;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=by(s,null,r,1,l??null,p,!1,g,w),r[vi]=s.current,nl(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new yc(s)},Nn.render=function(r,s,l){if(!_c(s))throw Error(t(200));return vc(null,r,s,!1,l)},Nn.unmountComponentAtNode=function(r){if(!_c(r))throw Error(t(40));return r._reactRootContainer?(co(function(){vc(null,null,r,!1,function(){r._reactRootContainer=null,r[vi]=null})}),!0):!1},Nn.unstable_batchedUpdates=hf,Nn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!_c(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return vc(r,s,l,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Hy;function Gv(){if(Hy)return If.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),If.exports=gI(),If.exports}var qy;function yI(){if(qy)return Ec;qy=1;var n=Gv();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var _I=yI(),El={},Wy;function vI(){if(Wy)return El;Wy=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=c,El.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,A){const b=new a,$=I.length;if($<2)return b;const L=(A==null?void 0:A.decode)||v;let Q=0;do{const Y=I.indexOf("=",Q);if(Y===-1)break;const Z=I.indexOf(";",Q),oe=Z===-1?$:Z;if(Y>oe){Q=I.lastIndexOf(";",Y-1)+1;continue}const me=d(I,Q,Y),U=f(I,Y,me),x=I.slice(me,U);if(b[x]===void 0){let S=d(I,Y+1,oe),R=f(I,oe,S);const N=L(I.slice(S,R));b[x]=N}Q=oe+1}while(Q<$);return b}function d(I,A,b){do{const $=I.charCodeAt(A);if($!==32&&$!==9)return A}while(++A<b);return b}function f(I,A,b){for(;A>b;){const $=I.charCodeAt(--A);if($!==32&&$!==9)return A+1}return b}function y(I,A,b){const $=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const L=$(A);if(!e.test(L))throw new TypeError(`argument val is invalid: ${A}`);let Q=I+"="+L;if(!b)return Q;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);Q+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);Q+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);Q+="; Path="+b.path}if(b.expires){if(!T(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);Q+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(Q+="; HttpOnly"),b.secure&&(Q+="; Secure"),b.partitioned&&(Q+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return Q}function v(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return El}vI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ky="popstate";function wI(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Ul("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Ps(o)}return TI(e,t,null,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EI(){return Math.random().toString(36).substring(2,10)}function Gy(n,e){return{usr:n.state,key:n.key,idx:e}}function Ul(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Us(e):e,state:t,key:e&&e.key||i||EI()}}function Ps({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Us(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function TI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",f=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let L=v(),Q=L==null?null:L-y;y=L,f&&f({action:d,location:$.location,delta:Q})}function I(L,Q){d="PUSH";let Y=Ul($.location,L,Q);y=v()+1;let Z=Gy(Y,y),oe=$.createHref(Y);try{c.pushState(Z,"",oe)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(oe)}a&&f&&f({action:d,location:$.location,delta:1})}function A(L,Q){d="REPLACE";let Y=Ul($.location,L,Q);y=v();let Z=Gy(Y,y),oe=$.createHref(Y);c.replaceState(Z,"",oe),a&&f&&f({action:d,location:$.location,delta:0})}function b(L){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof L=="string"?L:Ps(L);return Y=Y.replace(/ $/,"%20"),Ge(Q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,Q)}let $={get action(){return d},get location(){return n(o,c)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Ky,T),f=L,()=>{o.removeEventListener(Ky,T),f=null}},createHref(L){return e(o,L)},createURL:b,encodeLocation(L){let Q=b(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:A,go(L){return c.go(L)}};return $}var II=new Set(["lazy","caseSensitive","path","id","index","children"]);function SI(n){return n.index===!0}function Wc(n,e,t=[],i={}){return n.map((o,a)=>{let c=[...t,String(a)],d=typeof o.id=="string"?o.id:c.join("-");if(Ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ge(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),SI(o)){let f={...o,...e(o),id:d};return i[d]=f,f}else{let f={...o,...e(o),id:d,children:void 0};return i[d]=f,o.children&&(f.children=Wc(o.children,e,c,i)),f}})}function gs(n,e,t="/"){return bc(n,e,t,!1)}function bc(n,e,t,i){let o=typeof e=="string"?Us(e):e,a=Ar(o.pathname||"/",t);if(a==null)return null;let c=Qv(n);AI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let y=MI(a);d=LI(c[f],y,i)}return d}function RI(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Qv(n,e=[],t=[],i=""){let o=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let y=Qr([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Ge(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Qv(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:bI(y,a.index),routesMeta:v})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let f of Xv(a.path))o(a,c,f)}),e}function Xv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Xv(i.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function AI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CI=/^:[\w-]+$/,PI=3,kI=2,xI=1,NI=10,DI=-2,Qy=n=>n==="*";function bI(n,e){let t=n.split("/"),i=t.length;return t.some(Qy)&&(i+=DI),e&&(i+=kI),t.filter(o=>!Qy(o)).reduce((o,a)=>o+(CI.test(a)?PI:a===""?xI:NI),i)}function OI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function LI(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],y=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",T=Kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),I=f.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=Kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Qr([a,T.pathname]),pathnameBase:jI(Qr([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=Qr([a,T.pathnameBase]))}return c}function Kc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=VI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:T},I)=>{if(v==="*"){let b=d[I]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const A=d[I];return T&&!A?y[v]=void 0:y[v]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function VI(n,e=!1,t=!0){nn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function MI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ar(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Us(n):n;return{pathname:t?t.startsWith("/")?t:FI(t,e):e,search:zI(i),hash:BI(o)}}function FI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Af(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ep(n){let e=Yv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Tp(n,e,t,i=!1){let o;typeof n=="string"?o=Us(n):(o={...n},Ge(!o.pathname||!o.pathname.includes("?"),Af("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),Af("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),Af("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let f=UI(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),jI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Fl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jv=["POST","PUT","PATCH","DELETE"],$I=new Set(Jv),HI=["GET",...Jv],qI=new Set(HI),WI=new Set([301,302,303,307,308]),KI=new Set([307,308]),Cf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Zv="remix-router-transitions",e0=Symbol("ResetLoaderData");function XI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||QI,o={},a=Wc(n.routes,i,void 0,o),c,d=n.basename||"/",f=n.dataStrategy||t1,y=n.patchRoutesOnNavigation,v={...n.future},T=null,I=new Set,A=null,b=null,$=null,L=n.hydrationData!=null,Q=gs(a,n.history.location,d),Y=!1,Z=null;if(Q==null&&!y){let D=ur(404,{pathname:n.history.location.pathname}),{matches:z,route:q}=o_(a);Q=z,Z={[q.id]:D}}Q&&!n.hydrationData&&vn(Q,a,n.history.location.pathname).active&&(Q=null);let oe;if(Q)if(Q.some(D=>D.route.lazy))oe=!1;else if(!Q.some(D=>D.route.loader))oe=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let q=Q.findIndex(ne=>z[ne.route.id]!==void 0);oe=Q.slice(0,q+1).every(ne=>!qf(ne.route,D,z))}else oe=Q.every(q=>!qf(q.route,D,z))}else{oe=!1,Q=[];let D=vn(null,a,n.history.location.pathname);D.active&&D.matches&&(Y=!0,Q=D.matches)}let me,U={historyAction:n.history.action,location:n.history.location,matches:Q,initialized:oe,navigation:Cf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},x="POP",S=!1,R,N=!1,V=new Map,j=null,k=!1,ot=!1,kt=new Set,He=new Map,Ze=0,le=-1,Se=new Map,he=new Set,F=new Map,J=new Map,_e=new Set,De=new Map,Ue,Fe=null;function et(){if(T=n.history.listen(({action:D,location:z,delta:q})=>{if(Ue){Ue(),Ue=void 0;return}nn(De.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=br({currentLocation:U.location,nextLocation:z,historyAction:D});if(ne&&q!=null){let ce=new Promise(Te=>{Ue=Te});n.history.go(q*-1),Dr(ne,{state:"blocked",location:z,proceed(){Dr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),ce.then(()=>n.history.go(q))},reset(){let Te=new Map(U.blockers);Te.set(ne,Tl),Qe({blockers:Te})}});return}return yn(D,z)}),t){d1(e,V);let D=()=>f1(e,V);e.addEventListener("pagehide",D),j=()=>e.removeEventListener("pagehide",D)}return U.initialized||yn("POP",U.location,{initialHydration:!0}),me}function tt(){T&&T(),j&&j(),I.clear(),R&&R.abort(),U.fetchers.forEach((D,z)=>ui(z)),U.blockers.forEach((D,z)=>$i(z))}function dt(D){return I.add(D),()=>I.delete(D)}function Qe(D,z={}){U={...U,...D};let q=[],ne=[];U.fetchers.forEach((ce,Te)=>{ce.state==="idle"&&(_e.has(Te)?q.push(Te):ne.push(Te))}),_e.forEach(ce=>{!U.fetchers.has(ce)&&!He.has(ce)&&q.push(ce)}),[...I].forEach(ce=>ce(U,{deletedFetchers:q,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),q.forEach(ce=>ui(ce)),ne.forEach(ce=>U.fetchers.delete(ce))}function sn(D,z,{flushSync:q}={}){var de,be;let ne=U.actionData!=null&&U.navigation.formMethod!=null&&Rr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((de=D.state)==null?void 0:de._isRedirect)!==!0,ce;z.actionData?Object.keys(z.actionData).length>0?ce=z.actionData:ce=null:ne?ce=U.actionData:ce=null;let Te=z.loaderData?i_(U.loaderData,z.loaderData,z.matches||[],z.errors):U.loaderData,Ce=U.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Le,lt)=>Ce.set(lt,Tl)));let ge=S===!0||U.navigation.formMethod!=null&&Rr(U.navigation.formMethod)&&((be=D.state)==null?void 0:be._isRedirect)!==!0;c&&(a=c,c=void 0),k||x==="POP"||(x==="PUSH"?n.history.push(D,D.state):x==="REPLACE"&&n.history.replace(D,D.state));let fe;if(x==="POP"){let Le=V.get(U.location.pathname);Le&&Le.has(D.pathname)?fe={currentLocation:U.location,nextLocation:D}:V.has(D.pathname)&&(fe={currentLocation:D,nextLocation:U.location})}else if(N){let Le=V.get(U.location.pathname);Le?Le.add(D.pathname):(Le=new Set([D.pathname]),V.set(U.location.pathname,Le)),fe={currentLocation:U.location,nextLocation:D}}Qe({...z,actionData:ce,loaderData:Te,historyAction:x,location:D,initialized:!0,navigation:Cf,revalidation:"idle",restoreScrollPosition:ci(D,z.matches||U.matches),preventScrollReset:ge,blockers:Ce},{viewTransitionOpts:fe,flushSync:q===!0}),x="POP",S=!1,N=!1,k=!1,ot=!1,Fe==null||Fe.resolve(),Fe=null}async function oi(D,z){if(typeof D=="number"){n.history.go(D);return}let q=Hf(U.location,U.matches,d,D,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:ce,error:Te}=Xy(!1,q,z),Ce=U.location,ge=Ul(U.location,ne,z&&z.state);ge={...ge,...n.history.encodeLocation(ge)};let fe=z&&z.replace!=null?z.replace:void 0,de="PUSH";fe===!0?de="REPLACE":fe===!1||ce!=null&&Rr(ce.formMethod)&&ce.formAction===U.location.pathname+U.location.search&&(de="REPLACE");let be=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Le=(z&&z.flushSync)===!0,lt=br({currentLocation:Ce,nextLocation:ge,historyAction:de});if(lt){Dr(lt,{state:"blocked",location:ge,proceed(){Dr(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),oi(D,z)},reset(){let ut=new Map(U.blockers);ut.set(lt,Tl),Qe({blockers:ut})}});return}await yn(de,ge,{submission:ce,pendingError:Te,preventScrollReset:be,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Le})}function kr(){Fe||(Fe=p1()),li(),Qe({revalidation:"loading"});let D=Fe.promise;return U.navigation.state==="submitting"?D:U.navigation.state==="idle"?(yn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),D):(yn(x||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:N===!0}),D)}async function yn(D,z,q){R&&R.abort(),R=null,x=D,k=(q&&q.startUninterruptedRevalidation)===!0,Yn(U.location,U.matches),S=(q&&q.preventScrollReset)===!0,N=(q&&q.enableViewTransition)===!0;let ne=c||a,ce=q&&q.overrideNavigation,Te=q!=null&&q.initialHydration&&U.matches&&U.matches.length>0&&!Y?U.matches:gs(ne,z,d),Ce=(q&&q.flushSync)===!0;if(Te&&U.initialized&&!ot&&a1(U.location,z)&&!(q&&q.submission&&Rr(q.submission.formMethod))){sn(z,{matches:Te},{flushSync:Ce});return}let ge=vn(Te,ne,z.pathname);if(ge.active&&ge.matches&&(Te=ge.matches),!Te){let{error:it,notFoundMatches:ze,route:Et}=Or(z.pathname);sn(z,{matches:ze,loaderData:{},errors:{[Et.id]:it}},{flushSync:Ce});return}R=new AbortController;let fe=ya(n.history,z,R.signal,q&&q.submission),de;if(q&&q.pendingError)de=[go(Te).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&Rr(q.submission.formMethod)){let it=await Ui(fe,z,q.submission,Te,ge.active,{replace:q.replace,flushSync:Ce});if(it.shortCircuited)return;if(it.pendingActionResult){let[ze,Et]=it.pendingActionResult;if(qn(Et)&&Fl(Et.error)&&Et.error.status===404){R=null,sn(z,{matches:it.matches,loaderData:{},errors:{[ze]:Et.error}});return}}Te=it.matches||Te,de=it.pendingActionResult,ce=Pf(z,q.submission),Ce=!1,ge.active=!1,fe=ya(n.history,fe.url,fe.signal)}let{shortCircuited:be,matches:Le,loaderData:lt,errors:ut}=await Ws(fe,z,Te,ge.active,ce,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Ce,de);be||(R=null,sn(z,{matches:Le||Te,...s_(de),loaderData:lt,errors:ut}))}async function Ui(D,z,q,ne,ce,Te={}){li();let Ce=c1(z,q);if(Qe({navigation:Ce},{flushSync:Te.flushSync===!0}),ce){let de=await Lr(ne,z.pathname,D.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let be=go(de.partialMatches).route.id;return{matches:de.partialMatches,pendingActionResult:[be,{type:"error",error:de.error}]}}else if(de.matches)ne=de.matches;else{let{notFoundMatches:be,error:Le,route:lt}=Or(z.pathname);return{matches:be,pendingActionResult:[lt.id,{type:"error",error:Le}]}}}let ge,fe=Al(ne,z);if(!fe.route.action&&!fe.route.lazy)ge={type:"error",error:ur(405,{method:D.method,pathname:z.pathname,routeId:fe.route.id})};else if(ge=(await Qn("action",U,D,[fe],ne,null))[fe.route.id],D.signal.aborted)return{shortCircuited:!0};if(_o(ge)){let de;return Te&&Te.replace!=null?de=Te.replace:de=t_(ge.response.headers.get("Location"),new URL(D.url),d)===U.location.pathname+U.location.search,await Mn(D,ge,!0,{submission:q,replace:de}),{shortCircuited:!0}}if(qn(ge)){let de=go(ne,fe.route.id);return(Te&&Te.replace)!==!0&&(x="PUSH"),{matches:ne,pendingActionResult:[de.route.id,ge]}}return{matches:ne,pendingActionResult:[fe.route.id,ge]}}async function Ws(D,z,q,ne,ce,Te,Ce,ge,fe,de,be){let Le=ce||Pf(z,Te),lt=Te||Ce||l_(Le),ut=!k&&!fe;if(ne){if(ut){let ct=Fi(be);Qe({navigation:Le,...ct!==void 0?{actionData:ct}:{}},{flushSync:de})}let qe=await Lr(q,z.pathname,D.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let ct=go(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[ct]:qe.error}}}else if(qe.matches)q=qe.matches;else{let{error:ct,notFoundMatches:Vr,route:Mr}=Or(z.pathname);return{matches:Vr,loaderData:{},errors:{[Mr.id]:ct}}}}let it=c||a,[ze,Et]=Jy(n.history,U,q,lt,z,fe===!0,ot,kt,_e,F,he,it,d,be);if(le=++Ze,ze.length===0&&Et.length===0){let qe=zi();return sn(z,{matches:q,loaderData:{},errors:be&&qn(be[1])?{[be[0]]:be[1].error}:null,...s_(be),...qe?{fetchers:new Map(U.fetchers)}:{}},{flushSync:de}),{shortCircuited:!0}}if(ut){let qe={};if(!ne){qe.navigation=Le;let ct=Fi(be);ct!==void 0&&(qe.actionData=ct)}Et.length>0&&(qe.fetchers=Mo(Et)),Qe(qe,{flushSync:de})}Et.forEach(qe=>{on(qe.key),qe.controller&&He.set(qe.key,qe.controller)});let Jn=()=>Et.forEach(qe=>on(qe.key));R&&R.signal.addEventListener("abort",Jn);let{loaderResults:Zn,fetcherResults:an}=await ai(U,q,ze,Et,D);if(D.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Jn),Et.forEach(qe=>He.delete(qe.key));let ln=Tc(Zn);if(ln)return await Mn(D,ln.result,!0,{replace:ge}),{shortCircuited:!0};if(ln=Tc(an),ln)return he.add(ln.key),await Mn(D,ln.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:qi,errors:di}=r_(U,q,Zn,be,Et,an);fe&&U.errors&&(di={...U.errors,...di});let Xe=zi(),fi=Bi(le),er=Xe||fi||Et.length>0;return{matches:q,loaderData:qi,errors:di,...er?{fetchers:new Map(U.fetchers)}:{}}}function Fi(D){if(D&&!qn(D[1]))return{[D[0]]:D[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Mo(D){return D.forEach(z=>{let q=U.fetchers.get(z.key),ne=Il(void 0,q?q.data:void 0);U.fetchers.set(z.key,ne)}),new Map(U.fetchers)}async function ji(D,z,q,ne){on(D);let ce=(ne&&ne.flushSync)===!0,Te=c||a,Ce=Hf(U.location,U.matches,d,q,z,ne==null?void 0:ne.relative),ge=gs(Te,Ce,d),fe=vn(ge,Te,Ce);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){at(D,z,ur(404,{pathname:Ce}),{flushSync:ce});return}let{path:de,submission:be,error:Le}=Xy(!0,Ce,ne);if(Le){at(D,z,Le,{flushSync:ce});return}let lt=Al(ge,de),ut=(ne&&ne.preventScrollReset)===!0;if(be&&Rr(be.formMethod)){await dr(D,z,de,lt,ge,fe.active,ce,ut,be);return}F.set(D,{routeId:z,path:de}),await fr(D,z,de,lt,ge,fe.active,ce,ut,be)}async function dr(D,z,q,ne,ce,Te,Ce,ge,fe){li(),F.delete(D);function de(pt){if(!pt.route.action&&!pt.route.lazy){let Ot=ur(405,{method:fe.formMethod,pathname:q,routeId:z});return at(D,z,Ot,{flushSync:Ce}),!0}return!1}if(!Te&&de(ne))return;let be=U.fetchers.get(D);ft(D,h1(fe,be),{flushSync:Ce});let Le=new AbortController,lt=ya(n.history,q,Le.signal,fe);if(Te){let pt=await Lr(ce,q,lt.signal);if(pt.type==="aborted")return;if(pt.type==="error"){at(D,z,pt.error,{flushSync:Ce});return}else if(pt.matches){if(ce=pt.matches,ne=Al(ce,q),de(ne))return}else{at(D,z,ur(404,{pathname:q}),{flushSync:Ce});return}}He.set(D,Le);let ut=Ze,ze=(await Qn("action",U,lt,[ne],ce,D))[ne.route.id];if(lt.signal.aborted){He.get(D)===Le&&He.delete(D);return}if(_e.has(D)){if(_o(ze)||qn(ze)){ft(D,ms(void 0));return}}else{if(_o(ze))if(He.delete(D),le>ut){ft(D,ms(void 0));return}else return he.add(D),ft(D,Il(fe)),Mn(lt,ze,!1,{fetcherSubmission:fe,preventScrollReset:ge});if(qn(ze)){at(D,z,ze.error);return}}let Et=U.navigation.location||U.location,Jn=ya(n.history,Et,Le.signal),Zn=c||a,an=U.navigation.state!=="idle"?gs(Zn,U.navigation.location,d):U.matches;Ge(an,"Didn't find any matches after fetcher action");let ln=++Ze;Se.set(D,ln);let qi=Il(fe,ze.data);U.fetchers.set(D,qi);let[di,Xe]=Jy(n.history,U,an,fe,Et,!1,ot,kt,_e,F,he,Zn,d,[ne.route.id,ze]);Xe.filter(pt=>pt.key!==D).forEach(pt=>{let Ot=pt.key,Qs=U.fetchers.get(Ot),Qt=Il(void 0,Qs?Qs.data:void 0);U.fetchers.set(Ot,Qt),on(Ot),pt.controller&&He.set(Ot,pt.controller)}),Qe({fetchers:new Map(U.fetchers)});let fi=()=>Xe.forEach(pt=>on(pt.key));Le.signal.addEventListener("abort",fi);let{loaderResults:er,fetcherResults:qe}=await ai(U,an,di,Xe,Jn);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",fi),Se.delete(D),He.delete(D),Xe.forEach(pt=>He.delete(pt.key));let ct=Tc(er);if(ct)return Mn(Jn,ct.result,!1,{preventScrollReset:ge});if(ct=Tc(qe),ct)return he.add(ct.key),Mn(Jn,ct.result,!1,{preventScrollReset:ge});let{loaderData:Vr,errors:Mr}=r_(U,an,er,void 0,Xe,qe);if(U.fetchers.has(D)){let pt=ms(ze.data);U.fetchers.set(D,pt)}Bi(ln),U.navigation.state==="loading"&&ln>le?(Ge(x,"Expected pending action"),R&&R.abort(),sn(U.navigation.location,{matches:an,loaderData:Vr,errors:Mr,fetchers:new Map(U.fetchers)})):(Qe({errors:Mr,loaderData:i_(U.loaderData,Vr,an,Mr),fetchers:new Map(U.fetchers)}),ot=!1)}async function fr(D,z,q,ne,ce,Te,Ce,ge,fe){let de=U.fetchers.get(D);ft(D,Il(fe,de?de.data:void 0),{flushSync:Ce});let be=new AbortController,Le=ya(n.history,q,be.signal);if(Te){let ze=await Lr(ce,q,Le.signal);if(ze.type==="aborted")return;if(ze.type==="error"){at(D,z,ze.error,{flushSync:Ce});return}else if(ze.matches)ce=ze.matches,ne=Al(ce,q);else{at(D,z,ur(404,{pathname:q}),{flushSync:Ce});return}}He.set(D,be);let lt=Ze,it=(await Qn("loader",U,Le,[ne],ce,D))[ne.route.id];if(He.get(D)===be&&He.delete(D),!Le.signal.aborted){if(_e.has(D)){ft(D,ms(void 0));return}if(_o(it))if(le>lt){ft(D,ms(void 0));return}else{he.add(D),await Mn(Le,it,!1,{preventScrollReset:ge});return}if(qn(it)){at(D,z,it.error);return}ft(D,ms(it.data))}}async function Mn(D,z,q,{submission:ne,fetcherSubmission:ce,preventScrollReset:Te,replace:Ce}={}){z.response.headers.has("X-Remix-Revalidate")&&(ot=!0);let ge=z.response.headers.get("Location");Ge(ge,"Expected a Location header on the redirect Response"),ge=t_(ge,new URL(D.url),d);let fe=Ul(U.location,ge,{_isRedirect:!0});if(t){let it=!1;if(z.response.headers.has("X-Remix-Reload-Document"))it=!0;else if(Ip.test(ge)){const ze=n.history.createURL(ge);it=ze.origin!==e.location.origin||Ar(ze.pathname,d)==null}if(it){Ce?e.location.replace(ge):e.location.assign(ge);return}}R=null;let de=Ce===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:be,formAction:Le,formEncType:lt}=U.navigation;!ne&&!ce&&be&&Le&&lt&&(ne=l_(U.navigation));let ut=ne||ce;if(KI.has(z.response.status)&&ut&&Rr(ut.formMethod))await yn(de,fe,{submission:{...ut,formAction:ge},preventScrollReset:Te||S,enableViewTransition:q?N:void 0});else{let it=Pf(fe,ne);await yn(de,fe,{overrideNavigation:it,fetcherSubmission:ce,preventScrollReset:Te||S,enableViewTransition:q?N:void 0})}}async function Qn(D,z,q,ne,ce,Te){let Ce,ge={};try{Ce=await n1(f,D,z,q,ne,ce,Te,o,i)}catch(fe){return ne.forEach(de=>{ge[de.route.id]={type:"error",error:fe}}),ge}for(let[fe,de]of Object.entries(Ce))if(l1(de)){let be=de.result;ge[fe]={type:"redirect",response:s1(be,q,fe,ce,d)}}else ge[fe]=await i1(de);return ge}async function ai(D,z,q,ne,ce){let Te=Qn("loader",D,ce,q,z,null),Ce=Promise.all(ne.map(async de=>{if(de.matches&&de.match&&de.controller){let Le=(await Qn("loader",D,ya(n.history,de.path,de.controller.signal),[de.match],de.matches,de.key))[de.match.route.id];return{[de.key]:Le}}else return Promise.resolve({[de.key]:{type:"error",error:ur(404,{pathname:de.path})}})})),ge=await Te,fe=(await Ce).reduce((de,be)=>Object.assign(de,be),{});return{loaderResults:ge,fetcherResults:fe}}function li(){ot=!0,F.forEach((D,z)=>{He.has(z)&&kt.add(z),on(z)})}function ft(D,z,q={}){U.fetchers.set(D,z),Qe({fetchers:new Map(U.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function at(D,z,q,ne={}){let ce=go(U.matches,z);ui(D),Qe({errors:{[ce.route.id]:q},fetchers:new Map(U.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Xn(D){return J.set(D,(J.get(D)||0)+1),_e.has(D)&&_e.delete(D),U.fetchers.get(D)||GI}function ui(D){let z=U.fetchers.get(D);He.has(D)&&!(z&&z.state==="loading"&&Se.has(D))&&on(D),F.delete(D),Se.delete(D),he.delete(D),_e.delete(D),kt.delete(D),U.fetchers.delete(D)}function xr(D){let z=(J.get(D)||0)-1;z<=0?(J.delete(D),_e.add(D)):J.set(D,z),Qe({fetchers:new Map(U.fetchers)})}function on(D){let z=He.get(D);z&&(z.abort(),He.delete(D))}function Nr(D){for(let z of D){let q=Xn(z),ne=ms(q.data);U.fetchers.set(z,ne)}}function zi(){let D=[],z=!1;for(let q of he){let ne=U.fetchers.get(q);Ge(ne,`Expected fetcher: ${q}`),ne.state==="loading"&&(he.delete(q),D.push(q),z=!0)}return Nr(D),z}function Bi(D){let z=[];for(let[q,ne]of Se)if(ne<D){let ce=U.fetchers.get(q);Ge(ce,`Expected fetcher: ${q}`),ce.state==="loading"&&(on(q),Se.delete(q),z.push(q))}return Nr(z),z.length>0}function Ks(D,z){let q=U.blockers.get(D)||Tl;return De.get(D)!==z&&De.set(D,z),q}function $i(D){U.blockers.delete(D),De.delete(D)}function Dr(D,z){let q=U.blockers.get(D)||Tl;Ge(q.state==="unblocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="proceeding"||q.state==="blocked"&&z.state==="unblocked"||q.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${z.state}`);let ne=new Map(U.blockers);ne.set(D,z),Qe({blockers:ne})}function br({currentLocation:D,nextLocation:z,historyAction:q}){if(De.size===0)return;De.size>1&&nn(!1,"A router only supports one blocker at a time");let ne=Array.from(De.entries()),[ce,Te]=ne[ne.length-1],Ce=U.blockers.get(ce);if(!(Ce&&Ce.state==="proceeding")&&Te({currentLocation:D,nextLocation:z,historyAction:q}))return ce}function Or(D){let z=ur(404,{pathname:D}),q=c||a,{matches:ne,route:ce}=o_(q);return{notFoundMatches:ne,route:ce,error:z}}function Hi(D,z,q){if(A=D,$=z,b=q||null,!L&&U.navigation===Cf){L=!0;let ne=ci(U.location,U.matches);ne!=null&&Qe({restoreScrollPosition:ne})}return()=>{A=null,$=null,b=null}}function _n(D,z){return b&&b(D,z.map(ne=>RI(ne,U.loaderData)))||D.key}function Yn(D,z){if(A&&$){let q=_n(D,z);A[q]=$()}}function ci(D,z){if(A){let q=_n(D,z),ne=A[q];if(typeof ne=="number")return ne}return null}function vn(D,z,q){if(y)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:bc(z,q,d,!0)}}else return{active:!0,matches:bc(z,q,d,!0)||[]};return{active:!1,matches:null}}async function Lr(D,z,q){if(!y)return{type:"success",matches:D};let ne=D;for(;;){let ce=c==null,Te=c||a,Ce=o;try{await y({path:z,matches:ne,patch:(de,be)=>{q.aborted||e_(de,be,Te,Ce,i)}})}catch(de){return{type:"error",error:de,partialMatches:ne}}finally{ce&&!q.aborted&&(a=[...a])}if(q.aborted)return{type:"aborted"};let ge=gs(Te,z,d);if(ge)return{type:"success",matches:ge};let fe=bc(Te,z,d,!0);if(!fe||ne.length===fe.length&&ne.every((de,be)=>de.route.id===fe[be].route.id))return{type:"success",matches:null};ne=fe}}function hi(D){o={},c=Wc(D,i,void 0,o)}function Gs(D,z){let q=c==null;e_(D,z,c||a,o,i),q&&(a=[...a],Qe({}))}return me={get basename(){return d},get future(){return v},get state(){return U},get routes(){return a},get window(){return e},initialize:et,subscribe:dt,enableScrollRestoration:Hi,navigate:oi,fetch:ji,revalidate:kr,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Xn,deleteFetcher:xr,dispose:tt,getBlocker:Ks,deleteBlocker:$i,patchRoutes:Gs,_internalFetchControllers:He,_internalSetRoutes:hi},me}function YI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Hf(n,e,t,i,o,a){let c,d;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){d=y;break}}else c=e,d=e[e.length-1];let f=Tp(i||".",Ep(c),Ar(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&d){let y=Sp(f.search);if(d.route.index&&!y)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let v=new URLSearchParams(f.search),T=v.getAll("index");v.delete("index"),T.filter(A=>A).forEach(A=>v.append("index",A));let I=v.toString();f.search=I?`?${I}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Qr([t,f.pathname])),Ps(f)}function Xy(n,e,t){if(!t||!YI(t))return{path:e};if(t.formMethod&&!u1(t.formMethod))return{path:e,error:ur(405,{method:t.formMethod})};let i=()=>({path:e,error:ur(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),c=n0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Rr(a))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((I,[A,b])=>`${I}${A}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Rr(a))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=Wf(t.formData),f=t.formData;else if(t.body instanceof FormData)d=Wf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=n_(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=n_(d)}catch{return i()}let y={formMethod:a,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Rr(y.formMethod))return{path:e,submission:y};let v=Us(e);return n&&v.search&&Sp(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ps(v),submission:y}}function Yy(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Jy(n,e,t,i,o,a,c,d,f,y,v,T,I,A){let b=A?qn(A[1])?A[1].error:A[1].data:void 0,$=n.createURL(e.location),L=n.createURL(o),Q=t;a&&e.errors?Q=Yy(t,Object.keys(e.errors)[0],!0):A&&qn(A[1])&&(Q=Yy(t,A[0]));let Y=A?A[1].statusCode:void 0,Z=Y&&Y>=400,oe=Q.filter((U,x)=>{let{route:S}=U;if(S.lazy)return!0;if(S.loader==null)return!1;if(a)return qf(S,e.loaderData,e.errors);if(JI(e.loaderData,e.matches[x],U))return!0;let R=e.matches[x],N=U;return Zy(U,{currentUrl:$,currentParams:R.params,nextUrl:L,nextParams:N.params,...i,actionResult:b,actionStatus:Y,defaultShouldRevalidate:Z?!1:c||$.pathname+$.search===L.pathname+L.search||$.search!==L.search||ZI(R,N)})}),me=[];return y.forEach((U,x)=>{if(a||!t.some(j=>j.route.id===U.routeId)||f.has(x))return;let S=gs(T,U.path,I);if(!S){me.push({key:x,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(x),N=Al(S,U.path),V=!1;v.has(x)?V=!1:d.has(x)?(d.delete(x),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=c:V=Zy(N,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:Y,defaultShouldRevalidate:Z?!1:c}),V&&me.push({key:x,routeId:U.routeId,path:U.path,matches:S,match:N,controller:new AbortController})}),[oe,me]}function qf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function JI(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function ZI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Zy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function e_(n,e,t,i,o){let a;if(n){let f=i[n];Ge(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let c=e.filter(f=>!a.some(y=>t0(f,y))),d=Wc(c,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...d)}function t0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>t0(t,a))}):!1}async function e1(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Ge(o,"No route found in manifest");let a={};for(let c in i){let f=o[c]!==void 0&&c!=="hasErrorBoundary";nn(!f,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!f&&!II.has(c)&&(a[c]=i[c])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function t1({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[e[a].route.id]:o}),{})}async function n1(n,e,t,i,o,a,c,d,f,y){let v=a.map(A=>A.route.lazy?e1(A.route,f,d):void 0),T=a.map((A,b)=>{let $=v[b],L=o.some(Y=>Y.route.id===A.route.id);return{...A,shouldLoad:L,resolve:async Y=>(Y&&i.method==="GET"&&(A.route.lazy||A.route.loader)&&(L=!0),L?r1(e,i,A,$,Y,y):Promise.resolve({type:"data",result:void 0}))}}),I=await n({matches:T,request:i,params:a[0].params,fetcherKey:c,context:y});try{await Promise.all(v)}catch{}return I}async function r1(n,e,t,i,o,a){let c,d,f=y=>{let v,T=new Promise((b,$)=>v=$);d=()=>v(),e.signal.addEventListener("abort",d);let I=b=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),A=(async()=>{try{return{type:"data",result:await(o?o($=>I($)):I())}}catch(b){return{type:"error",result:b}}})();return Promise.race([A,T])};try{let y=t.route[n];if(i)if(y){let v,[T]=await Promise.all([f(y).catch(I=>{v=I}),i]);if(v!==void 0)throw v;c=T}else if(await i,y=t.route[n],y)c=await f(y);else if(n==="action"){let v=new URL(e.url),T=v.pathname+v.search;throw ur(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await f(y);else{let v=new URL(e.url),T=v.pathname+v.search;throw ur(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function i1(n){var i,o,a,c,d,f;let{result:e,type:t}=n;if(r0(e)){let y;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new Gc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return t==="error"?a_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Gc(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:Fl(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Fl(e)?e.status:void 0}:a_(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function s1(n,e,t,i,o){let a=n.headers.get("Location");if(Ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ip.test(a)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);a=Hf(new URL(e.url),c,o,a),n.headers.set("Location",a)}return n}function t_(n,e,t){if(Ip.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Ar(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function ya(n,e,t,i){let o=n.createURL(n0(e)).toString(),a={signal:t};if(i&&Rr(i.formMethod)){let{formMethod:c,formEncType:d}=i;a.method=c.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(i.json)):d==="text/plain"?a.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?a.body=Wf(i.formData):a.body=i.formData}return new Request(o,a)}function Wf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function n_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function o1(n,e,t,i=!1,o=!1){let a={},c=null,d,f=!1,y={},v=t&&qn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let I=T.route.id,A=e[I];if(Ge(!_o(A),"Cannot handle redirect results in processLoaderData"),qn(A)){let b=A.error;if(v!==void 0&&(b=v,v=void 0),c=c||{},o)c[I]=b;else{let $=go(n,I);c[$.route.id]==null&&(c[$.route.id]=b)}i||(a[I]=e0),f||(f=!0,d=Fl(A.error)?A.error.status:500),A.headers&&(y[I]=A.headers)}else a[I]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(d=A.statusCode),A.headers&&(y[I]=A.headers)}),v!==void 0&&t&&(c={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:c,statusCode:d||200,loaderHeaders:y}}function r_(n,e,t,i,o,a){let{loaderData:c,errors:d}=o1(e,t,i);return o.forEach(f=>{let{key:y,match:v,controller:T}=f,I=a[y];if(Ge(I,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(qn(I)){let A=go(n.matches,v==null?void 0:v.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:I.error}),n.fetchers.delete(y)}else if(_o(I))Ge(!1,"Unhandled fetcher revalidation redirect");else{let A=ms(I.data);n.fetchers.set(y,A)}}),{loaderData:c,errors:d}}function i_(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==e0).reduce((a,[c,d])=>(a[c]=d,a),{});for(let a of t){let c=a.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&a.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function s_(n){return n?qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function go(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function o_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new Gc(n||500,c,new Error(d),!0)}function Tc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(_o(o))return{key:i,result:o}}}function n0(n){let e=typeof n=="string"?Us(n):n;return Ps({...e,hash:""})}function a1(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function l1(n){return r0(n.result)&&WI.has(n.result.status)}function qn(n){return n.type==="error"}function _o(n){return(n&&n.type)==="redirect"}function a_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function r0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function u1(n){return qI.has(n.toUpperCase())}function Rr(n){return $I.has(n.toUpperCase())}function Sp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Al(n,e){let t=typeof e=="string"?Us(e).search:e.search;if(n[n.length-1].route.index&&Sp(t||""))return n[n.length-1];let i=Yv(n);return i[i.length-1]}function l_(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Pf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c1(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Il(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function h1(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ms(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function d1(n,e){try{let t=n.sessionStorage.getItem(Zv);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function f1(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Zv,JSON.stringify(t))}catch(i){nn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function p1(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Po=K.createContext(null);Po.displayName="DataRouter";var Yl=K.createContext(null);Yl.displayName="DataRouterState";var Rp=K.createContext({isTransitioning:!1});Rp.displayName="ViewTransition";var i0=K.createContext(new Map);i0.displayName="Fetchers";var m1=K.createContext(null);m1.displayName="Await";var ri=K.createContext(null);ri.displayName="Navigation";var gh=K.createContext(null);gh.displayName="Location";var Mi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Ap=K.createContext(null);Ap.displayName="RouteError";function g1(n,{relative:e}={}){Ge(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(ri),{hash:o,pathname:a,search:c}=Zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Qr([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Jl(){return K.useContext(gh)!=null}function ko(){return Ge(Jl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(gh).location}var s0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o0(n){K.useContext(ri).static||K.useLayoutEffect(n)}function a0(){let{isDataRoute:n}=K.useContext(Mi);return n?k1():y1()}function y1(){Ge(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Po),{basename:e,navigator:t}=K.useContext(ri),{matches:i}=K.useContext(Mi),{pathname:o}=ko(),a=JSON.stringify(Ep(i)),c=K.useRef(!1);return o0(()=>{c.current=!0}),K.useCallback((f,y={})=>{if(nn(c.current,s0),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=Tp(f,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Qr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,a,o,n])}K.createContext(null);function Zl(n,{relative:e}={}){let{matches:t}=K.useContext(Mi),{pathname:i}=ko(),o=JSON.stringify(Ep(t));return K.useMemo(()=>Tp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function _1(n,e,t,i){Ge(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=K.useContext(ri),{matches:c}=K.useContext(Mi),d=c[c.length-1],f=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Y=T&&T.path||"";l0(y,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let I=ko(),A;A=I;let b=A.pathname||"/",$=b;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");$="/"+b.replace(/^\//,"").split("/").slice(Y.length).join("/")}let L=!a&&t&&t.matches&&t.matches.length>0?t.matches:gs(n,{pathname:$});return nn(T||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),nn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),I1(L&&L.map(Y=>Object.assign({},Y,{params:Object.assign({},f,Y.params),pathname:Qr([v,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:Qr([v,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,t,i)}function v1(){let n=P1(),e=Fl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,c)}var w1=K.createElement(v1,null),E1=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Mi.Provider,{value:this.props.routeContext},K.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T1({routeContext:n,match:e,children:t}){let i=K.useContext(Po);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Mi.Provider,{value:n},t)}function I1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);Ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let y=o[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=f),y.route.id){let{loaderData:v,errors:T}=t,I=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,y,v)=>{let T,I=!1,A=null,b=null;t&&(T=a&&y.route.id?a[y.route.id]:void 0,A=y.route.errorElement||w1,c&&(d<0&&v===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):d===v&&(I=!0,b=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),L=()=>{let Q;return T?Q=A:I?Q=b:y.route.Component?Q=K.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=f,K.createElement(T1,{match:y,routeContext:{outlet:f,matches:$,isDataRoute:t!=null},children:Q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?K.createElement(E1,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function Cp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=K.useContext(Po);return Ge(e,Cp(n)),e}function R1(n){let e=K.useContext(Yl);return Ge(e,Cp(n)),e}function A1(n){let e=K.useContext(Mi);return Ge(e,Cp(n)),e}function Pp(n){let e=A1(n),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function C1(){return Pp("useRouteId")}function P1(){var i;let n=K.useContext(Ap),e=R1("useRouteError"),t=Pp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function k1(){let{router:n}=S1("useNavigate"),e=Pp("useNavigate"),t=K.useRef(!1);return o0(()=>{t.current=!0}),K.useCallback(async(o,a={})=>{nn(t.current,s0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var u_={};function l0(n,e,t){!e&&!u_[n]&&(u_[n]=!0,nn(!1,t))}var c_={};function h_(n,e){!n&&!c_[e]&&(c_[e]=!0,console.warn(e))}function x1(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&nn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&nn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&nn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var N1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function D1({router:n,flushSync:e}){let[t,i]=K.useState(n.state),[o,a]=K.useState(),[c,d]=K.useState({isTransitioning:!1}),[f,y]=K.useState(),[v,T]=K.useState(),[I,A]=K.useState(),b=K.useRef(new Map),$=K.useCallback((Z,{deletedFetchers:oe,flushSync:me,viewTransitionOpts:U})=>{Z.fetchers.forEach((S,R)=>{S.data!==void 0&&b.current.set(R,S.data)}),oe.forEach(S=>b.current.delete(S)),h_(me===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(h_(U==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!x){e&&me?e(()=>i(Z)):K.startTransition(()=>i(Z));return}if(e&&me){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>i(Z))});S.finished.finally(()=>{e(()=>{y(void 0),T(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>T(S));return}v?(f&&f.resolve(),v.skipTransition(),A({state:Z,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(Z),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,v,f]);K.useLayoutEffect(()=>n.subscribe($),[n,$]),K.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new N1)},[c]),K.useEffect(()=>{if(f&&o&&n.window){let Z=o,oe=f.promise,me=n.window.document.startViewTransition(async()=>{K.startTransition(()=>i(Z)),await oe});me.finished.finally(()=>{y(void 0),T(void 0),a(void 0),d({isTransitioning:!1})}),T(me)}},[o,f,n.window]),K.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,v,t.location,o]),K.useEffect(()=>{!c.isTransitioning&&I&&(a(I.state),d({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),A(void 0))},[c.isTransitioning,I]);let L=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,oe,me)=>n.navigate(Z,{state:oe,preventScrollReset:me==null?void 0:me.preventScrollReset}),replace:(Z,oe,me)=>n.navigate(Z,{replace:!0,state:oe,preventScrollReset:me==null?void 0:me.preventScrollReset})}),[n]),Q=n.basename||"/",Y=K.useMemo(()=>({router:n,navigator:L,static:!1,basename:Q}),[n,L,Q]);return K.createElement(K.Fragment,null,K.createElement(Po.Provider,{value:Y},K.createElement(Yl.Provider,{value:t},K.createElement(i0.Provider,{value:b.current},K.createElement(Rp.Provider,{value:c},K.createElement(L1,{basename:Q,location:t.location,navigationType:t.historyAction,navigator:L},K.createElement(b1,{routes:n.routes,future:n.future,state:t})))))),null)}var b1=K.memo(O1);function O1({routes:n,future:e,state:t}){return _1(n,void 0,t,e)}function L1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Ge(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Us(t));let{pathname:f="/",search:y="",hash:v="",state:T=null,key:I="default"}=t,A=K.useMemo(()=>{let b=Ar(f,c);return b==null?null:{location:{pathname:b,search:y,hash:v,state:T,key:I},navigationType:i}},[c,f,y,v,T,I,i]);return nn(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:K.createElement(ri.Provider,{value:d},K.createElement(gh.Provider,{children:e,value:A}))}var Oc="get",Lc="application/x-www-form-urlencoded";function yh(n){return n!=null&&typeof n.tagName=="string"}function V1(n){return yh(n)&&n.tagName.toLowerCase()==="button"}function M1(n){return yh(n)&&n.tagName.toLowerCase()==="form"}function U1(n){return yh(n)&&n.tagName.toLowerCase()==="input"}function F1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function j1(n,e){return n.button===0&&(!e||e==="_self")&&!F1(n)}var Ic=null;function z1(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(n){return n!=null&&!B1.has(n)?(nn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):n}function $1(n,e){let t,i,o,a,c;if(M1(n)){let d=n.getAttribute("action");i=d?Ar(d,e):null,t=n.getAttribute("method")||Oc,o=kf(n.getAttribute("enctype"))||Lc,a=new FormData(n)}else if(V1(n)||U1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ar(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Oc,o=kf(n.getAttribute("formenctype"))||kf(d.getAttribute("enctype"))||Lc,a=new FormData(d,n),!z1()){let{name:y,type:v,value:T}=n;if(v==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,T)}}else{if(yh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Oc,i=null,o=Lc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function kp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function H1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function W1(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await H1(a,t);return c.links?c.links():[]}return[]}));return X1(i.flat(1).filter(q1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d_(n,e,t,i,o,a){let c=(f,y)=>t[y]?f.route.id!==t[y].route.id:!0,d=(f,y)=>{var v;return t[y].pathname!==f.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,y)=>c(f,y)||d(f,y)):a==="data"?e.filter((f,y)=>{var T;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,y)||d(f,y))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function K1(n,e){return G1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function G1(n){return[...new Set(n)]}function Q1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(Q1(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function Y1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J1(){let n=K.useContext(Po);return kp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z1(){let n=K.useContext(Yl);return kp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xp=K.createContext(void 0);xp.displayName="FrameworkContext";function u0(){let n=K.useContext(xp);return kp(n,"You must render this element inside a <HydratedRouter> element"),n}function eS(n,e){let t=K.useContext(xp),[i,o]=K.useState(!1),[a,c]=K.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,I=K.useRef(null);K.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let $=Q=>{Q.forEach(Y=>{c(Y.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[n]),K.useEffect(()=>{if(i){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[i]);let A=()=>{o(!0)},b=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Sl(d,A),onBlur:Sl(f,b),onMouseEnter:Sl(y,A),onMouseLeave:Sl(v,b),onTouchStart:Sl(T,A)}]:[!1,I,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tS({page:n,...e}){let{router:t}=J1(),i=K.useMemo(()=>gs(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(rS,{page:n,matches:i,...e}):null}function nS(n){let{manifest:e,routeModules:t}=u0(),[i,o]=K.useState([]);return K.useEffect(()=>{let a=!1;return W1(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function rS({page:n,matches:e,...t}){let i=ko(),{manifest:o,routeModules:a}=u0(),{loaderData:c,matches:d}=Z1(),f=K.useMemo(()=>d_(n,e,d,o,i,"data"),[n,e,d,o,i]),y=K.useMemo(()=>d_(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,b=!1;if(e.forEach(L=>{var Y;let Q=o.routes[L.route.id];!Q||!Q.hasLoader||(!f.some(Z=>Z.route.id===L.route.id)&&L.route.id in c&&((Y=a[L.route.id])!=null&&Y.shouldRevalidate)||Q.hasClientLoader?b=!0:A.add(L.route.id))}),A.size===0)return[];let $=Y1(n);return b&&A.size>0&&$.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[$.pathname+$.search]},[c,i,o,f,e,n,a]),T=K.useMemo(()=>K1(y,o),[y,o]),I=nS(y);return K.createElement(K.Fragment,null,v.map(A=>K.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>K.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),I.map(({key:A,link:b})=>K.createElement("link",{key:A,...b})))}function iS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c0&&(window.__reactRouterVersion="7.1.5")}catch{}function sS(n,e){return XI({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:wI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||oS(),routes:n,mapRouteProperties:x1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function oS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:aS(n.errors)}),n}function aS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Gc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let c=new a(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:f,to:y,preventScrollReset:v,viewTransition:T,...I},A){let{basename:b}=K.useContext(ri),$=typeof y=="string"&&h0.test(y),L,Q=!1;if(typeof y=="string"&&$&&(L=y,c0))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Ar(N.pathname,b);N.origin===R.origin&&V!=null?y=V+N.search+N.hash:Q=!0}catch{nn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=g1(y,{relative:o}),[Z,oe,me]=eS(i,I),U=hS(y,{replace:c,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:T});function x(R){e&&e(R),R.defaultPrevented||U(R)}let S=K.createElement("a",{...I,...me,href:L||Y,onClick:Q||a?e:x,ref:iS(A,oe),target:f,"data-discover":!$&&t==="render"?"true":void 0});return Z&&!$?K.createElement(K.Fragment,null,S,K.createElement(tS,{page:Y})):S});On.displayName="Link";var lS=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:f,...y},v){let T=Zl(c,{relative:y.relative}),I=ko(),A=K.useContext(Yl),{navigator:b,basename:$}=K.useContext(ri),L=A!=null&&gS(T)&&d===!0,Q=b.encodeLocation?b.encodeLocation(T).pathname:T.pathname,Y=I.pathname,Z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Z=Z?Z.toLowerCase():null,Q=Q.toLowerCase()),Z&&$&&(Z=Ar(Z,$)||Z);const oe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let me=Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(oe)==="/",U=Z!=null&&(Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(Q.length)==="/"),x={isActive:me,isPending:U,isTransitioning:L},S=me?e:void 0,R;typeof i=="function"?R=i(x):R=[i,me?"active":null,U?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(x):a;return K.createElement(On,{...y,"aria-current":S,className:R,ref:v,style:N,to:c,viewTransition:d},typeof f=="function"?f(x):f)});lS.displayName="NavLink";var uS=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Oc,action:d,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:T,...I},A)=>{let b=pS(),$=mS(d,{relative:y}),L=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&h0.test(d),Y=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,me=(oe==null?void 0:oe.getAttribute("formmethod"))||c;b(oe||Z.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:T})};return K.createElement("form",{ref:A,method:L,action:$,onSubmit:i?f:Y,...I,"data-discover":!Q&&n==="render"?"true":void 0})});uS.displayName="Form";function cS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(n){let e=K.useContext(Po);return Ge(e,cS(n)),e}function hS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=a0(),f=ko(),y=Zl(n,{relative:a});return K.useCallback(v=>{if(j1(v,e)){v.preventDefault();let T=t!==void 0?t:Ps(f)===Ps(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,y,t,i,e,n,o,a,c])}var dS=0,fS=()=>`__${String(++dS)}__`;function pS(){let{router:n}=d0("useSubmit"),{basename:e}=K.useContext(ri),t=C1();return K.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:f,body:y}=$1(i,e);if(o.navigate===!1){let v=o.fetcherKey||fS();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function mS(n,{relative:e}={}){let{basename:t}=K.useContext(ri),i=K.useContext(Mi);Ge(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Zl(n||".",{relative:e})},c=ko();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qr([t,a.pathname])),Ps(a)}function gS(n,e={}){let t=K.useContext(Rp);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=d0("useViewTransitionState"),o=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ar(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ar(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Kc(o.pathname,c)!=null||Kc(o.pathname,a)!=null}new TextEncoder;var yS=Gv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _S(n){return K.createElement(D1,{flushSync:yS.flushSync,...n})}var f0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f_=wo.createContext&&wo.createContext(f0),vS=["attr","size","title"];function wS(n,e){if(n==null)return{};var t=ES(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ES(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Qc(){return Qc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qc.apply(this,arguments)}function p_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(t),!0).forEach(function(i){TS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TS(n,e,t){return e=IS(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IS(n){var e=SS(n,"string");return typeof e=="symbol"?e:e+""}function SS(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function p0(n){return n&&n.map((e,t)=>wo.createElement(e.tag,Xc({key:t},e.attr),p0(e.child)))}function _h(n){return e=>wo.createElement(RS,Qc({attr:Xc({},n.attr)},e),p0(n.child))}function RS(n){var e=t=>{var{attr:i,size:o,title:a}=n,c=wS(n,vS),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),wo.createElement("svg",Qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:f,style:Xc(Xc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&wo.createElement("title",null,a),n.children)};return f_!==void 0?wo.createElement(f_.Consumer,null,t=>e(t)):e(f0)}function AS(n){return _h({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function CS(n){return _h({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function PS(n){return _h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function kS(n){return _h({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}const xo=()=>P.jsxs("header",{children:[P.jsx("img",{src:"/images/logoponce.png",alt:"Logo",className:"logo"}),P.jsxs("nav",{className:"nav-center",children:[P.jsx(On,{className:"nav",to:"/",children:"Inicio"}),P.jsx(On,{className:"nav",to:"/lenceria",children:"Lencería"}),P.jsx(On,{className:"nav",to:"/vestidos",children:"Vestidos de Baño"}),P.jsx(On,{className:"nav",to:"/todo",children:"Otros"}),P.jsx(On,{className:"nav",to:"/contacto",children:"Contacto"})]}),P.jsxs(On,{className:"contacto",to:"/login",children:["Administrar",P.jsx(PS,{className:"heart-icon"})]})]}),ii=()=>P.jsx("footer",{className:"footer",children:P.jsxs("div",{className:"footer-content",children:[P.jsxs("p",{children:["© ",new Date().getFullYear()," Todos los derechos reservados."]}),P.jsxs("div",{className:"footer-links",children:[P.jsx("a",{href:"/privacy-policy",children:"Política de Privacidad"}),P.jsx("a",{href:"/terms-conditions",children:"Términos y Condiciones"})]})]})}),xS=()=>P.jsxs("section",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"contact-container",children:[P.jsx("h2",{className:"contact-title",children:"CONTACTO"}),P.jsxs("div",{className:"contact-info",children:[P.jsxs("div",{className:"contact-item",children:[P.jsx(kS,{className:"contact-icon"}),P.jsx("p",{children:"Vegachí, CA 94158"})]}),P.jsxs("div",{className:"contact-item",children:[P.jsx(CS,{className:"contact-icon"}),P.jsx("p",{children:"+57 301 000 0000"})]}),P.jsxs("div",{className:"contact-item",children:[P.jsx(AS,{className:"contact-icon"}),P.jsx("p",{children:"@Intimosponce "})]})]}),P.jsx("p",{className:"contact-description",children:"Diseñada con detalles delicados y telas de alta calidad, cada pieza realza tu belleza y confianza."}),P.jsx("h3",{className:"contact-shipping",children:"ENVIOS A TODO EL PAÍS"}),P.jsx("a",{href:"https://www.intimosponce.com",className:"contact-link",children:"www.intimosponce.com"}),P.jsxs("p",{className:"contact-care",children:[P.jsx("span",{children:"Horarios"})," / Lunes - Viernes, 8:00 a.m - 5:00 p.m"]})]}),P.jsx(ii,{})]});var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,v=a>>2,T=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,A=y&63;f||(A=64,c||(I=64)),i.push(t[v],t[T],t[I],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||T==null)throw new DS;const I=a<<2|d>>4;if(i.push(I),y!==64){const A=d<<4&240|y>>2;if(i.push(A),T!==64){const b=y<<6&192|T;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bS=function(n){const e=m0(n);return g0.encodeByteArray(e,!0)},Yc=function(n){return bS(n).replace(/\./g,"")},y0=function(n){try{return g0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=()=>OS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y0(n[1]);return e&&JSON.parse(e)},vh=()=>{try{return LS()||VS()||MS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_0=n=>{var e,t;return(t=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},v0=n=>{const e=_0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},w0=()=>{var n;return(n=vh())===null||n===void 0?void 0:n.config},E0=n=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function jS(){var n;const e=(n=vh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class si extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=GS,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?QS(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new si(o,d,i)}}function QS(n,e){return n.replace(XS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const XS=/\{\$([^}]+)}/g;function YS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(g_(a)&&g_(c)){if(!Jc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function g_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JS(n,e){const t=new ZS(n,e);return t.subscribe.bind(t)}class ZS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=xf),o.error===void 0&&(o.error=xf),o.complete===void 0&&(o.complete=xf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n){return n&&n._delegate?n._delegate:n}class ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new US;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(n){return n===mo?void 0:n}function rR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const sR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},oR=Be.INFO,aR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},lR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=aR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const uR=(n,e)=>e.some(t=>n instanceof t);let y_,__;function cR(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,Kf=new WeakMap,S0=new WeakMap,Nf=new WeakMap,Dp=new WeakMap;function dR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Is(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&I0.set(t,n)}).catch(()=>{}),Dp.set(e,n),e}function fR(n){if(Kf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Kf.set(n,e)}let Gf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||S0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pR(n){Gf=n(Gf)}function mR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Df(this),e,...t);return S0.set(i,e.sort?e.sort():[e]),Is(i)}:hR().includes(n)?function(...e){return n.apply(Df(this),e),Is(I0.get(this))}:function(...e){return Is(n.apply(Df(this),e))}}function gR(n){return typeof n=="function"?mR(n):(n instanceof IDBTransaction&&fR(n),uR(n,cR())?new Proxy(n,Gf):n)}function Is(n){if(n instanceof IDBRequest)return dR(n);if(Nf.has(n))return Nf.get(n);const e=gR(n);return e!==n&&(Nf.set(n,e),Dp.set(e,n)),e}const Df=n=>Dp.get(n);function yR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Is(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Is(c.result),f.oldVersion,f.newVersion,Is(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const _R=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],bf=new Map;function v_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=vR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&f.done]))[0]};return bf.set(e,a),a}pR(n=>({...n,get:(e,t,i)=>v_(e,t)||n.get(e,t,i),has:(e,t)=>!!v_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ER(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ER(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",w_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Np("@firebase/app"),TR="@firebase/app-compat",IR="@firebase/analytics-compat",SR="@firebase/analytics",RR="@firebase/app-check-compat",AR="@firebase/app-check",CR="@firebase/auth",PR="@firebase/auth-compat",kR="@firebase/database",xR="@firebase/data-connect",NR="@firebase/database-compat",DR="@firebase/functions",bR="@firebase/functions-compat",OR="@firebase/installations",LR="@firebase/installations-compat",VR="@firebase/messaging",MR="@firebase/messaging-compat",UR="@firebase/performance",FR="@firebase/performance-compat",jR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",$R="@firebase/storage-compat",HR="@firebase/firestore",qR="@firebase/vertexai",WR="@firebase/firestore-compat",KR="firebase",GR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",QR={[Qf]:"fire-core",[TR]:"fire-core-compat",[SR]:"fire-analytics",[IR]:"fire-analytics-compat",[AR]:"fire-app-check",[RR]:"fire-app-check-compat",[CR]:"fire-auth",[PR]:"fire-auth-compat",[kR]:"fire-rtdb",[xR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[DR]:"fire-fn",[bR]:"fire-fn-compat",[OR]:"fire-iid",[LR]:"fire-iid-compat",[VR]:"fire-fcm",[MR]:"fire-fcm-compat",[UR]:"fire-perf",[FR]:"fire-perf-compat",[jR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[$R]:"fire-gcs-compat",[HR]:"fire-fst",[WR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,XR=new Map,Yf=new Map;function E_(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function To(n){const e=n.name;if(Yf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,n);for(const t of Zc.values())E_(t,n);for(const t of XR.values())E_(t,n);return!0}function wh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new eu("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=GR;function R0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=w0()),!t)throw Ss.create("no-options");const a=Zc.get(o);if(a){if(Jc(t,a.options)&&Jc(i,a.config))return a;throw Ss.create("duplicate-app",{appName:o})}const c=new iR(o);for(const f of Yf.values())c.addComponent(f);const d=new JR(t,i,c);return Zc.set(o,d),d}function bp(n=Xf){const e=Zc.get(n);if(!e&&n===Xf&&w0())return R0();if(!e)throw Ss.create("no-app",{appName:n});return e}function Xr(n,e,t){var i;let o=(i=QR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}To(new ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-heartbeat-database",eA=1,jl="firebase-heartbeat-store";let Of=null;function A0(){return Of||(Of=yR(ZR,eA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ss.create("idb-open",{originalErrorMessage:n.message})})),Of}async function tA(n){try{const t=(await A0()).transaction(jl),i=await t.objectStore(jl).get(C0(n));return await t.done,i}catch(e){if(e instanceof si)Di.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function T_(n,e){try{const i=(await A0()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,C0(n)),await i.done}catch(t){if(t instanceof si)Di.warn(t.message);else{const i=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(i.message)}}}function C0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=1024,rA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=I_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>rA){const c=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I_(),{heartbeatsToSend:i,unsentEntries:o}=sA(this._heartbeatsCache.heartbeats),a=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Di.warn(t),""}}}function I_(){return new Date().toISOString().substring(0,10)}function sA(n,e=nA){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),S_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S_(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function aA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n){To(new ks("platform-logger",e=>new wR(e),"PRIVATE")),To(new ks("heartbeat",e=>new iA(e),"PRIVATE")),Xr(Qf,w_,n),Xr(Qf,w_,"esm2017"),Xr("fire-js","")}lA("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firebasestorage.googleapis.com",k0="storageBucket",uA=2*60*1e3,cA=10*60*1e3,hA=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends si{constructor(e,t,i=0){super(Lf(e),`Firebase Storage: ${t} (${Lf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Lf(n){return"storage/"+n}function Op(){const n="An unknown error occurred, please check the error payload for server response.";return new Ct(wt.UNKNOWN,n)}function dA(n){return new Ct(wt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function fA(n){return new Ct(wt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pA(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(wt.UNAUTHENTICATED,n)}function mA(){return new Ct(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gA(n){return new Ct(wt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function x0(){return new Ct(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N0(){return new Ct(wt.CANCELED,"User canceled the upload/download.")}function yA(n){return new Ct(wt.INVALID_URL,"Invalid URL '"+n+"'.")}function _A(n){return new Ct(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function vA(){return new Ct(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k0+"' property when initializing the app?")}function D0(){return new Ct(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wA(){return new Ct(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function EA(){return new Ct(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TA(n){return new Ct(wt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jf(n){return new Ct(wt.INVALID_ARGUMENT,n)}function b0(){return new Ct(wt.APP_DELETED,"The Firebase app was deleted.")}function IA(n){return new Ct(wt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dl(n,e){return new Ct(wt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Rl(n){throw new Ct(wt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(i.path==="")return i;throw _A(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",A=new RegExp(`^https?://${T}/${v}/b/${o}/o${I}`,"i"),b={bucket:1,path:3},$=t===P0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",Q=new RegExp(`^https?://${$}/${o}/${L}`,"i"),Z=[{regex:d,indices:f,postModify:a},{regex:A,indices:b,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<Z.length;oe++){const me=Z[oe],U=me.regex.exec(e);if(U){const x=U[me.indices.bucket];let S=U[me.indices.path];S||(S=""),i=new Kn(x,S),me.postModify(i);break}}if(i==null)throw yA(e);return i}}class SA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n,e,t){let i=1,o=null,a=null,c=!1,d=0;function f(){return d===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,n(A,f())},L)}function I(){a&&clearTimeout(a)}function A(L,...Q){if(y){I();return}if(L){I(),v.call(null,L,...Q);return}if(f()||c){I(),v.call(null,L,...Q);return}i<64&&(i*=2);let Z;d===1?(d=2,Z=0):Z=(i+Math.random())*1e3,T(Z)}let b=!1;function $(L){b||(b=!0,I(),!y&&(o!==null?(L||(d=2),clearTimeout(o),T(0)):L||(d=1)))}return T(0),a=setTimeout(()=>{c=!0,$(!0)},t),$}function AA(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){return n!==void 0}function PA(n){return typeof n=="function"}function kA(n){return typeof n=="object"&&!Array.isArray(n)}function Eh(n){return typeof n=="string"||n instanceof String}function R_(n){return Lp()&&n instanceof Blob}function Lp(){return typeof Blob<"u"}function A_(n,e,t,i){if(i<e)throw Jf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Jf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function O0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Eo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Eo||(Eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t,i,o,a,c,d,f,y,v,T,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=T,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const f=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Eo.NO_ERROR,f=a.getStatus();if(!d||L0(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Eo.ABORT;i(!1,new Sc(!1,null,v));return}const y=this.successCodes_.indexOf(f)!==-1;i(!0,new Sc(y,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());CA(f)?a(f):a()}catch(f){c(f)}else if(d!==null){const f=Op();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(o.canceled){const f=this.appDelete_?b0():N0();c(f)}else{const f=x0();c(f)}};this.canceled_?t(!1,new Sc(!1,null,!0)):this.backoffId_=RA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function NA(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function DA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bA(n,e){e&&(n["X-Firebase-GMPID"]=e)}function OA(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function LA(n,e,t,i,o,a,c=!0){const d=O0(n.urlParams),f=n.url+d,y=Object.assign({},n.headers);return bA(y,e),NA(y,t),DA(y,a),OA(y,i),new xA(f,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MA(...n){const e=VA();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Lp())return new Blob(n);throw new Ct(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UA(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){if(typeof atob>"u")throw TA("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vf{constructor(e,t){this.data=e,this.contentType=t||null}}function jA(n,e){switch(n){case Gr.RAW:return new Vf(V0(e));case Gr.BASE64:case Gr.BASE64URL:return new Vf(M0(n,e));case Gr.DATA_URL:return new Vf(BA(e),$A(e))}throw Op()}function V0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,c=n.charCodeAt(++t);i=65536|(a&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function zA(n){let e;try{e=decodeURIComponent(n)}catch{throw Dl(Gr.DATA_URL,"Malformed data URL.")}return V0(e)}function M0(n,e){switch(n){case Gr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Dl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Gr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Dl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=FA(e)}catch(o){throw o.message.includes("polyfill")?o:Dl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class U0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Dl(Gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=HA(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function BA(n){const e=new U0(n);return e.base64?M0(Gr.BASE64,e.rest):zA(e.rest)}function $A(n){return new U0(n).contentType}function HA(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){let i=0,o="";R_(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(R_(this.data_)){const i=this.data_,o=UA(i,e,t);return o===null?null:new ys(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ys(i,!0)}}static getBlob(...e){if(Lp()){const t=e.map(i=>i instanceof ys?i.data_:i);return new ys(MA.apply(null,t))}else{const t=e.map(c=>Eh(c)?jA(Gr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[a++]=c[d]}),new ys(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n){let e;try{e=JSON.parse(n)}catch{return null}return kA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function WA(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function j0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e){return e}class In{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||KA}}let Rc=null;function GA(n){return!Eh(n)||n.length<2?n:j0(n)}function z0(){if(Rc)return Rc;const n=[];n.push(new In("bucket")),n.push(new In("generation")),n.push(new In("metageneration")),n.push(new In("name","fullPath",!0));function e(a,c){return GA(c)}const t=new In("name");t.xform=e,n.push(t);function i(a,c){return c!==void 0?Number(c):c}const o=new In("size");return o.xform=i,n.push(o),n.push(new In("timeCreated")),n.push(new In("updated")),n.push(new In("md5Hash",null,!0)),n.push(new In("cacheControl",null,!0)),n.push(new In("contentDisposition",null,!0)),n.push(new In("contentEncoding",null,!0)),n.push(new In("contentLanguage",null,!0)),n.push(new In("contentType",null,!0)),n.push(new In("metadata","customMetadata",!0)),Rc=n,Rc}function QA(n,e){function t(){const i=n.bucket,o=n.fullPath,a=new Kn(i,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function XA(n,e,t){const i={};i.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return QA(i,n),i}function B0(n,e,t){const i=F0(e);return i===null?null:XA(n,i,t)}function YA(n,e,t,i){const o=F0(e);if(o===null||!Eh(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(y=>{const v=n.bucket,T=n.fullPath,I="/b/"+c(v)+"/o/"+c(T),A=La(I,t,i),b=O0({alt:"media",token:y});return A+b})[0]}function $0(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Do{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n){if(!n)throw Op()}function Vp(n,e){function t(i,o){const a=B0(n,o,e);return xi(a!==null),a}return t}function JA(n,e){function t(i,o){const a=B0(n,o,e);return xi(a!==null),YA(a,o,n.host,n._protocol)}return t}function nu(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=mA():o=pA():t.getStatus()===402?o=fA(n.bucket):t.getStatus()===403?o=gA(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Mp(n){const e=nu(n);function t(i,o){let a=e(i,o);return i.getStatus()===404&&(a=dA(n.path)),a.serverResponse=o.serverResponse,a}return t}function ZA(n,e,t){const i=e.fullServerUrl(),o=La(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,d=new Do(o,a,Vp(n,t),c);return d.errorHandler=Mp(e),d}function eC(n,e,t){const i=e.fullServerUrl(),o=La(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,d=new Do(o,a,JA(n,t),c);return d.errorHandler=Mp(e),d}function tC(n,e){const t=e.fullServerUrl(),i=La(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function c(f,y){}const d=new Do(i,o,c,a);return d.successCodes=[200,204],d.errorHandler=Mp(e),d}function nC(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function H0(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=nC(null,e)),i}function rC(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Z="";for(let oe=0;oe<2;oe++)Z=Z+Math.random().toString().slice(2);return Z}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const y=H0(e,i,o),v=$0(y,t),T="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+y.contentType+`\r
\r
`,I=`\r
--`+f+"--",A=ys.getBlob(T,i,I);if(A===null)throw D0();const b={name:y.fullPath},$=La(a,n.host,n._protocol),L="POST",Q=n.maxUploadRetryTime,Y=new Do($,L,Vp(n,t),Q);return Y.urlParams=b,Y.headers=c,Y.body=A.uploadData(),Y.errorHandler=nu(e),Y}class eh{constructor(e,t,i,o){this.current=e,this.total=t,this.finalized=!!i,this.metadata=o||null}}function Up(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{xi(!1)}return xi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function iC(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c=H0(e,i,o),d={name:c.fullPath},f=La(a,n.host,n._protocol),y="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=$0(c,t),I=n.maxUploadRetryTime;function A($){Up($);let L;try{L=$.getResponseHeader("X-Goog-Upload-URL")}catch{xi(!1)}return xi(Eh(L)),L}const b=new Do(f,y,A,I);return b.urlParams=d,b.headers=v,b.body=T,b.errorHandler=nu(e),b}function sC(n,e,t,i){const o={"X-Goog-Upload-Command":"query"};function a(y){const v=Up(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xi(!1)}T||xi(!1);const I=Number(T);return xi(!isNaN(I)),new eh(I,i.size(),v==="final")}const c="POST",d=n.maxUploadRetryTime,f=new Do(t,c,a,d);return f.headers=o,f.errorHandler=nu(e),f}const C_=256*1024;function oC(n,e,t,i,o,a,c,d){const f=new eh(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw wA();const y=f.total-f.current;let v=y;o>0&&(v=Math.min(v,o));const T=f.current,I=T+v;let A="";v===0?A="finalize":y===v?A="upload, finalize":A="upload";const b={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${f.current}`},$=i.slice(T,I);if($===null)throw D0();function L(oe,me){const U=Up(oe,["active","final"]),x=f.current+v,S=i.size();let R;return U==="final"?R=Vp(e,a)(oe,me):R=null,new eh(x,S,U==="final",R)}const Q="POST",Y=e.maxUploadRetryTime,Z=new Do(t,Q,L,Y);return Z.headers=b,Z.body=$.uploadData(),Z.progressCallback=d||null,Z.errorHandler=nu(n),Z}const Dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mf(n){switch(n){case"running":case"pausing":case"canceling":return Dn.RUNNING;case"paused":return Dn.PAUSED;case"success":return Dn.SUCCESS;case"canceled":return Dn.CANCELED;case"error":return Dn.ERROR;default:return Dn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,i){if(PA(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class lC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uC extends lC{initXhr(){this.xhr_.responseType="text"}}function yo(){return new uC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=z0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(L0(o.status,[]))if(a)o=x0();else{this.sleepTime=Math.max(this.sleepTime*2,hA),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=iC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,yo,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const o=sC(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,yo,t,i);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=C_*this._chunkMultiplier,t=new eh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((o,a)=>{let c;try{c=oC(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const d=this._ref.storage._makeRequest(c,yo,o,a,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){C_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=ZA(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(i,yo,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=rC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,yo,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=N0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Mf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,o){const a=new aC(t||void 0,i||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Mf(this._state)){case Dn.SUCCESS:_a(this._resolve.bind(null,this.snapshot))();break;case Dn.CANCELED:case Dn.ERROR:const t=this._reject;_a(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mf(this._state)){case Dn.RUNNING:case Dn.PAUSED:e.next&&_a(e.next.bind(e,this.snapshot))();break;case Dn.SUCCESS:e.complete&&_a(e.complete.bind(e))();break;case Dn.CANCELED:case Dn.ERROR:e.error&&_a(e.error.bind(e,this._error))();break;default:e.error&&_a(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Io(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j0(this._location.path)}get storage(){return this._service}get parent(){const e=qA(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Io(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IA(e)}}function hC(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new cC(n,new ys(e),t)}function dC(n){n._throwIfRoot("getDownloadURL");const e=eC(n.storage,n._location,z0());return n.storage.makeRequestWithTokens(e,yo).then(t=>{if(t===null)throw EA();return t})}function fC(n){n._throwIfRoot("deleteObject");const e=tC(n.storage,n._location);return n.storage.makeRequestWithTokens(e,yo)}function pC(n,e){const t=WA(n._location.path,e),i=new Kn(n._location.bucket,t);return new Io(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){return/^[A-Za-z]+:\/\//.test(n)}function gC(n,e){return new Io(n,e)}function q0(n,e){if(n instanceof Fp){const t=n;if(t._bucket==null)throw vA();const i=new Io(t,t._bucket);return e!=null?q0(i,e):i}else return e!==void 0?pC(n,e):n}function yC(n,e){if(e&&mC(e)){if(n instanceof Fp)return gC(n,e);throw Jf("To use ref(service, url), the first argument must be a Storage instance.")}else return q0(n,e)}function P_(n,e){const t=e==null?void 0:e[k0];return t==null?null:Kn.makeFromBucketSpec(t,n)}function _C(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:T0(o,n.app.options.projectId))}class Fp{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=P0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uA,this._maxUploadRetryTime=cA,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=P_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=P_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new SA(b0());{const c=LA(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const k_="@firebase/storage",x_="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="storage";function Th(n,e,t){return n=bt(n),hC(n,e,t)}function Ih(n){return n=bt(n),dC(n)}function Sh(n){return n=bt(n),fC(n)}function xs(n,e){return n=bt(n),yC(n,e)}function vC(n=bp(),e){n=bt(n);const i=wh(n,W0).getImmediate({identifier:e}),o=v0("storage");return o&&wC(i,...o),i}function wC(n,e,t,i={}){_C(n,e,t,i)}function EC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Fp(t,i,o,e,No)}function TC(){To(new ks(W0,EC,"PUBLIC").setMultipleInstances(!0)),Xr(k_,x_,""),Xr(k_,x_,"esm2017")}TC();var IC="firebase",SC="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(IC,SC,"app");function jp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function K0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RC=K0,G0=new eu("auth","Firebase",K0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Np("@firebase/auth");function AC(n,...e){th.logLevel<=Be.WARN&&th.warn(`Auth (${No}): ${n}`,...e)}function Vc(n,...e){th.logLevel<=Be.ERROR&&th.error(`Auth (${No}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,...e){throw zp(n,...e)}function Yr(n,...e){return zp(n,...e)}function Q0(n,e,t){const i=Object.assign(Object.assign({},RC()),{[e]:t});return new eu("auth","Firebase",i).create(e,{appName:n.name})}function Ni(n){return Q0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return G0.create(n,...e)}function xe(n,e,...t){if(!n)throw zp(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vc(e),new Error(e)}function bi(n,e){n||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CC(){return N_()==="http:"||N_()==="https:"}function N_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CC()||BS()||"connection"in navigator)?navigator.onLine:!0}function kC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,bi(t>e,"Short delay should be less than long delay!"),this.isMobile=FS()||$S()}get(){return PC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new ru(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function js(n,e,t,i,o={}){return Y0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=tu(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},a);return zS()||(y.referrerPolicy="no-referrer"),X0.fetch()(J0(n,n.config.apiHost,t,d),y)})}async function Y0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},xC),e);try{const o=new bC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Ac(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ac(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ac(n,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Q0(n,v,y);Cr(n,v)}}catch(o){if(o instanceof si)throw o;Cr(n,"network-request-failed",{message:String(o)})}}async function iu(n,e,t,i,o={}){const a=await js(n,e,t,i,o);return"mfaPendingCredential"in a&&Cr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function J0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Bp(n.config,o):`${n.config.apiScheme}://${o}`}function DC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Yr(this.auth,"network-request-failed")),NC.get())})}}function Ac(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Yr(n,e,i);return o.customData._tokenResponse=t,o}function D_(n){return n!==void 0&&n.enterprise!==void 0}class OC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LC(n,e){return js(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,e){return js(n,"POST","/v1/accounts:delete",e)}async function Z0(n,e){return js(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MC(n,e=!1){const t=bt(n),i=await t.getIdToken(e),o=$p(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:bl(Uf(o.auth_time)),issuedAtTime:bl(Uf(o.iat)),expirationTime:bl(Uf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uf(n){return Number(n)*1e3}function $p(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=y0(t);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b_(n){const e=$p(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof si&&UC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function UC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await zl(n,Z0(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ew(a.providerUserInfo):[],d=zC(n.providerData,c),f=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ep(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function jC(n){const e=bt(n);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ew(n){return n.map(e=>{var{providerId:t}=e,i=jp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){const t=await Y0(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=J0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",X0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $C(n,e){return js(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=b_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await BC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Sa;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(xe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ep(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MC(this,e)}reload(){return jC(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await zl(this,VC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,f,y,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,Q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:oe,isAnonymous:me,providerData:U,stsTokenManager:x}=t;xe(Z&&x,e,"internal-error");const S=Sa.fromJSON(this.name,x);xe(typeof Z=="string",e,"internal-error"),ps(T,e.name),ps(I,e.name),xe(typeof oe=="boolean",e,"internal-error"),xe(typeof me=="boolean",e,"internal-error"),ps(A,e.name),ps(b,e.name),ps($,e.name),ps(L,e.name),ps(Q,e.name),ps(Y,e.name);const R=new Pi({uid:Z,auth:e,email:I,emailVerified:oe,displayName:T,isAnonymous:me,photoURL:b,phoneNumber:A,tenantId:$,stsTokenManager:S,createdAt:Q,lastLoginAt:Y});return U&&Array.isArray(U)&&(R.providerData=U.map(N=>Object.assign({},N))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Sa;o.updateFromServerResponse(t);const a=new Pi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await nh(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ew(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Sa;d.updateFromIdToken(i);const f=new Pi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;function ki(n){bi(n instanceof Function,"Expected a class definition");let e=O_.get(n);return e?(bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,O_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tw.type="NONE";const L_=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Mc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ra(ki(L_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ki(L_);const c=Mc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){const T=Pi._fromJSON(e,v);y!==a&&(d=T),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ra(a,e,i):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(ow(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nw(n=gn()){return/firefox\//i.test(n)}function rw(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(n=gn()){return/crios\//i.test(n)}function sw(n=gn()){return/iemobile/i.test(n)}function ow(n=gn()){return/android/i.test(n)}function aw(n=gn()){return/blackberry/i.test(n)}function lw(n=gn()){return/webos/i.test(n)}function Hp(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HC(n=gn()){var e;return Hp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qC(){return HS()&&document.documentMode===10}function uw(n=gn()){return Hp(n)||ow(n)||lw(n)||aw(n)||/windows phone/i.test(n)||sw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e=[]){let t;switch(n){case"Browser":t=V_(gn());break;case"Worker":t=`${V_(gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e={}){return js(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=6;class QC{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:GC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Z0(this,{idToken:e}),i=await Pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ni(this));const t=e?bt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KC(this),t=new QC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await $C(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bo(n){return bt(n)}class M_{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(n){Rh=n}function hw(n){return Rh.loadJS(n)}function JC(){return Rh.recaptchaEnterpriseScript}function ZC(){return Rh.gapiScript}function eP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tP{constructor(){this.enterprise=new nP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rP="recaptcha-enterprise",dw="NO_RECAPTCHA";class iP{constructor(e){this.type=rP,this.auth=bo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{LC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new OC(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(f=>{d(f)})})}function o(a,c,d){const f=window.grecaptcha;D_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(dw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tP().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&D_(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=JC();f.length!==0&&(f+=d),hw(f).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function U_(n,e,t,i=!1,o=!1){const a=new iP(n);let c;if(o)c=dw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function tp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n,e){const t=wh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return o;Cr(o,"already-initialized")}return t.initialize({options:e})}function oP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function aP(n,e,t){const i=bo(n);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=fw(e),{host:c,port:d}=lP(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),uP()}function fw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lP(n){const e=fw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:F_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:F_(c)}}}function F_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function cP(n,e){return js(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(n,e){return iu(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e){return iu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function fP(n,e){return iu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends qp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,t,"signInWithPassword",hP);case"emailLink":return dP(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,i,"signUpPassword",cP);case"emailLink":return fP(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(n,e){return iu(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="http://localhost";class So extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=jp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new So(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Aa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Aa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}buildRequest(){const e={requestUri:pP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gP(n){const e=Cl(Pl(n)).link,t=e?Cl(Pl(e)).deep_link_id:null,i=Cl(Pl(n)).deep_link_id;return(i?Cl(Pl(i)).link:null)||i||t||e||n}class Wp{constructor(e){var t,i,o,a,c,d;const f=Cl(Pl(e)),y=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,T=mP((o=f.mode)!==null&&o!==void 0?o:null);xe(y&&v&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=gP(e);try{return new Wp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,t){return Bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Wp.parseLink(t);return xe(i,"argument-error"),Bl._fromEmailAndCode(e,i.code,i.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends su{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends su{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends su{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Es.credential(t,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e){return iu(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Pi._fromIdTokenResponse(e,i,o),c=j_(i);return new Ro({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=j_(i);return new Ro({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function j_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends si{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new rh(e,t,i,o)}}function mw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(n,a,e,i):a})}async function _P(n,e,t=!1){const i=await zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ro._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n,e,t=!1){const{auth:i}=n;if(Wn(i.app))return Promise.reject(Ni(i));const o="reauthenticate";try{const a=await zl(n,mw(i,o,e,n),t);xe(a.idToken,i,"internal-error");const c=$p(a.idToken);xe(c,i,"internal-error");const{sub:d}=c;return xe(n.uid===d,i,"user-mismatch"),Ro._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n,e,t=!1){if(Wn(n.app))return Promise.reject(Ni(n));const i="signIn",o=await mw(n,i,e),a=await Ro._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function wP(n,e){return gw(bo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n){const e=bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EP(n,e,t){if(Wn(n.app))return Promise.reject(Ni(n));const i=bo(n),c=await tp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&yw(n),f}),d=await Ro._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function TP(n,e,t){return Wn(n.app)?Promise.reject(Ni(n)):wP(bt(n),Va.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yw(n),i})}function IP(n,e,t,i){return bt(n).onIdTokenChanged(e,t,i)}function SP(n,e,t){return bt(n).beforeAuthStateChanged(e,t)}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=1e3,AP=10;class vw extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);qC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},RP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vw.type="LOCAL";const CP=vw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ww.type="SESSION";const Ew=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),f=await PP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const y=Kp("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function xP(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function NP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bP(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firebaseLocalStorageDb",OP=1,sh="firebaseLocalStorage",Sw="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ch(n,e){return n.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function LP(){const n=indexedDB.deleteDatabase(Iw);return new ou(n).toPromise()}function np(){const n=indexedDB.open(Iw,OP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sh,{keyPath:Sw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sh)?e(i):(i.close(),await LP(),e(await np()))})})}async function z_(n,e,t){const i=Ch(n,!0).put({[Sw]:e,value:t});return new ou(i).toPromise()}async function VP(n,e){const t=Ch(n,!1).get(e),i=await new ou(t).toPromise();return i===void 0?null:i.value}function B_(n,e){const t=Ch(n,!0).delete(e);return new ou(t).toPromise()}const MP=800,UP=3;class Rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>UP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(bP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NP(),!this.activeServiceWorker)return;this.sender=new kP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await z_(e,ih,"1"),await B_(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>z_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>VP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Ch(o,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rw.type="LOCAL";const FP=Rw;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n,e){return e?ki(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zP(n){return gw(n.auth,new Gp(n),n.bypassAuthState)}function BP(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),vP(t,new Gp(n),n.bypassAuthState)}async function $P(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),_P(t,new Gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zP;case"linkViaPopup":case"linkViaRedirect":return $P;case"reauthViaPopup":case"reauthViaRedirect":return BP;default:Cr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new ru(2e3,1e4);class Ia extends Aw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HP.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="pendingRedirect",Uc=new Map;class WP extends Aw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const i=await KP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KP(n,e){const t=XP(e),i=QP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function GP(n,e){Uc.set(n._key(),e)}function QP(n){return ki(n._redirectPersistence)}function XP(n){return Mc(qP,n.config.apiKey,n.name)}async function YP(n,e,t=!1){if(Wn(n.app))return Promise.reject(Ni(n));const i=bo(n),o=jP(i,e),c=await new WP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=10*60*1e3;class ZP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ek(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Cw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JP&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ek(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e={}){return js(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rk=/^https?/;async function ik(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tk(n);for(const t of e)try{if(sk(t))return}catch{}Cr(n,"unauthorized-domain")}function sk(n){const e=Zf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!rk.test(t))return!1;if(nk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new ru(3e4,6e4);function H_(){const n=Jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ak(n){return new Promise((e,t)=>{var i,o,a;function c(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),t(Yr(n,"network-request-failed"))},timeout:ok.get()})}if(!((o=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)c();else{const d=eP("iframefcb");return Jr()[d]=()=>{gapi.load?c():t(Yr(n,"network-request-failed"))},hw(`${ZC()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function lk(n){return Fc=Fc||ak(n),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new ru(5e3,15e3),ck="__/auth/iframe",hk="emulator/auth/iframe",dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pk(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bp(e,hk):`https://${n.config.authDomain}/${ck}`,i={apiKey:e.apiKey,appName:n.name,v:No},o=fk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${tu(i).slice(1)}`}async function mk(n){const e=await lk(n),t=Jr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:pk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Yr(n,"network-request-failed"),d=Jr().setTimeout(()=>{a(c)},uk.get());function f(){Jr().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yk=500,_k=600,vk="_blank",wk="http://localhost";class q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ek(n,e,t,i=yk,o=_k){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},gk),{width:i.toString(),height:o.toString(),top:a,left:c}),y=gn().toLowerCase();t&&(d=iw(y)?vk:t),nw(y)&&(e=e||wk,f.scrollbars="yes");const v=Object.entries(f).reduce((I,[A,b])=>`${I}${A}=${b},`,"");if(HC(y)&&d!=="_self")return Tk(e||"",d),new q_(null);const T=window.open(e||"",d,v);xe(T,n,"popup-blocked");try{T.focus()}catch{}return new q_(T)}function Tk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="__/auth/handler",Sk="emulator/auth/handler",Rk=encodeURIComponent("fac");async function W_(n,e,t,i,o,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:No,eventId:o};if(e instanceof pw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",YS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof su){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),y=f?`#${Rk}=${encodeURIComponent(f)}`:"";return`${Ak(n)}?${tu(d).slice(1)}${y}`}function Ak({config:n}){return n.emulator?Bp(n,Sk):`https://${n.authDomain}/${Ik}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class Ck{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=YP,this._overrideRedirectResult=GP}async _openPopup(e,t,i,o){var a;bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await W_(e,t,i,Zf(),o);return Ek(e,c,Kp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await W_(e,t,i,Zf(),o);return xP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(bi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await mk(e),i=new ZP(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ff,{type:Ff},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Ff];c!==void 0&&t(!!c),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ik(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uw()||rw()||Hp()}}const Pk=Ck;var K_="@firebase/auth",G_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nk(n){To(new ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(n)},y=new XC(i,o,a,f);return oP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),To(new ks("auth-internal",e=>{const t=bo(e.getProvider("auth").getImmediate());return(i=>new kk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(K_,G_,xk(n)),Xr(K_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=5*60,bk=E0("authIdTokenMaxAge")||Dk;let Q_=null;const Ok=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>bk)return;const o=t==null?void 0:t.token;Q_!==o&&(Q_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Lk(n=bp()){const e=wh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sP(n,{popupRedirectResolver:Pk,persistence:[FP,CP,Ew]}),i=E0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Ok(a.toString());SP(t,c,()=>c(t.currentUser)),IP(t,d=>c(d))}}const o=_0("auth");return o&&aP(t,`http://${o}`),t}function Vk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}YC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Yr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Vk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nk("Browser");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,Pw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,V,j){for(var k=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)k[ot-2]=arguments[ot];return S.prototype[V].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)N[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],V=x.g[2];var j=x.g[3],k=S+(j^R&(V^j))+N[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=j+(V^S&(R^V))+N[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=V+(R^j&(S^R))+N[2]+606105819&4294967295,V=j+(k<<17&4294967295|k>>>15),k=R+(S^V&(j^S))+N[3]+3250441966&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(j^R&(V^j))+N[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(V^S&(R^V))+N[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=V+(R^j&(S^R))+N[6]+2821735955&4294967295,V=j+(k<<17&4294967295|k>>>15),k=R+(S^V&(j^S))+N[7]+4249261313&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(j^R&(V^j))+N[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(V^S&(R^V))+N[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=V+(R^j&(S^R))+N[10]+4294925233&4294967295,V=j+(k<<17&4294967295|k>>>15),k=R+(S^V&(j^S))+N[11]+2304563134&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(j^R&(V^j))+N[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(V^S&(R^V))+N[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=V+(R^j&(S^R))+N[14]+2792965006&4294967295,V=j+(k<<17&4294967295|k>>>15),k=R+(S^V&(j^S))+N[15]+1236535329&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(V^j&(R^V))+N[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^V&(S^R))+N[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(j^S))+N[11]+643717713&4294967295,V=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(V^j))+N[0]+3921069994&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^j&(R^V))+N[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^V&(S^R))+N[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(j^S))+N[15]+3634488961&4294967295,V=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(V^j))+N[4]+3889429448&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^j&(R^V))+N[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^V&(S^R))+N[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(j^S))+N[3]+4107603335&4294967295,V=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(V^j))+N[8]+1163531501&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^j&(R^V))+N[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^V&(S^R))+N[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(j^S))+N[7]+1735328473&4294967295,V=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(V^j))+N[12]+2368359562&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(R^V^j)+N[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^V)+N[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=V+(j^S^R)+N[11]+1839030562&4294967295,V=j+(k<<16&4294967295|k>>>16),k=R+(V^j^S)+N[14]+4259657740&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^j)+N[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^V)+N[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=V+(j^S^R)+N[7]+4139469664&4294967295,V=j+(k<<16&4294967295|k>>>16),k=R+(V^j^S)+N[10]+3200236656&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^j)+N[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^V)+N[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=V+(j^S^R)+N[3]+3572445317&4294967295,V=j+(k<<16&4294967295|k>>>16),k=R+(V^j^S)+N[6]+76029189&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^j)+N[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^V)+N[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=V+(j^S^R)+N[15]+530742520&4294967295,V=j+(k<<16&4294967295|k>>>16),k=R+(V^j^S)+N[2]+3299628645&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(V^(R|~j))+N[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~V))+N[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=V+(S^(j|~R))+N[14]+2878612391&4294967295,V=j+(k<<15&4294967295|k>>>17),k=R+(j^(V|~S))+N[5]+4237533241&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~j))+N[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~V))+N[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=V+(S^(j|~R))+N[10]+4293915773&4294967295,V=j+(k<<15&4294967295|k>>>17),k=R+(j^(V|~S))+N[1]+2240044497&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~j))+N[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~V))+N[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=V+(S^(j|~R))+N[6]+2734768916&4294967295,V=j+(k<<15&4294967295|k>>>17),k=R+(j^(V|~S))+N[13]+1309151649&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~j))+N[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~V))+N[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=V+(S^(j|~R))+N[2]+718787259&4294967295,V=j+(k<<15&4294967295|k>>>17),k=R+(j^(V|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+j&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,N=this.B,V=this.h,j=0;j<S;){if(V==0)for(;j<=R;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<S;)if(N[V++]=x.charCodeAt(j++),V==this.blockSize){o(this,N),V=0;break}}else for(;j<S;)if(N[V++]=x[j++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)x[R++]=this.g[S]>>>N&255;return x};function a(x,S){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function c(x,S){this.h=S;for(var R=[],N=!0,V=x.length-1;0<=V;V--){var j=x[V]|0;N&&j==S||(R[V]=j,N=!1)}this.g=R}var d={};function f(x){return-128<=x&&128>x?a(x,function(S){return new c([S|0],0>S?-1:0)}):new c([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return L(y(-x));for(var S=[],R=1,N=0;x>=R;N++)S[N]=x/R|0,R*=4294967296;return new c(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return L(v(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),N=T,V=0;V<x.length;V+=8){var j=Math.min(8,x.length-V),k=parseInt(x.substring(V,V+j),S);8>j?(j=y(Math.pow(S,j)),N=N.j(j).add(y(k))):(N=N.j(R),N=N.add(y(k)))}return N}var T=f(0),I=f(1),A=f(16777216);n=c.prototype,n.m=function(){if($(this))return-L(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if($(this))return"-"+L(this).toString(x);for(var S=y(Math.pow(x,6)),R=this,N="";;){var V=oe(R,S).g;R=Q(R,V.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=V,b(R))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function $(x){return x.h==-1}n.l=function(x){return x=Q(this,x),$(x)?-1:b(x)?0:1};function L(x){for(var S=x.g.length,R=[],N=0;N<S;N++)R[N]=~x.g[N];return new c(R,~x.h).add(I)}n.abs=function(){return $(this)?L(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0,V=0;V<=S;V++){var j=N+(this.i(V)&65535)+(x.i(V)&65535),k=(j>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=k>>>16,j&=65535,k&=65535,R[V]=k<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Q(x,S){return x.add(L(S))}n.j=function(x){if(b(this)||b(x))return T;if($(this))return $(x)?L(this).j(L(x)):L(L(this).j(x));if($(x))return L(this.j(L(x)));if(0>this.l(A)&&0>x.l(A))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var j=this.i(N)>>>16,k=this.i(N)&65535,ot=x.i(V)>>>16,kt=x.i(V)&65535;R[2*N+2*V]+=k*kt,Y(R,2*N+2*V),R[2*N+2*V+1]+=j*kt,Y(R,2*N+2*V+1),R[2*N+2*V+1]+=k*ot,Y(R,2*N+2*V+1),R[2*N+2*V+2]+=j*ot,Y(R,2*N+2*V+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function Y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Z(x,S){this.g=x,this.h=S}function oe(x,S){if(b(S))throw Error("division by zero");if(b(x))return new Z(T,T);if($(x))return S=oe(L(x),S),new Z(L(S.g),L(S.h));if($(S))return S=oe(x,L(S)),new Z(L(S.g),S.h);if(30<x.g.length){if($(x)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,N=S;0>=N.l(x);)R=me(R),N=me(N);var V=U(R,1),j=U(N,1);for(N=U(N,2),R=U(R,2);!b(N);){var k=j.add(N);0>=k.l(x)&&(V=V.add(R),j=k),N=U(N,1),R=U(R,1)}return S=Q(x,V.j(S)),new Z(V,S)}for(V=T;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=y(R),k=j.j(S);$(k)||0<k.l(x);)R-=N,j=y(R),k=j.j(S);b(j)&&(j=I),V=V.add(j),x=Q(x,k)}return new Z(V,x)}n.A=function(x){return oe(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&x.i(N);return new c(R,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|x.i(N);return new c(R,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^x.i(N);return new c(R,this.h^x.h)};function me(x){for(var S=x.g.length+1,R=[],N=0;N<S;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(R,x.h)}function U(x,S){var R=S>>5;S%=32;for(var N=x.g.length-R,V=[],j=0;j<N;j++)V[j]=0<S?x.i(j+R)>>>S|x.i(j+R+1)<<32-S:x.i(j+R);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Rs=c}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,kl,xw,jc,rp,Nw,Dw,bw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var B=u[E];if(!(B in _))break e;_=_[B]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var _=0,E=!1,B={next:function(){if(!E&&_<u.length){var X=_++;return{value:m(X,u[X]),done:!1}}return E=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,E),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function I(u,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,I.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,B,X){for(var ue=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ue[ht-2]=arguments[ht];return m.prototype[B].apply(E,ue)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function L(u,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(f(E)){const B=u.length||0,X=E.length||0;u.length=B+X;for(let ue=0;ue<X;ue++)u[B+ue]=E[ue]}else u.push(E)}}class Q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var me=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function U(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,E;for(let B=1;B<arguments.length;B++){E=arguments[B];for(_ in E)u[_]=E[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function j(u){d.setTimeout(()=>{throw u},0)}function k(){var u=Se;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,_){const E=kt.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new He,u=>u.reset());class He{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ze,le=!1,Se=new ot,he=()=>{const u=d.Promise.resolve(void 0);Ze=()=>{u.then(F)}};var F=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(_){j(_)}var m=kt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u}();function Ue(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(me){e:{try{oe(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ue.aa.h.call(this)}}b(Ue,_e);var Fe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),tt=0;function dt(u,m,_,E,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=B,this.key=++tt,this.da=this.fa=!1}function Qe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function sn(u){this.src=u,this.g={},this.h=0}sn.prototype.add=function(u,m,_,E,B){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ue=kr(u,m,E,B);return-1<ue?(m=u[ue],_||(m.fa=!1)):(m=new dt(m,this.src,X,!!E,B),m.fa=_,u.push(m)),m};function oi(u,m){var _=m.type;if(_ in u.g){var E=u.g[_],B=Array.prototype.indexOf.call(E,m,void 0),X;(X=0<=B)&&Array.prototype.splice.call(E,B,1),X&&(Qe(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function kr(u,m,_,E){for(var B=0;B<u.length;++B){var X=u[B];if(!X.da&&X.listener==m&&X.capture==!!_&&X.ha==E)return B}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),Ui={};function Ws(u,m,_,E,B){if(Array.isArray(m)){for(var X=0;X<m.length;X++)Ws(u,m[X],_,E,B);return null}return _=li(_),u&&u[et]?u.K(m,_,y(E)?!!E.capture:!!E,B):Fi(u,m,_,!1,E,B)}function Fi(u,m,_,E,B,X){if(!m)throw Error("Invalid event type");var ue=y(B)?!!B.capture:!!B,ht=Qn(u);if(ht||(u[yn]=ht=new sn(u)),_=ht.add(m,_,E,ue,X),_.proxy)return _;if(E=Mo(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)De||(B=ue),B===void 0&&(B=!1),u.addEventListener(m.toString(),E,B);else if(u.attachEvent)u.attachEvent(fr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Mo(){function u(_){return m.call(u.src,u.listener,_)}const m=Mn;return u}function ji(u,m,_,E,B){if(Array.isArray(m))for(var X=0;X<m.length;X++)ji(u,m[X],_,E,B);else E=y(E)?!!E.capture:!!E,_=li(_),u&&u[et]?(u=u.i,m=String(m).toString(),m in u.g&&(X=u.g[m],_=kr(X,_,E,B),-1<_&&(Qe(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=kr(m,_,E,B)),(_=-1<u?m[u]:null)&&dr(_))}function dr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[et])oi(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(fr(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=Qn(m))?(oi(_,u),_.h==0&&(_.src=null,m[yn]=null)):Qe(u)}}}function fr(u){return u in Ui?Ui[u]:Ui[u]="on"+u}function Mn(u,m){if(u.da)u=!0;else{m=new Ue(m,this);var _=u.listener,E=u.ha||u.src;u.fa&&dr(u),u=_.call(E,m)}return u}function Qn(u){return u=u[yn],u instanceof sn?u:null}var ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function li(u){return typeof u=="function"?u:(u[ai]||(u[ai]=function(m){return u.handleEvent(m)}),u[ai])}function ft(){J.call(this),this.i=new sn(this),this.M=this,this.F=null}b(ft,J),ft.prototype[et]=!0,ft.prototype.removeEventListener=function(u,m,_,E){ji(this,u,m,_,E)};function at(u,m){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var B=m;m=new _e(E,u),N(m,B)}if(B=!0,_)for(var X=_.length-1;0<=X;X--){var ue=m.g=_[X];B=Xn(ue,E,!0,m)&&B}if(ue=m.g=u,B=Xn(ue,E,!0,m)&&B,B=Xn(ue,E,!1,m)&&B,_)for(X=0;X<_.length;X++)ue=m.g=_[X],B=Xn(ue,E,!1,m)&&B}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],E=0;E<_.length;E++)Qe(_[E]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},ft.prototype.L=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function Xn(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,X=0;X<m.length;++X){var ue=m[X];if(ue&&!ue.da&&ue.capture==_){var ht=ue.listener,Ft=ue.ha||ue.src;ue.fa&&oi(u.i,ue),B=ht.call(Ft,E)!==!1&&B}}return B&&!E.defaultPrevented}function ui(u,m,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function xr(u){u.g=ui(()=>{u.g=null,u.i&&(u.i=!1,xr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends J{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){J.call(this),this.h=u,this.g={}}b(Nr,J);var zi=[];function Bi(u){U(u.g,function(m,_){this.g.hasOwnProperty(_)&&dr(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Bi(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=d.JSON.stringify,$i=d.JSON.parse,Dr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function br(){}br.prototype.h=null;function Or(u){return u.h||(u.h=u.i())}function Hi(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){_e.call(this,"d")}b(Yn,_e);function ci(){_e.call(this,"c")}b(ci,_e);var vn={},Lr=null;function hi(){return Lr=Lr||new ft}vn.La="serverreachability";function Gs(u){_e.call(this,vn.La,u)}b(Gs,_e);function D(u){const m=hi();at(m,new Gs(m))}vn.STAT_EVENT="statevent";function z(u,m){_e.call(this,vn.STAT_EVENT,u),this.stat=m}b(z,_e);function q(u){const m=hi();at(m,new z(m,u))}vn.Ma="timingevent";function ne(u,m){_e.call(this,vn.Ma,u),this.size=m}b(ne,_e);function ce(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Te(){this.g=!0}Te.prototype.xa=function(){this.g=!1};function Ce(u,m,_,E,B,X){u.info(function(){if(u.g)if(X)for(var ue="",ht=X.split("&"),Ft=0;Ft<ht.length;Ft++){var Ye=ht[Ft].split("=");if(1<Ye.length){var Ht=Ye[0];Ye=Ye[1];var Lt=Ht.split("_");ue=2<=Lt.length&&Lt[1]=="type"?ue+(Ht+"="+Ye+"&"):ue+(Ht+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+E+") [attempt "+B+"]: "+m+`
`+_+`
`+ue})}function ge(u,m,_,E,B,X,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+B+"]: "+m+`
`+_+`
`+X+" "+ue})}function fe(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+be(u,_)+(E?" "+E:"")})}function de(u,m){u.info(function(){return"TIMEOUT: "+m})}Te.prototype.info=function(){};function be(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var B=E[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return Ks(_)}catch{return m}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ut;function it(){}b(it,br),it.prototype.g=function(){return new XMLHttpRequest},it.prototype.i=function(){return{}},ut=new it;function ze(u,m,_,E){this.j=u,this.i=m,this.l=_,this.R=E||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Jn={},Zn={};function an(u,m,_){u.L=1,u.v=Qi(Un(m)),u.m=_,u.P=!0,ln(u,null)}function ln(u,m){u.F=Date.now(),Xe(u),u.A=Un(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Yi(_.i,"t",E),u.C=0,_=u.j.J,u.h=new Et,u.g=Au(u.j,_?m:null,!u.m),0<u.O&&(u.M=new on(I(u.Y,u,u.g),u.O)),m=u.U,_=u.g,E=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(zi[0]=B.toString()),B=zi);for(var X=0;X<B.length;X++){var ue=Ws(_,B[X],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),D(),Ce(u.i,u.u,u.A,u.l,u.R,u.m)}ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},ze.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Rn(this.g);var m=this.g.Ba();const nr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Ka(this.g)))){this.J||Lt!=4||m==7||(m==8||0>=nr?D(3):D(2)),er(this);var _=this.g.Z();this.X=_;t:if(qi(this)){var E=Ka(this.g);u="";var B=E.length,X=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),qe(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(X&&m==B-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,ge(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Ft=this.g;if((ht=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ht)){var Ye=ht;break t}}Ye=null}if(_=Ye)fe(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,_);else{this.o=!1,this.s=3,q(12),ct(this),qe(this);break e}}if(this.P){_=!0;let jn;for(;!this.J&&this.C<ue.length;)if(jn=di(this,ue),jn==Zn){Lt==4&&(this.s=4,q(14),_=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Jn){this.s=4,q(15),fe(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else fe(this.i,this.l,jn,null),Vr(this,jn);if(qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ue.length!=0||this.h.h||(this.s=1,q(16),_=!1),this.o=this.o&&_,!_)fe(this.i,this.l,ue,"[Invalid Chunked Response]"),ct(this),qe(this);else if(0<ue.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Qa(Ht),Ht.M=!0,q(11))}}else fe(this.i,this.l,ue,null),Vr(this,ue);Lt==4&&ct(this),this.o&&!this.J&&(Lt==4?Go(this.j,this):(this.o=!1,Xe(this)))}else $o(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),ct(this),qe(this)}}}catch{}finally{}};function qi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function di(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?Zn:(_=Number(m.substring(_,E)),isNaN(_)?Jn:(E+=1,E+_>m.length?Zn:(m=m.slice(E,E+_),u.C=E+_,m)))}ze.prototype.cancel=function(){this.J=!0,ct(this)};function Xe(u){u.S=Date.now()+u.I,fi(u,u.I)}function fi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ce(I(u.ba,u),m)}function er(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(de(this.i,this.A),this.L!=2&&(D(),q(17)),ct(this),this.s=2,qe(this)):fi(this,this.S-u)};function qe(u){u.j.G==0||u.J||Go(u.j,u)}function ct(u){er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Bi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Vr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Qt(_.h,u))){if(!u.K&&Qt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var B=E;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ko(_),_r(_);else break e;Wo(_),q(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ce(I(_.Za,_),6e3));if(1>=Qs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((u.K||_.g==u)&&Ko(_),!Y(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Ye=B[m];if(_.T=Ye[0],Ye=Ye[1],_.G==2)if(Ye[0]=="c"){_.K=Ye[1],_.ia=Ye[2];const Ht=Ye[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Lt=Ye[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const nr=Ye[5];nr!=null&&typeof nr=="number"&&0<nr&&(E=1.5*nr,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const jn=u.g;if(jn){const to=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var X=E.h;X.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($a(X,X.h),X.h=null))}if(E.D){const Xo=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(E.ya=Xo,mt(E.I,E.D,Xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ue=u;if(E.qa=Ru(E,E.J?E.ia:null,E.W),ue.K){fu(E.h,ue);var ht=ue,Ft=E.L;Ft&&(ht.I=Ft),ht.B&&(er(ht),Xe(ht)),E.g=ue}else eo(E);0<_.i.length&&zr(_)}else Ye[0]!="stop"&&Ye[0]!="close"||_i(_,7);else _.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?_i(_,7):Yt(_):Ye[0]!="noop"&&_.l&&_.l.ta(Ye),_.v=0)}}D(4)}catch{}}var Mr=class{constructor(u,m){this.g=u,this.map=m}};function pt(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $a(u,m){u.g?u.g.add(m):u.h=m}function fu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pt.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function pu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function Uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],_=u.length,E=0;E<_;E++)m.push(u[E]);return m}m=[],_=0;for(E in u)m[_++]=u[E];return m}function Fo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const E in u)m[_++]=E;return m}}}function Wi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Fo(u),E=Uo(u),B=E.length,X=0;X<B;X++)m.call(void 0,E[X],_&&_[X],u)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),B=null;if(0<=E){var X=u[_].substring(0,E);B=u[_].substring(E+1)}else X=u[_];m(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,Ys(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,_=new Ur;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Gi(this,_),this.m=u.m}else u&&(m=String(u).match(Xs))?(this.h=!1,Ys(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Ki(this,m[4]),this.l=We(m[5]||"",!0),Gi(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}pi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xi(m,jo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xi(m,jo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Xi(_,_.charAt(0)=="/"?yu:gu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Xi(_,Ha)),u.join("")};function Un(u){return new pi(u)}function Ys(u,m,_){u.j=_?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Gi(u,m,_){m instanceof Ur?(u.i=m,Fr(u.i,u.h)):(_||(m=Xi(m,_u)),u.i=new Ur(m,u.h))}function mt(u,m,_){u.i.set(m,_)}function Qi(u){return mt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xi(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,mu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jo=/[#\/\?@]/g,gu=/[#\?:]/g,yu=/[#\?]/g,_u=/[#\?@]/g,Ha=/#/g;function Ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Xt(u){u.g||(u.g=new Map,u.h=0,u.i&&Xh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Ur.prototype,n.add=function(u,m){Xt(this),this.i=null,u=tr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function pr(u,m){Xt(u),m=tr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mr(u,m){return Xt(u),m=tr(u,m),u.g.has(m)}n.forEach=function(u,m){Xt(this),this.g.forEach(function(_,E){_.forEach(function(B){u.call(m,B,E,this)},this)},this)},n.na=function(){Xt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const B=u[E];for(let X=0;X<B.length;X++)_.push(m[E])}return _},n.V=function(u){Xt(this);let m=[];if(typeof u=="string")mr(this,u)&&(m=m.concat(this.g.get(tr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Xt(this),this.i=null,u=tr(this,u),mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Yi(u,m,_){pr(u,m),0<_.length&&(u.i=null,u.g.set(tr(u,m),$(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const X=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var B=X;ue[E]!==""&&(B+="="+encodeURIComponent(String(ue[E]))),u.push(B)}}return this.i=u.join("&")};function tr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fr(u,m){m&&!u.j&&(Xt(u),u.i=null,u.g.forEach(function(_,E){var B=E.toLowerCase();E!=B&&(pr(this,E),Yi(this,B,_))},u)),u.j=m}function Yh(u,m){const _=new Te;if(d.Image){const E=new Image;E.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,E),E.onerror=A(Sn,_,"TestLoadImage: error",!1,m,E),E.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function vu(u,m){const _=new Te,E=new AbortController,B=setTimeout(()=>{E.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(X=>{clearTimeout(B),X.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,E,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),E(_)}catch{}}function Jh(){this.g=new Dr}function wu(u,m,_){const E=_||"";try{Wi(u,function(B,X){let ue=B;y(B)&&(ue=Ks(B)),m.push(E+X+"="+encodeURIComponent(ue))})}catch(B){throw m.push(E+"type="+encodeURIComponent("_badmap")),B}}function mi(u){this.l=u.Ub||null,this.j=u.eb||!1}b(mi,br),mi.prototype.g=function(){return new Js(this.l,this.j)},mi.prototype.i=function(u){return function(){return u}}({});function Js(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Js,ft),n=Js.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,yr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):yr(this),this.readyState==3&&Eu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,gr(this))},n.Qa=function(u){this.g&&(this.response=u,gr(this))},n.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function yr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gi(u){let m="";return U(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function Ji(u,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=gi(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):mt(u,m,_))}function Tt(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tt,ft);var Zh=/^https?$/i,qa=["POST","PUT"];n=Tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ut.g(),this.v=this.o?Or(this.o):Or(ut),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){Zs(this,X);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var B in E)_.set(B,E[B]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const X of E.keys())_.set(X,E.get(X));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(qa,m,void 0))||E||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of _)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Zs(this,X)}};function Zs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zo(u),Fn(u)}function zo(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,at(this,"complete"),at(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wa(this):this.bb())},n.bb=function(){Wa(this)};function Wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)ui(u.Ea,0,u);else if(at(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=ue===0){var B=String(u.D).match(Xs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),E=!Zh.test(B?B.toLowerCase():"")}_=E}if(_)at(u,"complete"),at(u,"success");else{u.m=6;try{var X=2<Rn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",zo(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Bo(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||at(u,"ready");try{_.onreadystatechange=E}catch{}}}function Bo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$i(m)}};function Ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Y(u[E]))continue;var _=V(u[E]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=m[B]||[];m[B]=X,X.push(_)}x(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ga(u){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,u),this.cb=jr("retryDelaySeedMs",1e4,u),this.Wa=jr("forwardChannelMaxRetries",2,u),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pt(u&&u.concurrentRequestLimit),this.Da=new Jh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,E){q(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Ru(this,null,this.W),zr(this)};function Yt(u){if(Ho(u),u.G==3){var m=u.U++,_=Un(u.I);if(mt(_,"SID",u.K),mt(_,"RID",m),mt(_,"TYPE","terminate"),yi(u,_),m=new ze(u,u.j,m),m.L=2,m.v=Qi(Un(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=Au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}Su(u)}function _r(u){u.g&&(Qa(u),u.g.cancel(),u.g=null)}function Ho(u){_r(u),u.u&&(d.clearTimeout(u.u),u.u=null),Ko(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function zr(u){if(!Ot(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ze||he(),le||(Ze(),le=!0),Se.add(m,u),u.B=0}}function ed(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ce(I(u.Ga,u,m),Iu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new ze(this,this.j,u);let X=this.o;if(this.S&&(X?(X=S(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Zi(this,B,m),_=Un(this.I),mt(_,"RID",u),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),yi(this,_),X&&(this.O?m="headers="+encodeURIComponent(String(gi(X)))+"&"+m:this.m&&Ji(_,this.m,X)),$a(this.h,B),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",m),mt(_,"SID","null"),B.T=!0,an(B,_,null)):an(B,_,m),this.G=2}}else this.G==3&&(u?qo(this,u):this.i.length==0||Ot(this.h)||qo(this))};function qo(u,m){var _;m?_=m.l:_=u.U++;const E=Un(u.I);mt(E,"SID",u.K),mt(E,"RID",_),mt(E,"AID",u.T),yi(u,E),u.m&&u.o&&Ji(E,u.m,u.o),_=new ze(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Zi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$a(u.h,_),an(_,E,m)}function yi(u,m){u.H&&U(u.H,function(_,E){mt(m,E,_)}),u.l&&Wi({},function(_,E){mt(m,E,_)})}function Zi(u,m,_){_=Math.min(u.i.length,_);var E=u.l?I(u.l.Na,u.l,u):null;e:{var B=u.i;let X=-1;for(;;){const ue=["count="+_];X==-1?0<_?(X=B[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let ht=!0;for(let Ft=0;Ft<_;Ft++){let Ye=B[Ft].g;const Ht=B[Ft].map;if(Ye-=X,0>Ye)X=Math.max(0,B[Ft].g-100),ht=!1;else try{wu(Ht,ue,"req"+Ye+"_")}catch{E&&E(Ht)}}if(ht){E=ue.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,E}function eo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ze||he(),le||(Ze(),le=!0),Se.add(m,u),u.v=0}}function Wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ce(I(u.Fa,u),Iu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ce(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),_r(this),Tu(this))};function Qa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Tu(u){u.g=new ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Un(u.qa);mt(m,"RID","rpc"),mt(m,"SID",u.K),mt(m,"AID",u.T),mt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&mt(m,"TO",u.ja),mt(m,"TYPE","xmlhttp"),yi(u,m),u.m&&u.o&&Ji(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Qi(Un(m)),_.m=null,_.P=!0,ln(_,u)}n.Za=function(){this.C!=null&&(this.C=null,_r(this),Wo(this),q(19))};function Ko(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Go(u,m){var _=null;if(u.g==m){Ko(u),Qa(u),u.g=null;var E=2}else if(Qt(u.h,m))_=m.D,fu(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;E=hi(),at(E,new ne(E,_)),zr(u)}else eo(u);else if(B=m.s,B==3||B==0&&0<m.X||!(E==1&&ed(u,m)||E==2&&Wo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Iu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var _=I(u.fb,u),E=u.Xa;const B=!E;E=new pi(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ys(E,"https"),Qi(E),B?Yh(E.toString(),_):vu(E.toString(),_)}else q(2);u.G=0,u.l&&u.l.sa(m),Su(u),Ho(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Su(u){if(u.G=0,u.ka=[],u.l){const m=pu(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Ru(u,m,_){var E=_ instanceof pi?Un(_):new pi(_);if(E.g!="")m&&(E.g=m+"."+E.g),Ki(E,E.s);else{var B=d.location;E=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var X=new pi(null);E&&Ys(X,E),m&&(X.g=m),B&&Ki(X,B),_&&(X.l=_),E=X}return _=u.D,m=u.ya,_&&m&&mt(E,_,m),mt(E,"VER",u.la),yi(u,E),E}function Au(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Tt(new mi({eb:_})):new Tt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xa(){}n=Xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){ft.call(this),this.g=new Ga(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Br(this)}b(wn,ft),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Yt(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ks(u),u=_);m.i.push(new Mr(m.Ya++,u)),m.G==3&&zr(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,wn.aa.N.call(this)};function Cu(u){Yn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Cu,Yn);function Pu(){ci.call(this),this.status=1}b(Pu,ci);function Br(u){this.g=u}b(Br,Xa),Br.prototype.ua=function(){at(this.g,"a")},Br.prototype.ta=function(u){at(this.g,new Cu(u))},Br.prototype.sa=function(u){at(this.g,new Pu)},Br.prototype.ra=function(){at(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,bw=function(){return new Qo},Dw=function(){return hi()},Nw=vn,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,jc=Le,lt.COMPLETE="complete",xw=lt,Hi.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",ft.prototype.listen=ft.prototype.K,kl=Hi,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,kw=Tt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",J_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Np("@firebase/firestore");function va(){return Ao.logLevel}function ye(n,...e){if(Ao.logLevel<=Be.DEBUG){const t=e.map(Qp);Ao.debug(`Firestore (${Ma}): ${n}`,...t)}}function Oi(n,...e){if(Ao.logLevel<=Be.ERROR){const t=e.map(Qp);Ao.error(`Firestore (${Ma}): ${n}`,...t)}}function Pa(n,...e){if(Ao.logLevel<=Be.WARN){const t=e.map(Qp);Ao.warn(`Firestore (${Ma}): ${n}`,...t)}}function Qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+n;throw Oi(e),new Error(e)}function st(n,e){n||Ne()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class Uk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fk{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new As;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new As,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new As)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new Ow(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new pn(e)}}class jk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Z_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new Z_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=$k(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function ka(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-62135596800,tv=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*tv);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ev)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Bt(0,0))}static max(){return new Ve(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class Kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Kr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Kr.isNumericId(e),o=Kr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class vt extends Kr{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const Hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Kr{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return Hk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new tn([nv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new we(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new we(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(vt.fromString(e))}static fromName(e){return new Ae(vt.fromString(e).popFirst(5))}static empty(){return new Ae(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function qk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Ns(o,Ae.empty(),e)}function Wk(n){return new Ns(n.readTime,n.key,$l)}class Ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ns(Ve.min(),Ae.empty(),$l)}static max(){return new Ns(Ve.max(),Ae.empty(),$l)}}function Kk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Gk)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(o=>o?ee.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const y=f;t(e[y]).next(v=>{c[y]=v,++d,d===a&&i(c)},v=>o(v))}})}static doWhile(e,t){return new ee((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function Xk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function kh(n){return n==null}function oh(n){return n===0&&1/n==-1/0}function Yk(n){return typeof n=="number"&&Number.isInteger(n)&&!oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="";function Jk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rv(e)),e=Zk(n.get(t),e);return rv(e)}function Zk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Vw:t+="";break;default:t+=a}}return t}function rv(n){return n+Vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new en(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,o,a){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(e){return new sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new $t(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Uw("Invalid base64 string: "+a):a}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(st(!!n),typeof n=="string"){let e=0;const t=ex.exec(n);if(st(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bs(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="server_timestamp",jw="__type__",zw="__previous_value__",Bw="__local_write_time__";function Yp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jw])===null||t===void 0?void 0:t.stringValue)===Fw}function xh(n){const e=n.mapValue.fields[zw];return Yp(e)?xh(e):e}function Hl(n){const e=Ds(n.mapValue.fields[Bw].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,i,o,a,c,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y}}const ah="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||ah}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__type__",Hw="__max__",kc={mapValue:{fields:{__type__:{stringValue:Hw}}}},qw="__vector__",lh="value";function Os(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:rx(n)?9007199254740991:nx(n)?10:11:Ne()}function ti(n,e){if(n===e)return!0;const t=Os(n);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ds(o.timestampValue),d=Ds(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return bs(o.bytesValue).isEqual(bs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Nt(o.doubleValue),d=Nt(a.doubleValue);return c===d?oh(c)===oh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(iv(c)!==iv(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!ti(c[f],d[f])))return!1;return!0}(n,e);default:return Ne()}}function Wl(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function xa(n,e){if(n===e)return 0;const t=Os(n),i=Os(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Nt(a.integerValue||a.doubleValue),f=Nt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return ov(n.timestampValue,e.timestampValue);case 4:return ov(Hl(n),Hl(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(a,c){const d=bs(a),f=bs(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),f=c.split("/");for(let y=0;y<d.length&&y<f.length;y++){const v=Ke(d[y],f[y]);if(v!==0)return v}return Ke(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Ke(Nt(a.latitude),Nt(c.latitude));return d!==0?d:Ke(Nt(a.longitude),Nt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return av(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,f,y,v;const T=a.fields||{},I=c.fields||{},A=(d=T[lh])===null||d===void 0?void 0:d.arrayValue,b=(f=I[lh])===null||f===void 0?void 0:f.arrayValue,$=Ke(((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:av(A,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===kc.mapValue&&c===kc.mapValue)return 0;if(a===kc.mapValue)return 1;if(c===kc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),y=c.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const I=Ke(f[T],v[T]);if(I!==0)return I;const A=xa(d[f[T]],y[v[T]]);if(A!==0)return A}return Ke(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function ov(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Ds(n),i=Ds(e),o=Ke(t.seconds,i.seconds);return o!==0?o:Ke(t.nanos,i.nanos)}function av(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=xa(t[o],i[o]);if(a)return a}return Ke(t.length,i.length)}function Na(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ds(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=ip(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${ip(t.fields[c])}`;return o+"}"}(n.mapValue):Ne()}function zc(n){switch(Os(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(n);return e?16+zc(e):16;case 5:return 2*n.stringValue.length;case 6:return bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+zc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return zs(i.fields,(a,c)=>{o+=a.length+zc(c)}),o}(n.mapValue);default:throw Ne()}}function lv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sp(n){return!!n&&"integerValue"in n}function Jp(n){return!!n&&"arrayValue"in n}function uv(n){return!!n&&"nullValue"in n}function cv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bc(n){return!!n&&"mapValue"in n}function nx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$w])===null||t===void 0?void 0:t.stringValue)===qw}function Ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ol(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(t)}setAll(e){let t=tn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Ol(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Ln(Ol(this.value))}}function Ww(n){const e=[];return zs(n.fields,(t,i)=>{const o=new tn([t]);if(Bc(i)){const a=Ww(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ve.min(),Ve.min(),Ve.min(),Ln.empty(),0)}static newFoundDocument(e,t,i,o){return new mn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new mn(e,2,t,Ve.min(),Ve.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Ve.min(),Ve.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.position=e,this.inclusive=t}}function hv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=xa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function dv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ix(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Ut extends Kw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ox(e,t,i):t==="array-contains"?new ux(e,i):t==="in"?new cx(e,i):t==="not-in"?new hx(e,i):t==="array-contains-any"?new dx(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ax(e,i):new lx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xa(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends Kw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pr(e,t)}matches(e){return Gw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gw(n){return n.op==="and"}function Qw(n){return sx(n)&&Gw(n)}function sx(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function op(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Na(n.value);if(Qw(n))return n.filters.map(e=>op(e)).join(",");{const e=n.filters.map(t=>op(t)).join(",");return`${n.op}(${e})`}}function Xw(n,e){return n instanceof Ut?function(i,o){return o instanceof Ut&&i.op===o.op&&i.field.isEqual(o.field)&&ti(i.value,o.value)}(n,e):n instanceof Pr?function(i,o){return o instanceof Pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&Xw(c,o.filters[d]),!0):!1}(n,e):void Ne()}function Yw(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Na(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Yw).join(" ,")+"}"}(n):"Filter"}class ox extends Ut{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class ax extends Ut{constructor(e,t){super(e,"in",t),this.keys=Jw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lx extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=Jw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class ux extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jp(t)&&Wl(t.arrayValue,this.value)}}class cx extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class hx extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wl(this.value.arrayValue,t)}}class dx extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.le=null}}function fv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new fx(n,e,t,i,o,a,c)}function Zp(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>op(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Na(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Na(i)).join(",")),e.le=t}return e.le}function em(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ix(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dv(n.startAt,e.startAt)&&dv(n.endAt,e.endAt)}function ap(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function px(n,e,t,i,o,a,c,d){return new ja(n,e,t,i,o,a,c,d)}function Zw(n){return new ja(n)}function pv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eE(n){return n.collectionGroup!==null}function Ll(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(tn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Kl(a,i))}),t.has(tn.keyField().canonicalString())||e.he.push(new Kl(tn.keyField(),i))}return e.he}function Zr(n){const e=Me(n);return e.Pe||(e.Pe=mx(e,Ll(n))),e.Pe}function mx(n,e){if(n.limitType==="F")return fv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Kl(o.field,a)});const t=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return fv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lp(n,e){const t=n.filters.concat([e]);return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function up(n,e,t){return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return em(Zr(n),Zr(e))&&n.limitType===e.limitType}function tE(n){return`${Zp(Zr(n))}|lt:${n.limitType}`}function wa(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Yw(o)).join(", ")}]`),kh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Na(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Na(o)).join(",")),`Target(${i})`}(Zr(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ae.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Ll(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,f){const y=hv(c,d,f);return c.inclusive?y<=0:y<0}(i.startAt,Ll(i),o)||i.endAt&&!function(c,d,f){const y=hv(c,d,f);return c.inclusive?y>=0:y>0}(i.endAt,Ll(i),o))}(n,e)}function gx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(e,t)=>{let i=!1;for(const o of Ll(n)){const a=yx(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function yx(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,c,d){const f=c.data.field(a),y=d.data.field(a);return f!==null&&y!==null?xa(f,y):Ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new At(Ae.comparator);function Li(){return _x}const rE=new At(Ae.comparator);function xl(...n){let e=rE;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=rE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vo(){return Vl()}function sE(){return Vl()}function Vl(){return new Oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const vx=new At(Ae.comparator),wx=new $t(Ae.comparator);function $e(...n){let e=wx;for(const t of n)e=e.add(t);return e}const Ex=new $t(Ke);function Tx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function oE(n){return{integerValue:""+n}}function Ix(n,e){return Yk(e)?oE(e):tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function Sx(n,e,t){return n instanceof Gl?function(o,a){const c={fields:{[jw]:{stringValue:Fw},[Bw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Yp(a)&&(a=xh(a)),a&&(c.fields[zw]=a),{mapValue:c}}(t,e):n instanceof Ql?lE(n,e):n instanceof Xl?uE(n,e):function(o,a){const c=aE(o,a),d=mv(c)+mv(o.Ie);return sp(c)&&sp(o.Ie)?oE(d):tm(o.serializer,d)}(n,e)}function Rx(n,e,t){return n instanceof Ql?lE(n,e):n instanceof Xl?uE(n,e):t}function aE(n,e){return n instanceof ch?function(i){return sp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Gl extends bh{}class Ql extends bh{constructor(e){super(),this.elements=e}}function lE(n,e){const t=cE(e);for(const i of n.elements)t.some(o=>ti(o,i))||t.push(i);return{arrayValue:{values:t}}}class Xl extends bh{constructor(e){super(),this.elements=e}}function uE(n,e){let t=cE(e);for(const i of n.elements)t=t.filter(o=>!ti(o,i));return{arrayValue:{values:t}}}class ch extends bh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function mv(n){return Nt(n.integerValue||n.doubleValue)}function cE(n){return Jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.field=e,this.transform=t}}function Cx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ql&&o instanceof Ql||i instanceof Xl&&o instanceof Xl?ka(i.elements,o.elements,ti):i instanceof ch&&o instanceof ch?ti(i.Ie,o.Ie):i instanceof Gl&&o instanceof Gl}(n.transform,e.transform)}class Px{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function hE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nm(n.key,cr.none()):new au(n.key,n.data,cr.none());{const t=n.data,i=Ln.empty();let o=new $t(tn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Bs(n.key,i,new Gn(o.toArray()),cr.none())}}function kx(n,e,t){n instanceof au?function(o,a,c){const d=o.value.clone(),f=yv(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(o,a,c){if(!$c(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=yv(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(dE(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,i){return n instanceof au?function(a,c,d,f){if(!$c(a.precondition,c))return d;const y=a.value.clone(),v=_v(a.fieldTransforms,f,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bs?function(a,c,d,f){if(!$c(a.precondition,c))return d;const y=_v(a.fieldTransforms,f,c),v=c.data;return v.setAll(dE(a)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,d){return $c(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function xx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=aE(i.transform,o||null);a!=null&&(t===null&&(t=Ln.empty()),t.set(i.field,a))}return t||null}function gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ka(i,o,(a,c)=>Cx(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends Oh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends Oh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function yv(n,e,t){const i=new Map;st(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,Rx(c,d,t[o]))}return i}function _v(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,Sx(a,c,e))}return i}class nm extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&kx(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=sE();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=hE(c,d);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,i)=>gv(t,i))&&ka(this.baseMutations,e.baseMutations,(t,i)=>gv(t,i))}}class rm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){st(e.mutations.length===i.length);let o=function(){return vx}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new rm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Je;function Lx(n){switch(n){case te.OK:return Ne();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ne()}}function fE(n){if(n===void 0)return Oi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return Ne()}}(Je=Mt||(Mt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Rs([4294967295,4294967295],0);function vv(n){const e=Vx().encode(n),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function wv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rs([t,i],0),new Rs([o,a],0)]}class im{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Nl(`Invalid padding: ${t}`);if(i<0)throw new Nl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Rs.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Rs.fromNumber(i)));return o.compare(Mx)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=vv(e),[i,o]=wv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new im(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=vv(e),[i,o]=wv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lh(Ve.min(),o,new At(Ke),Li(),$e())}}class lu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lu(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class pE{constructor(e,t){this.targetId=e,this.ge=t}}class mE{constructor(e,t,i=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ev{constructor(){this.pe=0,this.ye=Tv(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=$e(),t=$e(),i=$e();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne()}}),new lu(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Tv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ux{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=xc(),this.Ke=xc(),this.Ue=new At(Ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(ap(a))if(i===0){const c=new Ae(a.path);this.ze(t,c,mn.newNoDocument(c,Ve.min()))}else st(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),f=d?this.nt(d,e,c):1;if(f!==0){this.Ye(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=bs(i).toUint8Array()}catch(f){if(f instanceof Uw)return Pa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new im(c,o,a)}catch(f){return Pa(f instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,c)=>{const d=this.Xe(c);if(d){if(a.current&&ap(d.target)){const f=new Ae(d.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,mn.newNoDocument(f,e))}a.ve&&(t.set(c,a.Fe()),a.Me())}});let i=$e();this.Ke.forEach((a,c)=>{let d=!0;c.forEachWhile(f=>{const y=this.Xe(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.Qe.forEach((a,c)=>c.setReadTime(e));const o=new Lh(e,t,this.Ue,this.Qe,i);return this.Qe=Li(),this.$e=xc(),this.Ke=xc(),this.Ue=new At(Ke),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ev,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new $t(Ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new $t(Ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ev),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xc(){return new At(Ae.comparator)}function Tv(){return new At(Ae.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Bx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cp(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $x(n,e){return hh(n,e.toTimestamp())}function ei(n){return st(!!n),Ve.fromTimestamp(function(t){const i=Ds(t);return new Bt(i.seconds,i.nanos)}(n))}function sm(n,e){return hp(n,e).canonicalString()}function hp(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yE(n){const e=vt.fromString(n);return st(TE(e)),e}function dp(n,e){return sm(n.databaseId,e.path)}function jf(n,e){const t=yE(e);if(t.get(1)!==n.databaseId.projectId)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(vE(t))}function _E(n,e){return sm(n.databaseId,e)}function Hx(n){const e=yE(n);return e.length===4?vt.emptyPath():vE(e)}function fp(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vE(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Iv(n,e,t){return{name:dp(n,e),fields:t.value.mapValue.fields}}function qx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,v){return y.useProto3Json?(st(v===void 0||typeof v=="string"),rn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array),rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const v=y.code===void 0?te.UNKNOWN:fE(y.code);return new we(v,y.message||"")}(c);t=new mE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=jf(n,i.document.name),a=ei(i.document.updateTime),c=i.document.createTime?ei(i.document.createTime):Ve.min(),d=new Ln({mapValue:{fields:i.document.fields}}),f=mn.newFoundDocument(o,a,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Hc(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=jf(n,i.document),a=i.readTime?ei(i.readTime):Ve.min(),c=mn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Hc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=jf(n,i.document),a=i.removedTargetIds||[];t=new Hc([],a,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new Ox(o,a),d=i.targetId;t=new pE(d,c)}}return t}function Wx(n,e){let t;if(e instanceof au)t={update:Iv(n,e.key,e.value)};else if(e instanceof nm)t={delete:dp(n,e.key)};else if(e instanceof Bs)t={update:Iv(n,e.key,e.data),updateMask:tN(e.fieldMask)};else{if(!(e instanceof Nx))return Ne();t={verify:dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ch)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:$x(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne()}(n,e.precondition)),t}function Kx(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?ei(o.updateTime):ei(a);return c.isEqual(Ve.min())&&(c=ei(a)),new Px(c,o.transformResults||[])}(t,e))):[]}function Gx(n,e){return{documents:[_E(n,e.path)]}}function Qx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_E(n,o);const a=function(y){if(y.length!==0)return EE(Pr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(v=>function(I){return{field:Ea(I.field),direction:Jx(I.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=cp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function Xx(n){let e=Hx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){st(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(T){const I=wE(T);return I instanceof Pr&&Qw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(b){return new Kl(Ta(b.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,kh(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(T){const I=!!T.before,A=T.values||[];return new uh(A,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,A=T.values||[];return new uh(A,I)}(t.endAt)),px(e,o,c,a,d,"F",f,y)}function Yx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ta(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ta(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ta(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ta(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(Ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(i=>wE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne()}function Jx(n){return Fx[n]}function Zx(n){return jx[n]}function eN(n){return zx[n]}function Ea(n){return{fieldPath:n.canonicalString()}}function Ta(n){return tn.fromServerFormat(n.fieldPath)}function EE(n){return n instanceof Ut?function(t){if(t.op==="=="){if(cv(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NAN"}};if(uv(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cv(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NOT_NAN"}};if(uv(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(t.field),op:Zx(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const i=t.getFilters().map(o=>EE(o));return i.length===1?i[0]:{compositeFilter:{op:eN(t.op),filters:i}}}(n):Ne()}function tN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,o,a=Ve.min(),c=Ve.min(),d=rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.Tt=e}}function rN(n){const e=Xx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.Tn=new sN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ns.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class sN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new $t(vt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(IE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Da(0)}static Un(){return new Da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LruGarbageCollector",oN=1048576;function Av([n,e],[t,i]){const o=Ke(n,t);return o===0?Ke(e,i):o}class aN{constructor(e){this.Hn=e,this.buffer=new $t(Av),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Av(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Rv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?ye(Rv,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.er(3e5)})}}class uN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Ph.ae);const i=new aN(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Sv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,c,d,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),va()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function cN(n,e){return new uN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new Oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ml(i.mutation,o,Gn.empty(),Bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const o=vo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=xl();return a.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Li();const c=Vl(),d=function(){return Vl()}();return t.forEach((f,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Bs)?a=a.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Ml(v.mutation,y,v.mutation.getFieldMask(),Bt.now())):c.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var T;return d.set(y,new dN(v,(T=c.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Vl();let o=new At((c,d)=>c-d),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const y=t.get(f);if(y===null)return;let v=i.get(f)||Gn.empty();v=d.applyToLocalView(y,v),i.set(f,v);const T=(o.get(d.batchId)||$e()).add(f);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,v=f.value,T=sE();v.forEach(I=>{if(!a.has(I)){const A=hE(t.get(I),i.get(I));A!==null&&T.set(I,A),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ee.resolve(vo());let d=$l,f=a;return c.next(y=>ee.forEach(y,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{f=f.insert(v,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,f,y,$e())).next(v=>({batchId:d,changes:iE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=xl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=xl();return this.indexManager.getCollectionParents(e,a).next(d=>ee.forEach(d,f=>{const y=function(T,I){return new ja(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,mn.newInvalidDocument(v)))});let d=xl();return c.forEach((f,y)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,y,Gn.empty(),Bt.now()),Dh(t,y)&&(d=d.insert(f,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:ei(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.overlays=new At(Ae.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vo();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const o=vo(),a=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new At((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=a.get(y.largestBatchId);v===null&&(v=vo(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=vo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=o)););return ee.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new bx(t,i));let a=this.Rr.get(t);a===void 0&&(a=$e(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Vr=new $t(Gt.mr),this.gr=new $t(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ae(new vt([])),i=new Gt(t,e),o=new Gt(t,e+1),a=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),a.push(c.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ae(new vt([])),i=new Gt(t,e),o=new Gt(t,e+1);let a=$e();return this.gr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Gt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ae.comparator(e.key,t.key)||Ke(e.Cr,t.Cr)}static pr(e,t){return Ke(e.Cr,t.Cr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(Gt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Dx(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new Gt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Xp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);a.push(d)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(Ke);return t.forEach(o=>{const a=new Gt(o,0),c=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,c],d=>{i=i.add(d.Cr)})}),ee.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ae.isDocumentKey(a)||(a=a.child(""));const c=new Gt(new Ae(a),0);let d=new $t(Ke);return this.Mr.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(f.Cr)),!0)},c),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ee.forEach(t.mutations,o=>{const a=new Gt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Gt(t,0),o=this.Mr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.kr=e,this.docs=function(){return new At(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let i=Li();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():mn.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Li();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Kk(Wk(v),i)<=0||(o.has(v.key)||Dh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ne()}qr(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vN(this)}getSize(e){return ee.resolve(this.size)}}class vN extends hN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.persistence=e,this.Qr=new Oo(t=>Zp(t),em),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Kr=new om,this.targetCount=0,this.Ur=Da.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new gN,this.referenceDelegate=e(this),this.Hr=new wN(this),this.indexManager=new iN,this.remoteDocumentCache=function(o){return new _N(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new nN(t),this.Yr=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new yN(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new EN(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ee.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class EN extends Qk{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.ti=new om,this.ni=null}static ri(e){return new am(e)}get ii(){if(this.ni)return this.ni;throw Ne()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,i=>{const o=Ae.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Ve.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.oi=new Oo(i=>Jk(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=cN(this,t)}static ri(e,t){return new dh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Ve.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zc(e.data.value)),t}ar(e,t,i){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=$e(),o=$e();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new lm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qS()?8:Xk(gn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new TN;return this._s(e,t,c).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(va()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(va()<=Be.DEBUG&&ye("QueryEngine","Query:",wa(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(va()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):ee.resolve())}rs(e,t){if(pv(t))return ee.resolve(null);let i=Zr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=up(t,null,"F"),i=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=$e(...a);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.cs(t,d);return this.ls(t,y,c,f.readTime)?this.rs(e,up(t,null,"F")):this.hs(e,y,t,f)}))})))}ss(e,t,i,o){return pv(t)||o.isEqual(Ve.min())?ee.resolve(null):this.ns.getDocuments(e,i).next(a=>{const c=this.cs(t,a);return this.ls(t,c,i,o)?ee.resolve(null):(va()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wa(t)),this.hs(e,c,t,qk(o,$l)).next(d=>d))})}cs(e,t){let i=new $t(nE(e));return t.forEach((o,a)=>{Dh(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return va()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",wa(t)),this.ns.getDocumentsMatchingQuery(e,t,Ns.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",SN=3e8;class RN{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new At(Ke),this.Is=new Oo(a=>Zp(a),em),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function AN(n,e,t,i){return new RN(n,e,t,i)}async function RE(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let f=$e();for(const y of o){c.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){d.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function CN(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,y,v){const T=y.batch,I=T.keys();let A=ee.resolve();return I.forEach(b=>{A=A.next(()=>v.getEntry(f,b)).next($=>{const L=y.docVersions.get(b);st(L!==null),$.version.compareTo(L)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=$e();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function AE(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function PN(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const I=o.get(T);if(!I)return;d.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,T)));let A=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(rn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(T,A),function($,L,Q){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=SN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,A,v)&&d.push(t.Hr.updateTargetData(a,A))});let f=Li(),y=$e();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(kN(a,c,e.documentUpdates).next(v=>{f=v.Vs,y=v.fs})),!i.isEqual(Ve.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(T=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return ee.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,y)).next(()=>f)}).then(a=>(t.Ts=o,a))}function kN(n,e,t){let i=$e(),o=$e();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Li();return t.forEach((d,f)=>{const y=a.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ye(um,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Vs:c,fs:o}})}function xN(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Xp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function NN(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ee.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new Ts(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function pp(n,e,t){const i=Me(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Fa(c))throw c;ye(um,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Cv(n,e,t){const i=Me(n);let o=Ve.min(),a=$e();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,y,v){const T=Me(f),I=T.Is.get(v);return I!==void 0?ee.resolve(T.Ts.get(I)):T.Hr.getTargetData(y,v)}(i,c,Zr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:Ve.min(),t?a:$e())).next(d=>(DN(i,gx(e),d),{documents:d,gs:a})))}function DN(n,e,t){let i=n.Es.get(e)||Ve.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class Pv{constructor(){this.activeTargetIds=Tx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.ho=new Pv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Pv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class xv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(kv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function mp(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===ah?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const c=mp(),d=this.bo(e,t.toUriEncodedString());ye(zf,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,d,f,i).then(y=>(ye(zf,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Pa(zf,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,a,c){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=LN[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class UN extends VN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=mp();return new Promise((c,d)=>{const f=new kw;f.setWithCredentials(!0),f.listenOnce(xw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jc.NO_ERROR:const v=f.getResponseJson();ye(fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case jc.TIMEOUT:ye(fn,`RPC '${e}' ${a} timed out`),d(new we(te.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const T=f.getStatus();if(ye(fn,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const b=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(A.status);d(new we(b,A.message))}else d(new we(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(te.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(fn,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ye(fn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=mp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bw(),d=Dw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");ye(fn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const T=c.createWebChannel(v,f);let I=!1,A=!1;const b=new MN({Fo:L=>{A?ye(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(ye(fn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ye(fn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Mo:()=>T.close()}),$=(L,Q,Y)=>{L.listen(Q,Z=>{try{Y(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return $(T,kl.EventType.OPEN,()=>{A||(ye(fn,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),$(T,kl.EventType.CLOSE,()=>{A||(A=!0,ye(fn,`RPC '${e}' stream ${o} transport closed`),b.Ko())}),$(T,kl.EventType.ERROR,L=>{A||(A=!0,Pa(fn,`RPC '${e}' stream ${o} transport errored:`,L),b.Ko(new we(te.UNAVAILABLE,"The operation could not be completed")))}),$(T,kl.EventType.MESSAGE,L=>{var Q;if(!A){const Y=L.data[0];st(!!Y);const Z=Y,oe=(Z==null?void 0:Z.error)||((Q=Z[0])===null||Q===void 0?void 0:Q.error);if(oe){ye(fn,`RPC '${e}' stream ${o} received error:`,oe);const me=oe.status;let U=function(R){const N=Mt[R];if(N!==void 0)return fE(N)}(me),x=oe.message;U===void 0&&(U=te.INTERNAL,x="Unknown error status: "+me+" with message "+oe.message),A=!0,b.Ko(new we(U,x)),T.close()}else ye(fn,`RPC '${e}' stream ${o} received:`,Y),b.Uo(Y)}}),$(d,Nw.STAT_EVENT,L=>{L.stat===rp.PROXY?ye(fn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rp.NOPROXY&&ye(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return new Bx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class PE{constructor(e,t,i,o,a,c,d,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new CE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new we(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FN extends PE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qx(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ve.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?ei(c.readTime):Ve.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(a,c){let d;const f=c.target;if(d=ap(f)?{documents:Gx(a,f)}:{query:Qx(a,f).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=gE(a,c.resumeToken);const y=cp(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=hh(a,c.snapshotVersion.toTimestamp());const y=cp(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=Yx(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.I_(t)}}class jN extends PE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Kx(e.writeResults,e.commitTime),i=ei(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=fp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Wx(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{}class BN extends zN{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.So(e,hp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(te.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,hp(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(te.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $N{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Oi(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class HN{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(c=>{i.enqueueAndForget(async()=>{Lo(this)&&(ye(Co,"Restarting streams for network reachability change."),await async function(f){const y=Me(f);y.W_.add(4),await uu(y),y.j_.set("Unknown"),y.W_.delete(4),await Mh(y)}(this))})}),this.j_=new $N(i,o)}}async function Mh(n){if(Lo(n))for(const e of n.G_)await e(!0)}async function uu(n){for(const e of n.G_)await e(!1)}function kE(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),fm(t)?dm(t):za(t).c_()&&hm(t,e))}function cm(n,e){const t=Me(n),i=za(t);t.U_.delete(e),i.c_()&&xE(t,e),t.U_.size===0&&(i.c_()?i.P_():Lo(t)&&t.j_.set("Unknown"))}function hm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}za(n).y_(e)}function xE(n,e){n.H_.Ne(e),za(n).w_(e)}function dm(n){n.H_=new Ux({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),za(n).start(),n.j_.B_()}function fm(n){return Lo(n)&&!za(n).u_()&&n.U_.size>0}function Lo(n){return Me(n).W_.size===0}function NE(n){n.H_=void 0}async function qN(n){n.j_.set("Online")}async function WN(n){n.U_.forEach((e,t)=>{hm(n,e)})}async function KN(n,e){NE(n),fm(n)?(n.j_.q_(e),dm(n)):n.j_.set("Unknown")}async function GN(n,e,t){if(n.j_.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.U_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){ye(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(n,i)}else if(e instanceof Hc?n.H_.We(e):e instanceof pE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ve.min()))try{const i=await AE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.H_.ot(c);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.U_.get(y);v&&a.U_.set(y,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,y)=>{const v=a.U_.get(f);if(!v)return;a.U_.set(f,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),xE(a,f);const T=new Ts(v.target,f,y,v.sequenceNumber);hm(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ye(Co,"Failed to raise snapshot:",i),await fh(n,i)}}async function fh(n,e,t){if(!Fa(e))throw e;n.W_.add(1),await uu(n),n.j_.set("Offline"),t||(t=()=>AE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Co,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Mh(n)})}function DE(n,e){return e().catch(t=>fh(n,t,e))}async function Uh(n){const e=Me(n),t=Ls(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Xp;for(;QN(e);)try{const o=await xN(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,XN(e,o)}catch(o){await fh(e,o)}bE(e)&&OE(e)}function QN(n){return Lo(n)&&n.K_.length<10}function XN(n,e){n.K_.push(e);const t=Ls(n);t.c_()&&t.S_&&t.b_(e.mutations)}function bE(n){return Lo(n)&&!Ls(n).u_()&&n.K_.length>0}function OE(n){Ls(n).start()}async function YN(n){Ls(n).C_()}async function JN(n){const e=Ls(n);for(const t of n.K_)e.b_(t.mutations)}async function ZN(n,e,t){const i=n.K_.shift(),o=rm.from(i,e,t);await DE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Uh(n)}async function eD(n,e){e&&Ls(n).S_&&await async function(i,o){if(function(c){return Lx(c)&&c!==te.ABORTED}(o.code)){const a=i.K_.shift();Ls(i).h_(),await DE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Uh(i)}}(n,e),bE(n)&&OE(n)}async function Dv(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ye(Co,"RemoteStore received new credentials");const i=Lo(t);t.W_.add(3),await uu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mh(t)}async function tD(n,e){const t=Me(n);e?(t.W_.delete(2),await Mh(t)):e||(t.W_.add(2),await uu(t),t.j_.set("Unknown"))}function za(n){return n.J_||(n.J_=function(t,i,o){const a=Me(t);return a.M_(),new FN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:qN.bind(null,n),No:WN.bind(null,n),Lo:KN.bind(null,n),p_:GN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),fm(n)?dm(n):n.j_.set("Unknown")):(await n.J_.stop(),NE(n))})),n.J_}function Ls(n){return n.Y_||(n.Y_=function(t,i,o){const a=Me(t);return a.M_(),new jN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:YN.bind(null,n),Lo:eD.bind(null,n),D_:JN.bind(null,n),v_:ZN.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Uh(n)):(await n.Y_.stop(),n.K_.length>0&&(ye(Co,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new pm(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),Fa(n))return new we(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=xl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ca;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Z_=new At(Ae.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ne():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ba{constructor(e,t,i,o,a,c,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ba(e,t,Ca.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rD{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Me(t),a=o.queries;o.queries=Ov(),a.forEach((c,d)=>{for(const f of d.ta)f.onError(i)})})(this,new we(te.ABORTED,"Firestore shutting down"))}}function Ov(){return new Oo(n=>tE(n),Nh)}async function iD(n,e){const t=Me(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new nD,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=mm(c,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&gm(t)}async function sD(n,e){const t=Me(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.ta.indexOf(e);c>=0&&(a.ta.splice(c,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function oD(n,e){const t=Me(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&gm(t)}function aD(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function gm(n){n.ia.forEach(e=>{e.next()})}var gp,Lv;(Lv=gp||(gp={}))._a="default",Lv.Cache="cache";class lD{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ba(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=nE(e),this.wa=new Ca(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new bv,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const I=o.get(v),A=Dh(this.query,T)?T:null,b=!!I&&this.mutatedKeys.has(I.key),$=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;I&&A?I.data.isEqual(A.data)?b!==$&&(i.track({type:3,doc:A}),L=!0):this.va(I,A)||(i.track({type:2,doc:A}),L=!0,(f&&this.ya(A,f)>0||y&&this.ya(A,y)<0)&&(d=!0)):!I&&A?(i.track({type:0,doc:A}),L=!0):I&&!A&&(i.track({type:1,doc:I}),L=!0,(f||y)&&(d=!0)),L&&(A?(c=c.add(A),a=$?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(A,b){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return $(A)-$(b)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,y=f!==this.ga;return this.ga=f,c.length!==0||y?{snapshot:new ba(this.query,e.wa,a,c,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new VE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new LE(i))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ba.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ym="SyncEngine";class cD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class hD{constructor(e){this.key=e,this.Ba=!1}}class dD{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Oo(d=>tE(d),Nh),this.qa=new Map,this.Qa=new Set,this.$a=new At(Ae.comparator),this.Ka=new Map,this.Ua=new om,this.Wa={},this.Ga=new Map,this.za=Da.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fD(n,e,t=!0){const i=BE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await ME(i,e,t,!0),o}async function pD(n,e){const t=BE(n);await ME(t,e,!0,!1)}async function ME(n,e,t,i){const o=await NN(n.localStore,Zr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await mD(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&kE(n.remoteStore,o),d}async function mD(n,e,t,i,o){n.Ha=(T,I,A)=>async function($,L,Q,Y){let Z=L.view.ba(Q);Z.ls&&(Z=await Cv($.localStore,L.query,!1).then(({documents:x})=>L.view.ba(x,Z)));const oe=Y&&Y.targetChanges.get(L.targetId),me=Y&&Y.targetMismatches.get(L.targetId)!=null,U=L.view.applyChanges(Z,$.isPrimaryClient,oe,me);return Mv($,L.targetId,U.Ma),U.snapshot}(n,T,I,A);const a=await Cv(n.localStore,e,!0),c=new uD(e,a.gs),d=c.ba(a.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,f);Mv(n,t,y.Ma);const v=new cD(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function gD(n,e,t){const i=Me(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(c=>!Nh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&cm(i.remoteStore,o.targetId),yp(i,o.targetId)}).catch(Ua)):(yp(i,o.targetId),await pp(i.localStore,o.targetId,!0))}async function yD(n,e){const t=Me(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),cm(t.remoteStore,i.targetId))}async function _D(n,e,t){const i=RD(n);try{const o=await function(c,d){const f=Me(c),y=Bt.now(),v=d.reduce((A,b)=>A.add(b.key),$e());let T,I;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let b=Li(),$=$e();return f.ds.getEntries(A,v).next(L=>{b=L,b.forEach((Q,Y)=>{Y.isValidDocument()||($=$.add(Q))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,b)).next(L=>{T=L;const Q=[];for(const Y of d){const Z=xx(Y,T.get(Y.key).overlayedDocument);Z!=null&&Q.push(new Bs(Y.key,Z,Ww(Z.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,y,Q,d)}).next(L=>{I=L;const Q=L.applyToLocalDocumentSet(T,$);return f.documentOverlayCache.saveOverlays(A,L.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:iE(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let y=c.Wa[c.currentUser.toKey()];y||(y=new At(Ke)),y=y.insert(d,f),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await cu(i,o.changes),await Uh(i.remoteStore)}catch(o){const a=mm(o,"Failed to persist write");t.reject(a)}}async function UE(n,e){const t=Me(n);try{const i=await PN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ka.get(a);c&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?st(c.Ba):o.removedDocuments.size>0&&(st(c.Ba),c.Ba=!1))}),await cu(t,i,e)}catch(i){await Ua(i)}}function Vv(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const f=Me(c);f.onlineState=d;let y=!1;f.queries.forEach((v,T)=>{for(const I of T.ta)I.sa(d)&&(y=!0)}),y&&gm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vD(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let c=new At(Ae.comparator);c=c.insert(a,mn.newNoDocument(a,Ve.min()));const d=$e().add(a),f=new Lh(Ve.min(),new Map,new At(Ke),c,d);await UE(i,f),i.$a=i.$a.remove(a),i.Ka.delete(e),_m(i)}else await pp(i.localStore,e,!1).then(()=>yp(i,e,t)).catch(Ua)}async function wD(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await CN(t.localStore,e);jE(t,i,null),FE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await cu(t,o)}catch(o){await Ua(o)}}async function ED(n,e,t){const i=Me(n);try{const o=await function(c,d){const f=Me(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return f.mutationQueue.lookupMutationBatch(y,d).next(T=>(st(T!==null),v=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>f.localDocuments.getDocuments(y,v))})}(i.localStore,e);jE(i,e,t),FE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await cu(i,o)}catch(o){await Ua(o)}}function FE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function jE(n,e,t){const i=Me(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||zE(n,i)})}function zE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(cm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),_m(n))}function Mv(n,e,t){for(const i of t)i instanceof LE?(n.Ua.addReference(i.key,e),TD(n,i)):i instanceof VE?(ye(ym,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||zE(n,i.key)):Ne()}function TD(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ye(ym,"New document in limbo: "+t),n.Qa.add(i),_m(n))}function _m(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ae(vt.fromString(e)),i=n.za.next();n.Ka.set(i,new hD(t)),n.$a=n.$a.insert(t,i),kE(n.remoteStore,new Ts(Zr(Zw(t.path)),i,"TargetPurposeLimboResolution",Ph.ae))}}async function cu(n,e,t){const i=Me(n),o=[],a=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,f)=>{c.push(i.Ha(f,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(y){o.push(y);const T=lm.Yi(f.targetId,y);a.push(T)}}))}),await Promise.all(c),i.La.p_(o),await async function(f,y){const v=Me(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(y,I=>ee.forEach(I.Hi,A=>v.persistence.referenceDelegate.addReference(T,I.targetId,A)).next(()=>ee.forEach(I.Ji,A=>v.persistence.referenceDelegate.removeReference(T,I.targetId,A)))))}catch(T){if(!Fa(T))throw T;ye(um,"Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const A=v.Ts.get(I),b=A.snapshotVersion,$=A.withLastLimboFreeSnapshotVersion(b);v.Ts=v.Ts.insert(I,$)}}}(i.localStore,a))}async function ID(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ye(ym,"User change. New user:",e.toKey());const i=await RE(t.localStore,e);t.currentUser=e,function(a,c){a.Ga.forEach(d=>{d.forEach(f=>{f.reject(new we(te.CANCELLED,c))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cu(t,i.Rs)}}function SD(n,e){const t=Me(n),i=t.Ka.get(e);if(i&&i.Ba)return $e().add(i.key);{let o=$e();const a=t.qa.get(e);if(!a)return o;for(const c of a){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function BE(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.La.p_=oD.bind(null,e.eventManager),e.La.Ja=aD.bind(null,e.eventManager),e}function RD(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ED.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return AN(this.persistence,new IN,e.initialUser,this.serializer)}Xa(e){return new SE(am.ri,this.serializer)}Za(e){return new bN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class AD extends ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof dh);const i=this.persistence.referenceDelegate.garbageCollector;return new lN(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new SE(i=>dh.ri(i,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rD}()}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),i=function(a){return new UN(a)}(e.databaseInfo);return function(a,c,d,f){return new BN(a,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new HN(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Vv(this.syncEngine,t,0),function(){return xv.D()?new xv:new ON}())}createSyncEngine(e,t){return function(o,a,c,d,f,y,v){const T=new dD(o,a,c,d,f,y);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Me(o);ye(Co,"RemoteStore shutting down."),a.W_.add(5),await uu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class PD{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ye(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=mm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $f(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await RE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Uv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kD(n);ye(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Dv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Dv(e.remoteStore,o)),n._onlineComponents=e}async function kD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Vs,"Using user provided OfflineComponentProvider");try{await $f(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Pa("Error using user provided cache. Falling back to memory cache: "+t),await $f(n,new ph)}}else ye(Vs,"Using default OfflineComponentProvider"),await $f(n,new AD(void 0));return n._offlineComponents}async function $E(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Vs,"Using user provided OnlineComponentProvider"),await Uv(n,n._uninitializedComponentsProvider._online)):(ye(Vs,"Using default OnlineComponentProvider"),await Uv(n,new _p))),n._onlineComponents}function xD(n){return $E(n).then(e=>e.syncEngine)}async function ND(n){const e=await $E(n),t=e.eventManager;return t.onListen=fD.bind(null,e.syncEngine),t.onUnlisten=gD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yD.bind(null,e.syncEngine),t}function DD(n,e,t={}){const i=new As;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,y){const v=new CD({next:I=>{v.su(),c.enqueueAndForget(()=>sD(a,T)),I.fromCache&&f.source==="server"?y.reject(new we(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new lD(d,v,{includeMetadataChanges:!0,Ta:!0});return iD(a,T)}(await ND(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n,e,t){if(!t)throw new we(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bD(n,e,t,i){if(e===!0&&i===!0)throw new we(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jv(n){if(!Ae.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zv(n){if(Ae.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function Vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fh(n);throw new we(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firestore.googleapis.com",Bv=!0;class $v{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Bv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Bv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oN)throw new we(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Mk;switch(i.type){case"firstParty":return new zk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Fv.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Fv.delete(t),i.terminate())}(this),Promise.resolve()}}function OD(n,e,t,i={}){var o;const a=(n=Vi(n,jh))._getSettings(),c=`${e}:${t}`;if(a.host!==WE&&a.host!==c&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=pn.MOCK_USER;else{d=T0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new we(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pn(y)}n._authCredentials=new Uk(new Ow(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Cs extends Vo{constructor(e,t,i){super(e,t,Zw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ae(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function hr(n,e,...t){if(n=bt(n),qE("collection","path",e),n instanceof jh){const i=vt.fromString(e,...t);return zv(i),new Cs(n,null,i)}{if(!(n instanceof Vn||n instanceof Cs))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return zv(i),new Cs(n.firestore,null,i)}}function ni(n,e,...t){if(n=bt(n),arguments.length===1&&(e=Lw.newId()),qE("doc","path",e),n instanceof jh){const i=vt.fromString(e,...t);return jv(i),new Vn(n,null,new Ae(i))}{if(!(n instanceof Vn||n instanceof Cs))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return jv(i),new Vn(n.firestore,n instanceof Cs?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new CE(this,"async_queue_retry"),this.Su=()=>{const i=Bf();i&&ye(Hv,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new As;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fa(e))throw e;ye(Hv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Oi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=pm.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ba extends jh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function LD(n,e){const t=typeof n=="object"?n:bp(),i=typeof n=="string"?n:ah,o=wh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=v0("firestore");a&&OD(o,...a)}return o}function KE(n){if(n._terminated)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VD(n),n._firestoreClient}function VD(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,y,v){return new tx(d,f,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,HE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new PD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(rn.fromBase64String(e))}catch(t){throw new we(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class UD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class GE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Em{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(QE(this.Lu)&&MD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vh(e)}ju(e,t,i,o=!1){return new Em({Lu:e,methodName:t,zu:i,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(n){const e=n._freezeSettings(),t=Vh(n._databaseId);return new FD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XE(n,e,t,i,o,a={}){const c=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Im("Data must be an object, but it was:",c,i);const d=YE(i,c);let f,y;if(a.merge)f=new Gn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const T of a.mergeFields){const I=vp(e,T,t);if(!c.contains(I))throw new we(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ZE(v,I)||v.push(I)}f=new Gn(v),y=c.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,y=c.fieldTransforms;return new UD(new Ln(d),f,y)}class Hh extends Bh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Tm extends Bh{_toFieldTransform(e){return new Ax(e.path,new Gl)}isEqual(e){return e instanceof Tm}}function jD(n,e,t,i){const o=n.ju(1,e,t);Im("Data must be an object, but it was:",o,i);const a=[],c=Ln.empty();zs(i,(f,y)=>{const v=Sm(e,f,t);y=bt(y);const T=o.Ku(v);if(y instanceof Hh)a.push(v);else{const I=hu(y,T);I!=null&&(a.push(v),c.set(v,I))}});const d=new Gn(a);return new GE(c,d,o.fieldTransforms)}function zD(n,e,t,i,o,a){const c=n.ju(1,e,t),d=[vp(e,i,t)],f=[o];if(a.length%2!=0)throw new we(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(vp(e,a[I])),f.push(a[I+1]);const y=[],v=Ln.empty();for(let I=d.length-1;I>=0;--I)if(!ZE(y,d[I])){const A=d[I];let b=f[I];b=bt(b);const $=c.Ku(A);if(b instanceof Hh)y.push(A);else{const L=hu(b,$);L!=null&&(y.push(A),v.set(A,L))}}const T=new Gn(y);return new GE(v,T,c.fieldTransforms)}function BD(n,e,t,i=!1){return hu(t,n.ju(i?4:3,e))}function hu(n,e){if(JE(n=bt(n)))return Im("Unsupported field value:",e,n),YE(n,e);if(n instanceof Bh)return function(i,o){if(!QE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let f=hu(d,o.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ix(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Bt.fromDate(i);return{timestampValue:hh(o.serializer,a)}}if(i instanceof Bt){const a=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(o.serializer,a)}}if(i instanceof vm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oa)return{bytesValue:gE(o.serializer,i._byteString)};if(i instanceof Vn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof wm)return function(c,d){return{mapValue:{fields:{[$w]:{stringValue:qw},[lh]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return tm(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Fh(i)}`)}(n,e)}function YE(n,e){const t={};return Mw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(n,(i,o)=>{const a=hu(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function JE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof vm||n instanceof Oa||n instanceof Vn||n instanceof Bh||n instanceof wm)}function Im(n,e,t){if(!JE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Fh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function vp(n,e,t){if((e=bt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Sm(n,e);throw mh("Field path arguments must be of type string or ",n,!1,void 0,t)}const $D=new RegExp("[~\\*/\\[\\]]");function Sm(n,e,t){if(e.search($D)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new we(te.INVALID_ARGUMENT,d+n+f)}function ZE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HD extends eT{data(){return super.data()}}function Rm(n,e){return typeof e=="string"?Sm(n,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Am{}class tT extends Am{}function $s(n,e,...t){let i=[];e instanceof Am&&i.push(e),i=i.concat(t),function(a){const c=a.filter(f=>f instanceof Pm).length,d=a.filter(f=>f instanceof Cm).length;if(c>1||c>0&&d>0)throw new we(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Cm extends tT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Cm(e,t,i)}_apply(e){const t=this._parse(e);return nT(e._query,t),new Vo(e.firestore,e.converter,lp(e._query,t))}_parse(e){const t=$h(e.firestore);return function(a,c,d,f,y,v,T){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Kv(T,v);const b=[];for(const $ of T)b.push(Wv(f,a,$));I={arrayValue:{values:b}}}else I=Wv(f,a,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Kv(T,v),I=BD(d,c,T,v==="in"||v==="not-in");return Ut.create(y,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pm extends Am{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const f of d)nT(c,f),c=lp(c,f)}(e._query,t),new Vo(e.firestore,e.converter,lp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class km extends tT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new km(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new we(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(a,c)}(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new ja(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Hs(n,e="asc"){const t=e,i=Rm("orderBy",n);return km._create(i,t)}function Wv(n,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new we(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&t.indexOf("/")!==-1)throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!Ae.isDocumentKey(i))throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lv(n,new Ae(i))}if(t instanceof Vn)return lv(n,t._key);throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(t)}.`)}function Kv(n,e){if(!Array.isArray(n)||n.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nT(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WD{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[lh].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Nt(c.doubleValue));return new wm(a)}convertGeoPoint(e){return new vm(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);st(TE(i));const o=new ql(i.get(1),i.get(3)),a=new Ae(i.popFirst(5));return o.isEqual(t)||Oi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KD extends eT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Rm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qc extends KD{data(e={}){return super.data(e)}}class GD{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Dc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qc(this._firestore,this._userDataWriter,i.key,i,new Dc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const f=new qc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new qc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:QD(d.type),doc:f,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class XD extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function qs(n){n=Vi(n,Vo);const e=Vi(n.firestore,Ba),t=KE(e),i=new XD(e);return qD(n._query),DD(t,n._query).then(o=>new GD(e,i,n,o))}function YD(n,e,t){n=Vi(n,Vn);const i=Vi(n.firestore,Ba),o=rT(n.converter,e);return Gh(i,[XE($h(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cr.none())])}function qh(n,e,t,...i){n=Vi(n,Vn);const o=Vi(n.firestore,Ba),a=$h(o);let c;return c=typeof(e=bt(e))=="string"||e instanceof zh?zD(a,"updateDoc",n._key,e,t,i):jD(a,"updateDoc",n._key,e),Gh(o,[c.toMutation(n._key,cr.exists(!0))])}function Wh(n){return Gh(Vi(n.firestore,Ba),[new nm(n._key,cr.none())])}function Kh(n,e){const t=Vi(n.firestore,Ba),i=ni(n),o=rT(n.converter,e);return Gh(t,[XE($h(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}function Gh(n,e){return function(i,o){const a=new As;return i.asyncQueue.enqueueAndForget(async()=>_D(await xD(i),o,a)),a.promise}(KE(n),e)}function Qh(){return new Tm("serverTimestamp")}(function(e,t=!0){(function(o){Ma=o})(No),To(new ks("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Ba(new Fk(i.getProvider("auth-internal")),new Bk(c,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,v)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Xr(Y_,J_,e),Xr(Y_,J_,"esm2017")})();const JD={apiKey:"AIzaSyDv6zW1NI31RZWqPVQHdrm95RG3DqxmOR8",authDomain:"fbp1-1c468.firebaseapp.com",projectId:"fbp1-1c468",storageBucket:"fbp1-1c468.appspot.com",messagingSenderId:"211200991215",appId:"1:211200991215:web:cf52516333a1a258bb601a",measurementId:"G-L09LLKZP9Y"},xm=R0(JD),iT=Lk(xm),Ms=vC(xm),Dt=LD(xm),du=()=>P.jsx("div",{children:P.jsxs("header",{children:[P.jsx("img",{src:"/images/logoponce.png",alt:"Logo",className:"logo"}),P.jsxs("nav",{className:"nav-center",children:[P.jsx(On,{className:"nav",to:"/lenceriaAdmi",children:"Lencería"}),P.jsx(On,{className:"nav",to:"/vestidosAdmi",children:"Vestidos de Baño"}),P.jsx(On,{className:"nav",to:"/todoAdmi",children:"Otros"}),P.jsx(On,{className:"nav",to:"/newAdmin",children:"Nueva Colección"}),P.jsx(On,{className:"nav",to:"/",children:"Cerrar Sesión"})]})]})});class ZD extends K.Component{constructor(){super();Hn(this,"handleUpload",t=>{const i=t.target.files[0];if(!i)return;const o=xs(Ms,`new-collection/${i.name}`),a=Th(o,i);a.on("state_changed",c=>{let d=c.bytesTransferred/c.totalBytes*100;this.setState({uploadValue:d})},c=>{console.error("Error al subir archivo:",c)},async()=>{const c=await Ih(a.snapshot.ref);await Kh(hr(Dt,"new-collection"),{url:c,path:o.fullPath,name:this.state.newName,description:this.state.newDescription,price:this.state.newPrice,createdAt:Qh()}),this.setState({newName:"",newDescription:"",newPrice:"",uploadValue:0}),this.loadImages()})});Hn(this,"handleDelete",async(t,i)=>{try{await Sh(xs(Ms,i)),await Wh(ni(Dt,"new-collection",t)),this.loadImages()}catch(o){console.error("Error al eliminar la imagen:",o)}});Hn(this,"handleEdit",async(t,i)=>{try{await qh(ni(Dt,"new-collection",t),i),this.loadImages()}catch(o){console.error("Error al actualizar la imagen:",o)}});this.state={uploadValue:0,images:[],newName:"",newDescription:"",newPrice:""}}async componentDidMount(){this.loadImages()}async loadImages(){const t=$s(hr(Dt,"new-collection"),Hs("createdAt","desc")),o=(await qs(t)).docs.map(a=>({id:a.id,...a.data()}));this.setState({images:o})}render(){return P.jsxs("section",{children:[P.jsx(du,{}),P.jsxs("section",{className:"upload-section",children:[P.jsxs("div",{className:"upload-container",children:[P.jsx("h2",{children:"Administrador de Imágenes"}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Nombre",value:this.state.newName,onChange:t=>this.setState({newName:t.target.value})}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Descripción",value:this.state.newDescription,onChange:t=>this.setState({newDescription:t.target.value})}),P.jsx("input",{type:"number",className:"input-field",placeholder:"Precio",value:this.state.newPrice,onChange:t=>this.setState({newPrice:t.target.value})}),P.jsx("br",{}),P.jsx("input",{type:"file",className:"file-input",onChange:this.handleUpload}),P.jsx("progress",{className:"progress-bar",value:this.state.uploadValue,max:"100"}),P.jsx("div",{className:"image-gallery",children:this.state.images.map(t=>P.jsxs("div",{className:"image-card",children:[P.jsx("img",{src:t.url,alt:t.name}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.name,onBlur:i=>this.handleEdit(t.id,{name:i.target.value})}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.description,onBlur:i=>this.handleEdit(t.id,{description:i.target.value})}),P.jsx("input",{type:"number",className:"edit-input",defaultValue:t.price,onBlur:i=>this.handleEdit(t.id,{price:i.target.value})}),P.jsx("button",{className:"delete-button",onClick:()=>this.handleDelete(t.id,t.path),children:"Eliminar"})]},t.id))})]}),P.jsx(ii,{})]})]})}}const sT=()=>{const[n,e]=K.useState([]);K.useEffect(()=>{(async()=>{const o=$s(hr(Dt,"new-collection"),Hs("createdAt","desc")),c=(await qs(o)).docs.map(d=>({id:d.id,...d.data()}));e(c)})()},[]);const t=(i,o)=>{const a="573128978818",c=`¡Wow! que linda la prenda: "${i}" ¿Está disponible?`,d=`https://wa.me/${a}?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return P.jsx("section",{children:P.jsx("div",{className:"lingerie-container",children:P.jsx("div",{className:"lingerie-gallery",children:n.length>0?n.map(i=>P.jsxs("div",{className:"lingerie-card",children:[P.jsx("img",{src:i.url,alt:i.name,className:"lingerie-image"}),P.jsx("h3",{children:i.name}),P.jsxs("p",{children:[P.jsx("strong",{children:" "}),"$",i.price]}),P.jsx("button",{className:"buy-button",onClick:()=>t(i.name,i.price),children:"Comprar"})]},i.id)):P.jsx("p",{children:"Cargando..."})})})})},e2=()=>P.jsxs("section",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"home-container",children:[P.jsxs("div",{className:"home-images",children:[P.jsx("img",{src:"/images/modelo1.png",alt:"Modelo 1",className:"home-image"}),P.jsx("img",{src:"/images/IT.jpg",alt:"Banner Íntimos Ponce",className:"home-image banner"}),P.jsx("img",{src:"/images/modelo2.png",alt:"Modelo 2",className:"home-image"})]}),P.jsxs("div",{className:"home-text",children:[P.jsx("h2",{children:"Descubre Nuestra Nueva Colección"}),P.jsx("p",{children:"Elegancia, comodidad y sensualidad se unen en nuestra última colección de lencería y ropa interior."}),P.jsx(sT,{})]})]}),P.jsx(ii,{})]}),t2=()=>{const[n,e]=K.useState([]);K.useEffect(()=>{(async()=>{const o=$s(hr(Dt,"otros"),Hs("createdAt","desc")),c=(await qs(o)).docs.map(d=>({id:d.id,...d.data()}));e(c)})()},[]);const t=(i,o)=>{const a="573128978818",c=`¡Wow! que linda la prenda: "${i}" ¿Está disponible?`,d=`https://wa.me/${a}?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return P.jsxs("main",{children:[P.jsx(xo,{}),P.jsxs("section",{children:[P.jsxs("div",{className:"lingerie-container",children:[P.jsx("h2",{children:"Otros"}),P.jsx("div",{className:"lingerie-gallery",children:n.length>0?n.map(i=>P.jsxs("div",{className:"lingerie-card",children:[P.jsx("img",{src:i.url,alt:i.name,className:"lingerie-image"}),P.jsx("h3",{children:i.name}),P.jsxs("p",{children:[P.jsx("strong",{children:" "}),"$",i.price]}),P.jsx("button",{className:"buy-button",onClick:()=>t(i.name,i.price),children:"Comprar"})]},i.id)):P.jsx("p",{children:"Cargando..."})})]}),P.jsx(ii,{})]})]})},n2=()=>{const[n,e]=K.useState([]);K.useEffect(()=>{(async()=>{const o=$s(hr(Dt,"imagenes"),Hs("createdAt","desc")),c=(await qs(o)).docs.map(d=>({id:d.id,...d.data()}));e(c)})()},[]);const t=(i,o)=>{const a="573128978818",c=`¡Wow! que linda la prenda: "${i}" ¿Está disponible?`,d=`https://wa.me/${a}?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return P.jsxs("section",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"lingerie-container",children:[P.jsx("h2",{children:"Lencería"}),P.jsx("div",{className:"lingerie-gallery",children:n.length>0?n.map(i=>P.jsxs("div",{className:"lingerie-card",children:[P.jsx("img",{src:i.url,alt:i.name,className:"lingerie-image"}),P.jsx("h3",{children:i.name}),P.jsxs("p",{children:[P.jsx("strong",{children:" "}),"$",i.price]}),P.jsx("button",{className:"buy-button",onClick:()=>t(i.name,i.price),children:"Comprar"})]},i.id)):P.jsx("p",{children:"Cargando..."})})]}),P.jsx(ii,{})]})},r2=()=>{const[n,e]=K.useState([]);K.useEffect(()=>{(async()=>{const o=$s(hr(Dt,"vestidosbanio"),Hs("createdAt","desc")),c=(await qs(o)).docs.map(d=>({id:d.id,...d.data()}));e(c)})()},[]);const t=(i,o)=>{const a="573128978818",c=`¡Wow! que linda la prenda: "${i}" ¿Está disponible?`,d=`https://wa.me/${a}?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return P.jsxs("main",{children:[P.jsx(xo,{}),P.jsxs("section",{children:[P.jsxs("div",{className:"lingerie-container",children:[P.jsx("h2",{children:"Vestidos de Baño"}),P.jsx("div",{className:"lingerie-gallery",children:n.length>0?n.map(i=>P.jsxs("div",{className:"lingerie-card",children:[P.jsx("img",{src:i.url,alt:i.name,className:"lingerie-image"}),P.jsx("h3",{children:i.name}),P.jsxs("p",{children:[P.jsx("strong",{children:" "}),"$",i.price]}),P.jsx("button",{className:"buy-button",onClick:()=>t(i.name,i.price),children:"Comprar"})]},i.id)):P.jsx("p",{children:"Cargando..."})})]}),P.jsx(ii,{})]})]})},i2=()=>{const[n,e]=K.useState(""),[t,i]=K.useState(""),[o,a]=K.useState("");a0();const c=async d=>{d.preventDefault();try{await TP(iT,n,t),alert("Inicio de sesión exitoso"),console.log("Redirigiendo..."),window.location.href="/admin"}catch{a("Correo o contraseña incorrectos")}};return P.jsxs("div",{children:[P.jsx(xo,{}),P.jsx("div",{className:"login-container",children:P.jsxs("div",{className:"login-card",children:[P.jsx("h2",{className:"login-title",children:"Iniciar Sesión"}),P.jsxs("form",{onSubmit:c,children:[P.jsx("input",{type:"email",placeholder:"Correo",className:"login-input",onChange:d=>e(d.target.value),required:!0}),P.jsx("input",{type:"password",placeholder:"Contraseña",className:"login-input",onChange:d=>i(d.target.value),required:!0}),P.jsx("button",{type:"submit",className:"login-button",children:"Ingresar"})]}),o&&P.jsx("p",{className:"text-red-500 text-sm mt-2",children:o}),P.jsxs("p",{className:"login-text",children:["¿No tienes cuenta?"," ",P.jsx(On,{to:"/register",className:"login-link",children:"Regístrate"})]})]})})]})},s2=()=>{const[n,e]=K.useState(""),[t,i]=K.useState(""),[o,a]=K.useState(""),[c,d]=K.useState(""),f=async y=>{y.preventDefault(),d("");try{const T=(await EP(iT,t,o)).user;await YD(ni(Dt,"users",T.uid),{uid:T.uid,name:n,email:t,createdAt:new Date}),alert("Usuario registrado exitosamente!")}catch(v){d(v.message)}};return P.jsxs("div",{children:[P.jsx(xo,{}),P.jsx("div",{className:"register-container",children:P.jsxs("div",{className:"register-card",children:[P.jsx("h2",{className:"register-title",children:"Registro"}),P.jsxs("form",{onSubmit:f,children:[P.jsx("input",{type:"text",placeholder:"Nombre",className:"register-input",onChange:y=>e(y.target.value),required:!0}),P.jsx("input",{type:"email",placeholder:"Correo",className:"register-input",onChange:y=>i(y.target.value),required:!0}),P.jsx("input",{type:"password",placeholder:"Contraseña",className:"register-input",onChange:y=>a(y.target.value),required:!0}),P.jsx("button",{type:"submit",className:"register-button",children:"Registrarse"})]}),c&&P.jsx("p",{className:"register-error",children:c})]})})]})};class o2 extends K.Component{constructor(){super();Hn(this,"handleUpload",t=>{const i=t.target.files[0];if(!i)return;const o=xs(Ms,`imagenes/${i.name}`),a=Th(o,i);a.on("state_changed",c=>{let d=c.bytesTransferred/c.totalBytes*100;this.setState({uploadValue:d})},c=>{console.error("Error al subir archivo:",c)},async()=>{const c=await Ih(a.snapshot.ref);await Kh(hr(Dt,"imagenes"),{url:c,path:o.fullPath,name:this.state.newName,description:this.state.newDescription,price:this.state.newPrice,createdAt:Qh()}),this.setState({newName:"",newDescription:"",newPrice:"",uploadValue:0}),this.loadImages()})});Hn(this,"handleDelete",async(t,i)=>{try{await Sh(xs(Ms,i)),await Wh(ni(Dt,"imagenes",t)),this.loadImages()}catch(o){console.error("Error al eliminar la imagen:",o)}});Hn(this,"handleEdit",async(t,i)=>{try{await qh(ni(Dt,"imagenes",t),i),this.loadImages()}catch(o){console.error("Error al actualizar la imagen:",o)}});this.state={uploadValue:0,images:[],newName:"",newDescription:"",newPrice:""}}async componentDidMount(){this.loadImages()}async loadImages(){const t=$s(hr(Dt,"imagenes"),Hs("createdAt","desc")),o=(await qs(t)).docs.map(a=>({id:a.id,...a.data()}));this.setState({images:o})}render(){return P.jsxs("section",{children:[P.jsx(du,{}),P.jsxs("section",{className:"upload-section",children:[P.jsxs("div",{className:"upload-container",children:[P.jsx("h2",{children:"Administrador de Imágenes"}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Nombre",value:this.state.newName,onChange:t=>this.setState({newName:t.target.value})}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Descripción",value:this.state.newDescription,onChange:t=>this.setState({newDescription:t.target.value})}),P.jsx("input",{type:"number",className:"input-field",placeholder:"Precio",value:this.state.newPrice,onChange:t=>this.setState({newPrice:t.target.value})}),P.jsx("br",{}),P.jsx("input",{type:"file",className:"file-input",onChange:this.handleUpload}),P.jsx("progress",{className:"progress-bar",value:this.state.uploadValue,max:"100"}),P.jsx("div",{className:"image-gallery",children:this.state.images.map(t=>P.jsxs("div",{className:"image-card",children:[P.jsx("img",{src:t.url,alt:t.name}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.name,onBlur:i=>this.handleEdit(t.id,{name:i.target.value})}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.description,onBlur:i=>this.handleEdit(t.id,{description:i.target.value})}),P.jsx("input",{type:"number",className:"edit-input",defaultValue:t.price,onBlur:i=>this.handleEdit(t.id,{price:i.target.value})}),P.jsx("button",{className:"delete-button",onClick:()=>this.handleDelete(t.id,t.path),children:"Eliminar"})]},t.id))})]}),P.jsx(ii,{})]})]})}}const a2=()=>P.jsxs("section",{children:[P.jsx("div",{children:P.jsx(du,{})}),P.jsx("div",{className:"admin-container",children:P.jsxs("div",{className:"admin-card",children:[P.jsx("h1",{className:"admin-title",children:"¡Welcome!"}),P.jsxs("p",{className:"admin-text",children:["Has ingresado al sistema de gestión de ",P.jsx("strong",{children:"Tu Tienda"}),". Desde aquí, podrás administrar productos, imágenes."]}),P.jsxs("ul",{className:"admin-list",children:[P.jsx("li",{children:"🌸 Agregar, editar o eliminar productos."}),P.jsx("li",{children:"🌸 Gestionar imágenes y descripciones."})]})]})}),P.jsx(ii,{})]});class l2 extends K.Component{constructor(){super();Hn(this,"handleUpload",t=>{const i=t.target.files[0];if(!i)return;const o=xs(Ms,`vestidosbanio/${i.name}`),a=Th(o,i);a.on("state_changed",c=>{let d=c.bytesTransferred/c.totalBytes*100;this.setState({uploadValue:d})},c=>{console.error("Error al subir archivo:",c)},async()=>{const c=await Ih(a.snapshot.ref);await Kh(hr(Dt,"vestidosbanio"),{url:c,path:o.fullPath,name:this.state.newName,description:this.state.newDescription,price:this.state.newPrice,createdAt:Qh()}),this.setState({newName:"",newDescription:"",newPrice:"",uploadValue:0}),this.loadImages()})});Hn(this,"handleDelete",async(t,i)=>{try{await Sh(xs(Ms,i)),await Wh(ni(Dt,"vestidosbanio",t)),this.loadImages()}catch(o){console.error("Error al eliminar la imagen:",o)}});Hn(this,"handleEdit",async(t,i)=>{try{await qh(ni(Dt,"vestidosbanio",t),i),this.loadImages()}catch(o){console.error("Error al actualizar la imagen:",o)}});this.state={uploadValue:0,images:[],newName:"",newDescription:"",newPrice:""}}async componentDidMount(){this.loadImages()}async loadImages(){const t=$s(hr(Dt,"vestidosbanio"),Hs("createdAt","desc")),o=(await qs(t)).docs.map(a=>({id:a.id,...a.data()}));this.setState({images:o})}render(){return P.jsxs("section",{children:[P.jsx("div",{children:P.jsx(du,{})}),P.jsxs("section",{className:"upload-section",children:[P.jsxs("div",{className:"upload-container",children:[P.jsx("h2",{children:"Administrador de Imágenes"}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Nombre",value:this.state.newName,onChange:t=>this.setState({newName:t.target.value})}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Descripción",value:this.state.newDescription,onChange:t=>this.setState({newDescription:t.target.value})}),P.jsx("input",{type:"number",className:"input-field",placeholder:"Precio",value:this.state.newPrice,onChange:t=>this.setState({newPrice:t.target.value})}),P.jsx("br",{}),P.jsx("input",{type:"file",className:"file-input",onChange:this.handleUpload}),P.jsx("progress",{className:"progress-bar",value:this.state.uploadValue,max:"100"}),P.jsx("div",{className:"image-gallery",children:this.state.images.map(t=>P.jsxs("div",{className:"image-card",children:[P.jsx("img",{src:t.url,alt:t.name}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.name,onBlur:i=>this.handleEdit(t.id,{name:i.target.value})}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.description,onBlur:i=>this.handleEdit(t.id,{description:i.target.value})}),P.jsx("input",{type:"number",className:"edit-input",defaultValue:t.price,onBlur:i=>this.handleEdit(t.id,{price:i.target.value})}),P.jsx("button",{className:"delete-button",onClick:()=>this.handleDelete(t.id,t.path),children:"Eliminar"})]},t.id))})]}),P.jsx(ii,{})]})]})}}class u2 extends K.Component{constructor(){super();Hn(this,"handleUpload",t=>{const i=t.target.files[0];if(!i)return;const o=xs(Ms,`otros/${i.name}`),a=Th(o,i);a.on("state_changed",c=>{let d=c.bytesTransferred/c.totalBytes*100;this.setState({uploadValue:d})},c=>{console.error("Error al subir archivo:",c)},async()=>{const c=await Ih(a.snapshot.ref);await Kh(hr(Dt,"otros"),{url:c,path:o.fullPath,name:this.state.newName,description:this.state.newDescription,price:this.state.newPrice,createdAt:Qh()}),this.setState({newName:"",newDescription:"",newPrice:"",uploadValue:0}),this.loadImages()})});Hn(this,"handleDelete",async(t,i)=>{try{await Sh(xs(Ms,i)),await Wh(ni(Dt,"otros",t)),this.loadImages()}catch(o){console.error("Error al eliminar la imagen:",o)}});Hn(this,"handleEdit",async(t,i)=>{try{await qh(ni(Dt,"otros",t),i),this.loadImages()}catch(o){console.error("Error al actualizar la imagen:",o)}});this.state={uploadValue:0,images:[],newName:"",newDescription:"",newPrice:""}}async componentDidMount(){this.loadImages()}async loadImages(){const t=$s(hr(Dt,"otros"),Hs("createdAt","desc")),o=(await qs(t)).docs.map(a=>({id:a.id,...a.data()}));this.setState({images:o})}render(){return P.jsxs("section",{children:[P.jsx(du,{}),P.jsxs("section",{className:"upload-section",children:[P.jsxs("div",{className:"upload-container",children:[P.jsx("h2",{children:"Administrador de Imágenes"}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Nombre",value:this.state.newName,onChange:t=>this.setState({newName:t.target.value})}),P.jsx("input",{type:"text",className:"input-field",placeholder:"Descripción",value:this.state.newDescription,onChange:t=>this.setState({newDescription:t.target.value})}),P.jsx("input",{type:"number",className:"input-field",placeholder:"Precio",value:this.state.newPrice,onChange:t=>this.setState({newPrice:t.target.value})}),P.jsx("br",{}),P.jsx("input",{type:"file",className:"file-input",onChange:this.handleUpload}),P.jsx("progress",{className:"progress-bar",value:this.state.uploadValue,max:"100"}),P.jsx("div",{className:"image-gallery",children:this.state.images.map(t=>P.jsxs("div",{className:"image-card",children:[P.jsx("img",{src:t.url,alt:t.name}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.name,onBlur:i=>this.handleEdit(t.id,{name:i.target.value})}),P.jsx("input",{type:"text",className:"edit-input",defaultValue:t.description,onBlur:i=>this.handleEdit(t.id,{description:i.target.value})}),P.jsx("input",{type:"number",className:"edit-input",defaultValue:t.price,onBlur:i=>this.handleEdit(t.id,{price:i.target.value})}),P.jsx("button",{className:"delete-button",onClick:()=>this.handleDelete(t.id,t.path),children:"Eliminar"})]},t.id))})]}),P.jsx(ii,{})]})]})}}let c2=sS([{path:"/",element:P.jsx(e2,{}),errorElement:P.jsx(ErrorPage,{})},{path:"/todo",element:P.jsx(t2,{})},{path:"/lenceria",element:P.jsx(n2,{})},{path:"/vestidos",element:P.jsx(r2,{})},{path:"/contacto",element:P.jsx(xS,{})},{path:"/login",element:P.jsx(i2,{})},{path:"/register",element:P.jsx(s2,{})},{path:"/admin",element:P.jsx(a2,{})},{path:"/lenceriaAdmi",element:P.jsx(o2,{})},{path:"vestidosAdmi",element:P.jsx(l2,{})},{path:"/todoAdmi",element:P.jsx(u2,{})},{path:"/new-collection",element:P.jsx(sT,{})},{path:"/newAdmin",element:P.jsx(ZD,{})}],{basename:"/Intimos_Ponce/"});_I.createRoot(document.getElementById("root")).render(P.jsx(K.StrictMode,{children:P.jsx(_S,{router:c2})}));
